// Generated by Construct 3, the game and app creator :: https://www.construct.net
'use strict';var ya;"use strict";var Ta=this;
function Xa(e){function b(g,m,t){var x=m[0],A=m[1],D=m[2];m=m[3];var F=t[0],J=t[1],L=t[2];t=t[3];g[0]=x*F+D*J;g[1]=A*F+m*J;g[2]=x*L+D*t;g[3]=A*L+m*t;return g}function a(g,m,t){g[0]=m[0]-t[0];g[1]=m[1]-t[1];g[2]=m[2]-t[2];g[3]=m[3]-t[3];return g}function d(g,m,t){var x=m[0],A=m[1],D=m[2],F=m[3],J=m[4];m=m[5];var L=t[0],O=t[1],S=t[2],T=t[3],X=t[4];t=t[5];g[0]=x*L+D*O;g[1]=A*L+F*O;g[2]=x*S+D*T;g[3]=A*S+F*T;g[4]=x*X+D*t+J;g[5]=A*X+F*t+m;return g}function c(g,m,t){g[0]=m[0]-t[0];g[1]=m[1]-t[1];g[2]=m[2]-
t[2];g[3]=m[3]-t[3];g[4]=m[4]-t[4];g[5]=m[5]-t[5];return g}function f(){var g=new qa(9);qa!=Float32Array&&(g[1]=0,g[2]=0,g[3]=0,g[5]=0,g[6]=0,g[7]=0);g[0]=1;g[4]=1;g[8]=1;return g}function k(g,m,t){var x=m[0],A=m[1],D=m[2],F=m[3],J=m[4],L=m[5],O=m[6],S=m[7];m=m[8];var T=t[0],X=t[1],W=t[2],fa=t[3],da=t[4],aa=t[5],ua=t[6],pa=t[7];t=t[8];g[0]=T*x+X*F+W*O;g[1]=T*A+X*J+W*S;g[2]=T*D+X*L+W*m;g[3]=fa*x+da*F+aa*O;g[4]=fa*A+da*J+aa*S;g[5]=fa*D+da*L+aa*m;g[6]=ua*x+pa*F+t*O;g[7]=ua*A+pa*J+t*S;g[8]=ua*D+pa*L+
t*m;return g}function h(g,m,t){g[0]=m[0]-t[0];g[1]=m[1]-t[1];g[2]=m[2]-t[2];g[3]=m[3]-t[3];g[4]=m[4]-t[4];g[5]=m[5]-t[5];g[6]=m[6]-t[6];g[7]=m[7]-t[7];g[8]=m[8]-t[8];return g}function l(g){g[0]=1;g[1]=0;g[2]=0;g[3]=0;g[4]=0;g[5]=1;g[6]=0;g[7]=0;g[8]=0;g[9]=0;g[10]=1;g[11]=0;g[12]=0;g[13]=0;g[14]=0;g[15]=1;return g}function n(g,m,t){var x=m[0],A=m[1],D=m[2],F=m[3],J=m[4],L=m[5],O=m[6],S=m[7],T=m[8],X=m[9],W=m[10],fa=m[11],da=m[12],aa=m[13],ua=m[14];m=m[15];var pa=t[0],sa=t[1],ta=t[2],ra=t[3];g[0]=
pa*x+sa*J+ta*T+ra*da;g[1]=pa*A+sa*L+ta*X+ra*aa;g[2]=pa*D+sa*O+ta*W+ra*ua;g[3]=pa*F+sa*S+ta*fa+ra*m;pa=t[4];sa=t[5];ta=t[6];ra=t[7];g[4]=pa*x+sa*J+ta*T+ra*da;g[5]=pa*A+sa*L+ta*X+ra*aa;g[6]=pa*D+sa*O+ta*W+ra*ua;g[7]=pa*F+sa*S+ta*fa+ra*m;pa=t[8];sa=t[9];ta=t[10];ra=t[11];g[8]=pa*x+sa*J+ta*T+ra*da;g[9]=pa*A+sa*L+ta*X+ra*aa;g[10]=pa*D+sa*O+ta*W+ra*ua;g[11]=pa*F+sa*S+ta*fa+ra*m;pa=t[12];sa=t[13];ta=t[14];ra=t[15];g[12]=pa*x+sa*J+ta*T+ra*da;g[13]=pa*A+sa*L+ta*X+ra*aa;g[14]=pa*D+sa*O+ta*W+ra*ua;g[15]=pa*
F+sa*S+ta*fa+ra*m;return g}function p(g,m,t){var x=m[0],A=m[1],D=m[2],F=m[3],J=x+x,L=A+A,O=D+D;m=x*J;var S=x*L;x*=O;var T=A*L;A*=O;D*=O;J*=F;L*=F;F*=O;g[0]=1-(T+D);g[1]=S+F;g[2]=x-L;g[3]=0;g[4]=S-F;g[5]=1-(m+D);g[6]=A+J;g[7]=0;g[8]=x+L;g[9]=A-J;g[10]=1-(m+T);g[11]=0;g[12]=t[0];g[13]=t[1];g[14]=t[2];g[15]=1;return g}function u(g,m){g[0]=m[12];g[1]=m[13];g[2]=m[14];return g}function q(g,m){var t=m[4],x=m[5],A=m[6],D=m[8],F=m[9],J=m[10];g[0]=Math.hypot(m[0],m[1],m[2]);g[1]=Math.hypot(t,x,A);g[2]=Math.hypot(D,
F,J);return g}function v(g,m){var t=new qa(3);q(t,m);var x=1/t[0],A=1/t[1],D=1/t[2],F=m[0]*x;t=m[1]*A;var J=m[2]*D,L=m[4]*x,O=m[5]*A,S=m[6]*D;x*=m[8];A*=m[9];m=m[10]*D;D=F+O+m;0<D?(F=2*Math.sqrt(D+1),g[3]=.25*F,g[0]=(S-A)/F,g[1]=(x-J)/F,g[2]=(t-L)/F):F>O&&F>m?(F=2*Math.sqrt(1+F-O-m),g[3]=(S-A)/F,g[0]=.25*F,g[1]=(t+L)/F,g[2]=(x+J)/F):O>m?(F=2*Math.sqrt(1+O-F-m),g[3]=(x-J)/F,g[0]=(t+L)/F,g[1]=.25*F,g[2]=(S+A)/F):(F=2*Math.sqrt(1+m-F-O),g[3]=(t-L)/F,g[0]=(x+J)/F,g[1]=(S+A)/F,g[2]=.25*F);return g}function r(g,
m,t){g[0]=m[0]-t[0];g[1]=m[1]-t[1];g[2]=m[2]-t[2];g[3]=m[3]-t[3];g[4]=m[4]-t[4];g[5]=m[5]-t[5];g[6]=m[6]-t[6];g[7]=m[7]-t[7];g[8]=m[8]-t[8];g[9]=m[9]-t[9];g[10]=m[10]-t[10];g[11]=m[11]-t[11];g[12]=m[12]-t[12];g[13]=m[13]-t[13];g[14]=m[14]-t[14];g[15]=m[15]-t[15];return g}function w(){var g=new qa(3);qa!=Float32Array&&(g[0]=0,g[1]=0,g[2]=0);return g}function y(g){return Math.hypot(g[0],g[1],g[2])}function z(g,m,t){var x=new qa(3);x[0]=g;x[1]=m;x[2]=t;return x}function E(g,m,t){g[0]=m[0]-t[0];g[1]=
m[1]-t[1];g[2]=m[2]-t[2];return g}function G(g,m,t){g[0]=m[0]*t[0];g[1]=m[1]*t[1];g[2]=m[2]*t[2];return g}function P(g,m,t){g[0]=m[0]/t[0];g[1]=m[1]/t[1];g[2]=m[2]/t[2];return g}function C(g,m){return Math.hypot(m[0]-g[0],m[1]-g[1],m[2]-g[2])}function H(g,m){var t=m[0]-g[0],x=m[1]-g[1];g=m[2]-g[2];return t*t+x*x+g*g}function I(g){var m=g[0],t=g[1];g=g[2];return m*m+t*t+g*g}function M(g,m){var t=m[0],x=m[1],A=m[2];t=t*t+x*x+A*A;0<t&&(t=1/Math.sqrt(t));g[0]=m[0]*t;g[1]=m[1]*t;g[2]=m[2]*t;return g}function Q(g,
m){return g[0]*m[0]+g[1]*m[1]+g[2]*m[2]}function R(g,m,t){var x=m[0],A=m[1];m=m[2];var D=t[0],F=t[1];t=t[2];g[0]=A*t-m*F;g[1]=m*D-x*t;g[2]=x*F-A*D;return g}function V(){var g=new qa(4);qa!=Float32Array&&(g[0]=0,g[1]=0,g[2]=0,g[3]=0);return g}function Z(g){var m=new qa(4);m[0]=g[0];m[1]=g[1];m[2]=g[2];m[3]=g[3];return m}function ca(g,m,t,x){var A=new qa(4);A[0]=g;A[1]=m;A[2]=t;A[3]=x;return A}function Y(g,m){g[0]=m[0];g[1]=m[1];g[2]=m[2];g[3]=m[3];return g}function ha(g,m,t,x,A){g[0]=m;g[1]=t;g[2]=
x;g[3]=A;return g}function ka(g,m,t){g[0]=m[0]+t[0];g[1]=m[1]+t[1];g[2]=m[2]+t[2];g[3]=m[3]+t[3];return g}function za(g,m,t){g[0]=m[0]-t[0];g[1]=m[1]-t[1];g[2]=m[2]-t[2];g[3]=m[3]-t[3];return g}function Oa(g,m,t){g[0]=m[0]*t[0];g[1]=m[1]*t[1];g[2]=m[2]*t[2];g[3]=m[3]*t[3];return g}function ab(g,m,t){g[0]=m[0]/t[0];g[1]=m[1]/t[1];g[2]=m[2]/t[2];g[3]=m[3]/t[3];return g}function Ua(g,m,t){g[0]=m[0]*t;g[1]=m[1]*t;g[2]=m[2]*t;g[3]=m[3]*t;return g}function bb(g,m){return Math.hypot(m[0]-g[0],m[1]-g[1],
m[2]-g[2],m[3]-g[3])}function mb(g,m){var t=m[0]-g[0],x=m[1]-g[1],A=m[2]-g[2];g=m[3]-g[3];return t*t+x*x+A*A+g*g}function Va(g){return Math.hypot(g[0],g[1],g[2],g[3])}function Pa(g){var m=g[0],t=g[1],x=g[2];g=g[3];return m*m+t*t+x*x+g*g}function fb(g,m){var t=m[0],x=m[1],A=m[2];m=m[3];var D=t*t+x*x+A*A+m*m;0<D&&(D=1/Math.sqrt(D));g[0]=t*D;g[1]=x*D;g[2]=A*D;g[3]=m*D;return g}function cb(g,m){return g[0]*m[0]+g[1]*m[1]+g[2]*m[2]+g[3]*m[3]}function ub(g,m,t,x){var A=m[0],D=m[1],F=m[2];m=m[3];g[0]=A+
x*(t[0]-A);g[1]=D+x*(t[1]-D);g[2]=F+x*(t[2]-F);g[3]=m+x*(t[3]-m);return g}function vb(g,m){return g[0]===m[0]&&g[1]===m[1]&&g[2]===m[2]&&g[3]===m[3]}function wb(g,m){var t=g[0],x=g[1],A=g[2];g=g[3];var D=m[0],F=m[1],J=m[2];m=m[3];return Math.abs(t-D)<=1E-6*Math.max(1,Math.abs(t),Math.abs(D))&&Math.abs(x-F)<=1E-6*Math.max(1,Math.abs(x),Math.abs(F))&&Math.abs(A-J)<=1E-6*Math.max(1,Math.abs(A),Math.abs(J))&&Math.abs(g-m)<=1E-6*Math.max(1,Math.abs(g),Math.abs(m))}function gb(){var g=new qa(4);qa!=Float32Array&&
(g[0]=0,g[1]=0,g[2]=0);g[3]=1;return g}function xb(g,m,t){t*=.5;var x=Math.sin(t);g[0]=x*m[0];g[1]=x*m[1];g[2]=x*m[2];g[3]=Math.cos(t);return g}function yb(g,m,t){var x=m[0],A=m[1],D=m[2];m=m[3];var F=t[0],J=t[1],L=t[2];t=t[3];g[0]=x*t+m*F+A*L-D*J;g[1]=A*t+m*J+D*F-x*L;g[2]=D*t+m*L+x*J-A*F;g[3]=m*t-x*F-A*J-D*L;return g}function zb(g,m,t){t*=.5;var x=m[0],A=m[1],D=m[2];m=m[3];var F=Math.sin(t);t=Math.cos(t);g[0]=x*t+m*F;g[1]=A*t+D*F;g[2]=D*t-A*F;g[3]=m*t-x*F;return g}function Ab(g,m,t){t*=.5;var x=
m[0],A=m[1],D=m[2];m=m[3];var F=Math.sin(t);t=Math.cos(t);g[0]=x*t-D*F;g[1]=A*t+m*F;g[2]=D*t+x*F;g[3]=m*t-A*F;return g}function Bb(g,m,t){t*=.5;var x=m[0],A=m[1],D=m[2];m=m[3];var F=Math.sin(t);t=Math.cos(t);g[0]=x*t+A*F;g[1]=A*t-x*F;g[2]=D*t+m*F;g[3]=m*t-D*F;return g}function Cb(g,m){var t=m[0],x=m[1],A=m[2],D=Math.sqrt(t*t+x*x+A*A);m=Math.exp(m[3]);var F=0<D?m*Math.sin(D)/D:0;g[0]=t*F;g[1]=x*F;g[2]=A*F;g[3]=m*Math.cos(D);return g}function Db(g,m){var t=m[0],x=m[1],A=m[2];m=m[3];var D=Math.sqrt(t*
t+x*x+A*A);D=0<D?Math.atan2(D,m)/D:0;g[0]=t*D;g[1]=x*D;g[2]=A*D;g[3]=.5*Math.log(t*t+x*x+A*A+m*m);return g}function hb(g,m,t,x){var A=m[0],D=m[1],F=m[2];m=m[3];var J=t[0],L=t[1],O=t[2];t=t[3];var S=A*J+D*L+F*O+m*t;0>S&&(S=-S,J=-J,L=-L,O=-O,t=-t);if(1E-6<1-S){var T=Math.acos(S);var X=Math.sin(T);S=Math.sin((1-x)*T)/X;x=Math.sin(x*T)/X}else S=1-x;g[0]=S*A+x*J;g[1]=S*D+x*L;g[2]=S*F+x*O;g[3]=S*m+x*t;return g}function Eb(g,m){var t=m[0]+m[4]+m[8];if(0<t)t=Math.sqrt(t+1),g[3]=.5*t,t=.5/t,g[0]=(m[5]-m[7])*
t,g[1]=(m[6]-m[2])*t,g[2]=(m[1]-m[3])*t;else{var x=0;m[4]>m[0]&&(x=1);m[8]>m[3*x+x]&&(x=2);var A=(x+1)%3,D=(x+2)%3;t=Math.sqrt(m[3*x+x]-m[3*A+A]-m[3*D+D]+1);g[x]=.5*t;t=.5/t;g[3]=(m[3*A+D]-m[3*D+A])*t;g[A]=(m[3*A+x]+m[3*x+A])*t;g[D]=(m[3*D+x]+m[3*x+D])*t}return g}function Fb(g,m,t){var x=.5*t[0],A=.5*t[1];t=.5*t[2];var D=m[0],F=m[1],J=m[2];m=m[3];g[0]=D;g[1]=F;g[2]=J;g[3]=m;g[4]=x*m+A*J-t*F;g[5]=A*m+t*D-x*J;g[6]=t*m+x*F-A*D;g[7]=-x*D-A*F-t*J;return g}function Gb(g,m){g[0]=m[0];g[1]=m[1];g[2]=m[2];
g[3]=m[3];g[4]=m[4];g[5]=m[5];g[6]=m[6];g[7]=m[7];return g}function Hb(g,m,t){var x=m[0],A=m[1],D=m[2],F=m[3],J=t[4],L=t[5],O=t[6],S=t[7],T=m[4],X=m[5],W=m[6];m=m[7];var fa=t[0],da=t[1],aa=t[2];t=t[3];g[0]=x*t+F*fa+A*aa-D*da;g[1]=A*t+F*da+D*fa-x*aa;g[2]=D*t+F*aa+x*da-A*fa;g[3]=F*t-x*fa-A*da-D*aa;g[4]=x*S+F*J+A*O-D*L+T*t+m*fa+X*aa-W*da;g[5]=A*S+F*L+D*J-x*O+X*t+m*da+W*fa-T*aa;g[6]=D*S+F*O+x*L-A*J+W*t+m*aa+T*da-X*fa;g[7]=F*S-x*J-A*L-D*O+m*t-T*fa-X*da-W*aa;return g}function ib(){var g=new qa(2);qa!=Float32Array&&
(g[0]=0,g[1]=0);return g}function Sa(g,m,t){g[0]=m[0]-t[0];g[1]=m[1]-t[1];return g}function jb(g,m,t){g[0]=m[0]*t[0];g[1]=m[1]*t[1];return g}function kb(g,m,t){g[0]=m[0]/t[0];g[1]=m[1]/t[1];return g}function Wa(g,m){return Math.hypot(m[0]-g[0],m[1]-g[1])}function lb(g,m){var t=m[0]-g[0];g=m[1]-g[1];return t*t+g*g}function Ma(g){return Math.hypot(g[0],g[1])}function nb(g){var m=g[0];g=g[1];return m*m+g*g}var qa="undefined"!==typeof Float32Array?Float32Array:Array,Ka=Math.random,Ib=Math.PI/180;Math.hypot||
(Math.hypot=function(){for(var g=0,m=arguments.length;m--;)g+=arguments[m]*arguments[m];return Math.sqrt(g)});var Ob=Object.freeze({__proto__:null,EPSILON:1E-6,get Mia(){return qa},toa:Ka,Cva:function(g){qa=g},Mva:function(g){return g*Ib},vd:function(g,m){return Math.abs(g-m)<=1E-6*Math.max(1,Math.abs(g),Math.abs(m))}}),Pb=Object.freeze({__proto__:null,create:function(){var g=new qa(4);qa!=Float32Array&&(g[1]=0,g[2]=0);g[0]=1;g[3]=1;return g},clone:function(g){var m=new qa(4);m[0]=g[0];m[1]=g[1];
m[2]=g[2];m[3]=g[3];return m},Ba:function(g,m){g[0]=m[0];g[1]=m[1];g[2]=m[2];g[3]=m[3];return g},ty:function(g){g[0]=1;g[1]=0;g[2]=0;g[3]=1;return g},fg:function(g,m,t,x){var A=new qa(4);A[0]=g;A[1]=m;A[2]=t;A[3]=x;return A},set:function(g,m,t,x,A){g[0]=m;g[1]=t;g[2]=x;g[3]=A;return g},QX:function(g,m){if(g===m){var t=m[1];g[1]=m[2];g[2]=t}else g[0]=m[0],g[1]=m[2],g[2]=m[1],g[3]=m[3];return g},Pt:function(g,m){var t=m[0],x=m[1],A=m[2];m=m[3];var D=t*m-A*x;if(!D)return null;D=1/D;g[0]=m*D;g[1]=-x*
D;g[2]=-A*D;g[3]=t*D;return g},ZW:function(g,m){var t=m[0];g[0]=m[3];g[1]=-m[1];g[2]=-m[2];g[3]=t;return g},lM:function(g){return g[0]*g[3]-g[2]*g[1]},multiply:b,rotate:function(g,m,t){var x=m[0],A=m[1],D=m[2];m=m[3];var F=Math.sin(t);t=Math.cos(t);g[0]=x*t+D*F;g[1]=A*t+m*F;g[2]=x*-F+D*t;g[3]=A*-F+m*t;return g},scale:function(g,m,t){var x=m[1],A=m[2],D=m[3],F=t[0];t=t[1];g[0]=m[0]*F;g[1]=x*F;g[2]=A*t;g[3]=D*t;return g},SD:function(g,m){var t=Math.sin(m);m=Math.cos(m);g[0]=m;g[1]=t;g[2]=-t;g[3]=m;
return g},oM:function(g,m){g[0]=m[0];g[1]=0;g[2]=0;g[3]=m[1];return g},Sm:function(g){return"mat2("+g[0]+", "+g[1]+", "+g[2]+", "+g[3]+")"},nM:function(g){return Math.hypot(g[0],g[1],g[2],g[3])},Ama:function(g,m,t,x){g[2]=x[2]/x[0];t[0]=x[0];t[1]=x[1];t[3]=x[3]-g[2]*t[1];return[g,m,t]},add:function(g,m,t){g[0]=m[0]+t[0];g[1]=m[1]+t[1];g[2]=m[2]+t[2];g[3]=m[3]+t[3];return g},Tm:a,Uj:function(g,m){return g[0]===m[0]&&g[1]===m[1]&&g[2]===m[2]&&g[3]===m[3]},vd:function(g,m){var t=g[0],x=g[1],A=g[2];g=
g[3];var D=m[0],F=m[1],J=m[2];m=m[3];return Math.abs(t-D)<=1E-6*Math.max(1,Math.abs(t),Math.abs(D))&&Math.abs(x-F)<=1E-6*Math.max(1,Math.abs(x),Math.abs(F))&&Math.abs(A-J)<=1E-6*Math.max(1,Math.abs(A),Math.abs(J))&&Math.abs(g-m)<=1E-6*Math.max(1,Math.abs(g),Math.abs(m))},BM:function(g,m,t){g[0]=m[0]*t;g[1]=m[1]*t;g[2]=m[2]*t;g[3]=m[3]*t;return g},CM:function(g,m,t,x){g[0]=m[0]+t[0]*x;g[1]=m[1]+t[1]*x;g[2]=m[2]+t[2]*x;g[3]=m[3]+t[3]*x;return g},Uo:b,sub:a}),Qb=Object.freeze({__proto__:null,create:function(){var g=
new qa(6);qa!=Float32Array&&(g[1]=0,g[2]=0,g[4]=0,g[5]=0);g[0]=1;g[3]=1;return g},clone:function(g){var m=new qa(6);m[0]=g[0];m[1]=g[1];m[2]=g[2];m[3]=g[3];m[4]=g[4];m[5]=g[5];return m},Ba:function(g,m){g[0]=m[0];g[1]=m[1];g[2]=m[2];g[3]=m[3];g[4]=m[4];g[5]=m[5];return g},ty:function(g){g[0]=1;g[1]=0;g[2]=0;g[3]=1;g[4]=0;g[5]=0;return g},fg:function(g,m,t,x,A,D){var F=new qa(6);F[0]=g;F[1]=m;F[2]=t;F[3]=x;F[4]=A;F[5]=D;return F},set:function(g,m,t,x,A,D,F){g[0]=m;g[1]=t;g[2]=x;g[3]=A;g[4]=D;g[5]=
F;return g},Pt:function(g,m){var t=m[0],x=m[1],A=m[2],D=m[3],F=m[4];m=m[5];var J=t*D-x*A;if(!J)return null;J=1/J;g[0]=D*J;g[1]=-x*J;g[2]=-A*J;g[3]=t*J;g[4]=(A*m-D*F)*J;g[5]=(x*F-t*m)*J;return g},lM:function(g){return g[0]*g[3]-g[1]*g[2]},multiply:d,rotate:function(g,m,t){var x=m[0],A=m[1],D=m[2],F=m[3],J=m[4];m=m[5];var L=Math.sin(t);t=Math.cos(t);g[0]=x*t+D*L;g[1]=A*t+F*L;g[2]=x*-L+D*t;g[3]=A*-L+F*t;g[4]=J;g[5]=m;return g},scale:function(g,m,t){var x=m[1],A=m[2],D=m[3],F=m[4],J=m[5],L=t[0];t=t[1];
g[0]=m[0]*L;g[1]=x*L;g[2]=A*t;g[3]=D*t;g[4]=F;g[5]=J;return g},translate:function(g,m,t){var x=m[0],A=m[1],D=m[2],F=m[3],J=m[4];m=m[5];var L=t[0];t=t[1];g[0]=x;g[1]=A;g[2]=D;g[3]=F;g[4]=x*L+D*t+J;g[5]=A*L+F*t+m;return g},SD:function(g,m){var t=Math.sin(m);m=Math.cos(m);g[0]=m;g[1]=t;g[2]=-t;g[3]=m;g[4]=0;g[5]=0;return g},oM:function(g,m){g[0]=m[0];g[1]=0;g[2]=0;g[3]=m[1];g[4]=0;g[5]=0;return g},pM:function(g,m){g[0]=1;g[1]=0;g[2]=0;g[3]=1;g[4]=m[0];g[5]=m[1];return g},Sm:function(g){return"mat2d("+
g[0]+", "+g[1]+", "+g[2]+", "+g[3]+", "+g[4]+", "+g[5]+")"},nM:function(g){return Math.hypot(g[0],g[1],g[2],g[3],g[4],g[5],1)},add:function(g,m,t){g[0]=m[0]+t[0];g[1]=m[1]+t[1];g[2]=m[2]+t[2];g[3]=m[3]+t[3];g[4]=m[4]+t[4];g[5]=m[5]+t[5];return g},Tm:c,BM:function(g,m,t){g[0]=m[0]*t;g[1]=m[1]*t;g[2]=m[2]*t;g[3]=m[3]*t;g[4]=m[4]*t;g[5]=m[5]*t;return g},CM:function(g,m,t,x){g[0]=m[0]+t[0]*x;g[1]=m[1]+t[1]*x;g[2]=m[2]+t[2]*x;g[3]=m[3]+t[3]*x;g[4]=m[4]+t[4]*x;g[5]=m[5]+t[5]*x;return g},Uj:function(g,m){return g[0]===
m[0]&&g[1]===m[1]&&g[2]===m[2]&&g[3]===m[3]&&g[4]===m[4]&&g[5]===m[5]},vd:function(g,m){var t=g[0],x=g[1],A=g[2],D=g[3],F=g[4];g=g[5];var J=m[0],L=m[1],O=m[2],S=m[3],T=m[4];m=m[5];return Math.abs(t-J)<=1E-6*Math.max(1,Math.abs(t),Math.abs(J))&&Math.abs(x-L)<=1E-6*Math.max(1,Math.abs(x),Math.abs(L))&&Math.abs(A-O)<=1E-6*Math.max(1,Math.abs(A),Math.abs(O))&&Math.abs(D-S)<=1E-6*Math.max(1,Math.abs(D),Math.abs(S))&&Math.abs(F-T)<=1E-6*Math.max(1,Math.abs(F),Math.abs(T))&&Math.abs(g-m)<=1E-6*Math.max(1,
Math.abs(g),Math.abs(m))},Uo:d,sub:c}),Rb=Object.freeze({__proto__:null,create:f,oha:function(g,m){g[0]=m[0];g[1]=m[1];g[2]=m[2];g[3]=m[4];g[4]=m[5];g[5]=m[6];g[6]=m[8];g[7]=m[9];g[8]=m[10];return g},clone:function(g){var m=new qa(9);m[0]=g[0];m[1]=g[1];m[2]=g[2];m[3]=g[3];m[4]=g[4];m[5]=g[5];m[6]=g[6];m[7]=g[7];m[8]=g[8];return m},Ba:function(g,m){g[0]=m[0];g[1]=m[1];g[2]=m[2];g[3]=m[3];g[4]=m[4];g[5]=m[5];g[6]=m[6];g[7]=m[7];g[8]=m[8];return g},fg:function(g,m,t,x,A,D,F,J,L){var O=new qa(9);O[0]=
g;O[1]=m;O[2]=t;O[3]=x;O[4]=A;O[5]=D;O[6]=F;O[7]=J;O[8]=L;return O},set:function(g,m,t,x,A,D,F,J,L,O){g[0]=m;g[1]=t;g[2]=x;g[3]=A;g[4]=D;g[5]=F;g[6]=J;g[7]=L;g[8]=O;return g},ty:function(g){g[0]=1;g[1]=0;g[2]=0;g[3]=0;g[4]=1;g[5]=0;g[6]=0;g[7]=0;g[8]=1;return g},QX:function(g,m){if(g===m){var t=m[1],x=m[2],A=m[5];g[1]=m[3];g[2]=m[6];g[3]=t;g[5]=m[7];g[6]=x;g[7]=A}else g[0]=m[0],g[1]=m[3],g[2]=m[6],g[3]=m[1],g[4]=m[4],g[5]=m[7],g[6]=m[2],g[7]=m[5],g[8]=m[8];return g},Pt:function(g,m){var t=m[0],x=
m[1],A=m[2],D=m[3],F=m[4],J=m[5],L=m[6],O=m[7];m=m[8];var S=m*F-J*O,T=-m*D+J*L,X=O*D-F*L,W=t*S+x*T+A*X;if(!W)return null;W=1/W;g[0]=S*W;g[1]=(-m*x+A*O)*W;g[2]=(J*x-A*F)*W;g[3]=T*W;g[4]=(m*t-A*L)*W;g[5]=(-J*t+A*D)*W;g[6]=X*W;g[7]=(-O*t+x*L)*W;g[8]=(F*t-x*D)*W;return g},ZW:function(g,m){var t=m[0],x=m[1],A=m[2],D=m[3],F=m[4],J=m[5],L=m[6],O=m[7];m=m[8];g[0]=F*m-J*O;g[1]=A*O-x*m;g[2]=x*J-A*F;g[3]=J*L-D*m;g[4]=t*m-A*L;g[5]=A*D-t*J;g[6]=D*O-F*L;g[7]=x*L-t*O;g[8]=t*F-x*D;return g},lM:function(g){var m=
g[3],t=g[4],x=g[5],A=g[6],D=g[7],F=g[8];return g[0]*(F*t-x*D)+g[1]*(-F*m+x*A)+g[2]*(D*m-t*A)},multiply:k,translate:function(g,m,t){var x=m[0],A=m[1],D=m[2],F=m[3],J=m[4],L=m[5],O=m[6],S=m[7];m=m[8];var T=t[0];t=t[1];g[0]=x;g[1]=A;g[2]=D;g[3]=F;g[4]=J;g[5]=L;g[6]=T*x+t*F+O;g[7]=T*A+t*J+S;g[8]=T*D+t*L+m;return g},rotate:function(g,m,t){var x=m[0],A=m[1],D=m[2],F=m[3],J=m[4],L=m[5],O=m[6],S=m[7];m=m[8];var T=Math.sin(t);t=Math.cos(t);g[0]=t*x+T*F;g[1]=t*A+T*J;g[2]=t*D+T*L;g[3]=t*F-T*x;g[4]=t*J-T*A;g[5]=
t*L-T*D;g[6]=O;g[7]=S;g[8]=m;return g},scale:function(g,m,t){var x=t[0];t=t[1];g[0]=x*m[0];g[1]=x*m[1];g[2]=x*m[2];g[3]=t*m[3];g[4]=t*m[4];g[5]=t*m[5];g[6]=m[6];g[7]=m[7];g[8]=m[8];return g},pM:function(g,m){g[0]=1;g[1]=0;g[2]=0;g[3]=0;g[4]=1;g[5]=0;g[6]=m[0];g[7]=m[1];g[8]=1;return g},SD:function(g,m){var t=Math.sin(m);m=Math.cos(m);g[0]=m;g[1]=t;g[2]=0;g[3]=-t;g[4]=m;g[5]=0;g[6]=0;g[7]=0;g[8]=1;return g},oM:function(g,m){g[0]=m[0];g[1]=0;g[2]=0;g[3]=0;g[4]=m[1];g[5]=0;g[6]=0;g[7]=0;g[8]=1;return g},
Eta:function(g,m){g[0]=m[0];g[1]=m[1];g[2]=0;g[3]=m[2];g[4]=m[3];g[5]=0;g[6]=m[4];g[7]=m[5];g[8]=1;return g},pha:function(g,m){var t=m[0],x=m[1],A=m[2];m=m[3];var D=t+t,F=x+x,J=A+A;t*=D;var L=x*D;x*=F;var O=A*D,S=A*F;A*=J;D*=m;F*=m;m*=J;g[0]=1-x-A;g[3]=L-m;g[6]=O+F;g[1]=L+m;g[4]=1-t-A;g[7]=S-D;g[2]=O-F;g[5]=S+D;g[8]=1-t-x;return g},Lua:function(g,m){var t=m[0],x=m[1],A=m[2],D=m[3],F=m[4],J=m[5],L=m[6],O=m[7],S=m[8],T=m[9],X=m[10],W=m[11],fa=m[12],da=m[13],aa=m[14];m=m[15];var ua=t*J-x*F,pa=t*L-A*
F,sa=t*O-D*F,ta=x*L-A*J,ra=x*O-D*J,Da=A*O-D*L,Ea=S*da-T*fa,Fa=S*aa-X*fa;S=S*m-W*fa;var Ga=T*aa-X*da;T=T*m-W*da;X=X*m-W*aa;W=ua*X-pa*T+sa*Ga+ta*S-ra*Fa+Da*Ea;if(!W)return null;W=1/W;g[0]=(J*X-L*T+O*Ga)*W;g[1]=(L*S-F*X-O*Fa)*W;g[2]=(F*T-J*S+O*Ea)*W;g[3]=(A*T-x*X-D*Ga)*W;g[4]=(t*X-A*S+D*Fa)*W;g[5]=(x*S-t*T-D*Ea)*W;g[6]=(da*Da-aa*ra+m*ta)*W;g[7]=(aa*sa-fa*Da-m*pa)*W;g[8]=(fa*ra-da*sa+m*ua)*W;return g},FX:function(g,m,t){g[0]=2/m;g[1]=0;g[2]=0;g[3]=0;g[4]=-2/t;g[5]=0;g[6]=-1;g[7]=1;g[8]=1;return g},Sm:function(g){return"mat3("+
g[0]+", "+g[1]+", "+g[2]+", "+g[3]+", "+g[4]+", "+g[5]+", "+g[6]+", "+g[7]+", "+g[8]+")"},nM:function(g){return Math.hypot(g[0],g[1],g[2],g[3],g[4],g[5],g[6],g[7],g[8])},add:function(g,m,t){g[0]=m[0]+t[0];g[1]=m[1]+t[1];g[2]=m[2]+t[2];g[3]=m[3]+t[3];g[4]=m[4]+t[4];g[5]=m[5]+t[5];g[6]=m[6]+t[6];g[7]=m[7]+t[7];g[8]=m[8]+t[8];return g},Tm:h,BM:function(g,m,t){g[0]=m[0]*t;g[1]=m[1]*t;g[2]=m[2]*t;g[3]=m[3]*t;g[4]=m[4]*t;g[5]=m[5]*t;g[6]=m[6]*t;g[7]=m[7]*t;g[8]=m[8]*t;return g},CM:function(g,m,t,x){g[0]=
m[0]+t[0]*x;g[1]=m[1]+t[1]*x;g[2]=m[2]+t[2]*x;g[3]=m[3]+t[3]*x;g[4]=m[4]+t[4]*x;g[5]=m[5]+t[5]*x;g[6]=m[6]+t[6]*x;g[7]=m[7]+t[7]*x;g[8]=m[8]+t[8]*x;return g},Uj:function(g,m){return g[0]===m[0]&&g[1]===m[1]&&g[2]===m[2]&&g[3]===m[3]&&g[4]===m[4]&&g[5]===m[5]&&g[6]===m[6]&&g[7]===m[7]&&g[8]===m[8]},vd:function(g,m){var t=g[0],x=g[1],A=g[2],D=g[3],F=g[4],J=g[5],L=g[6],O=g[7];g=g[8];var S=m[0],T=m[1],X=m[2],W=m[3],fa=m[4],da=m[5],aa=m[6],ua=m[7];m=m[8];return Math.abs(t-S)<=1E-6*Math.max(1,Math.abs(t),
Math.abs(S))&&Math.abs(x-T)<=1E-6*Math.max(1,Math.abs(x),Math.abs(T))&&Math.abs(A-X)<=1E-6*Math.max(1,Math.abs(A),Math.abs(X))&&Math.abs(D-W)<=1E-6*Math.max(1,Math.abs(D),Math.abs(W))&&Math.abs(F-fa)<=1E-6*Math.max(1,Math.abs(F),Math.abs(fa))&&Math.abs(J-da)<=1E-6*Math.max(1,Math.abs(J),Math.abs(da))&&Math.abs(L-aa)<=1E-6*Math.max(1,Math.abs(L),Math.abs(aa))&&Math.abs(O-ua)<=1E-6*Math.max(1,Math.abs(O),Math.abs(ua))&&Math.abs(g-m)<=1E-6*Math.max(1,Math.abs(g),Math.abs(m))},Uo:k,sub:h}),Sb=Object.freeze({__proto__:null,
create:function(){var g=new qa(16);qa!=Float32Array&&(g[1]=0,g[2]=0,g[3]=0,g[4]=0,g[6]=0,g[7]=0,g[8]=0,g[9]=0,g[11]=0,g[12]=0,g[13]=0,g[14]=0);g[0]=1;g[5]=1;g[10]=1;g[15]=1;return g},clone:function(g){var m=new qa(16);m[0]=g[0];m[1]=g[1];m[2]=g[2];m[3]=g[3];m[4]=g[4];m[5]=g[5];m[6]=g[6];m[7]=g[7];m[8]=g[8];m[9]=g[9];m[10]=g[10];m[11]=g[11];m[12]=g[12];m[13]=g[13];m[14]=g[14];m[15]=g[15];return m},Ba:function(g,m){g[0]=m[0];g[1]=m[1];g[2]=m[2];g[3]=m[3];g[4]=m[4];g[5]=m[5];g[6]=m[6];g[7]=m[7];g[8]=
m[8];g[9]=m[9];g[10]=m[10];g[11]=m[11];g[12]=m[12];g[13]=m[13];g[14]=m[14];g[15]=m[15];return g},fg:function(g,m,t,x,A,D,F,J,L,O,S,T,X,W,fa,da){var aa=new qa(16);aa[0]=g;aa[1]=m;aa[2]=t;aa[3]=x;aa[4]=A;aa[5]=D;aa[6]=F;aa[7]=J;aa[8]=L;aa[9]=O;aa[10]=S;aa[11]=T;aa[12]=X;aa[13]=W;aa[14]=fa;aa[15]=da;return aa},set:function(g,m,t,x,A,D,F,J,L,O,S,T,X,W,fa,da,aa){g[0]=m;g[1]=t;g[2]=x;g[3]=A;g[4]=D;g[5]=F;g[6]=J;g[7]=L;g[8]=O;g[9]=S;g[10]=T;g[11]=X;g[12]=W;g[13]=fa;g[14]=da;g[15]=aa;return g},ty:l,QX:function(g,
m){if(g===m){var t=m[1],x=m[2],A=m[3],D=m[6],F=m[7],J=m[11];g[1]=m[4];g[2]=m[8];g[3]=m[12];g[4]=t;g[6]=m[9];g[7]=m[13];g[8]=x;g[9]=D;g[11]=m[14];g[12]=A;g[13]=F;g[14]=J}else g[0]=m[0],g[1]=m[4],g[2]=m[8],g[3]=m[12],g[4]=m[1],g[5]=m[5],g[6]=m[9],g[7]=m[13],g[8]=m[2],g[9]=m[6],g[10]=m[10],g[11]=m[14],g[12]=m[3],g[13]=m[7],g[14]=m[11],g[15]=m[15];return g},Pt:function(g,m){var t=m[0],x=m[1],A=m[2],D=m[3],F=m[4],J=m[5],L=m[6],O=m[7],S=m[8],T=m[9],X=m[10],W=m[11],fa=m[12],da=m[13],aa=m[14];m=m[15];var ua=
t*J-x*F,pa=t*L-A*F,sa=t*O-D*F,ta=x*L-A*J,ra=x*O-D*J,Da=A*O-D*L,Ea=S*da-T*fa,Fa=S*aa-X*fa,Ga=S*m-W*fa,Ia=T*aa-X*da,Qa=T*m-W*da,Ra=X*m-W*aa,Aa=ua*Ra-pa*Qa+sa*Ia+ta*Ga-ra*Fa+Da*Ea;if(!Aa)return null;Aa=1/Aa;g[0]=(J*Ra-L*Qa+O*Ia)*Aa;g[1]=(A*Qa-x*Ra-D*Ia)*Aa;g[2]=(da*Da-aa*ra+m*ta)*Aa;g[3]=(X*ra-T*Da-W*ta)*Aa;g[4]=(L*Ga-F*Ra-O*Fa)*Aa;g[5]=(t*Ra-A*Ga+D*Fa)*Aa;g[6]=(aa*sa-fa*Da-m*pa)*Aa;g[7]=(S*Da-X*sa+W*pa)*Aa;g[8]=(F*Qa-J*Ga+O*Ea)*Aa;g[9]=(x*Ga-t*Qa-D*Ea)*Aa;g[10]=(fa*ra-da*sa+m*ua)*Aa;g[11]=(T*sa-S*ra-
W*ua)*Aa;g[12]=(J*Fa-F*Ia-L*Ea)*Aa;g[13]=(t*Ia-x*Fa+A*Ea)*Aa;g[14]=(da*pa-fa*ta-aa*ua)*Aa;g[15]=(S*ta-T*pa+X*ua)*Aa;return g},ZW:function(g,m){var t=m[0],x=m[1],A=m[2],D=m[3],F=m[4],J=m[5],L=m[6],O=m[7],S=m[8],T=m[9],X=m[10],W=m[11],fa=m[12],da=m[13],aa=m[14];m=m[15];g[0]=J*(X*m-W*aa)-T*(L*m-O*aa)+da*(L*W-O*X);g[1]=-(x*(X*m-W*aa)-T*(A*m-D*aa)+da*(A*W-D*X));g[2]=x*(L*m-O*aa)-J*(A*m-D*aa)+da*(A*O-D*L);g[3]=-(x*(L*W-O*X)-J*(A*W-D*X)+T*(A*O-D*L));g[4]=-(F*(X*m-W*aa)-S*(L*m-O*aa)+fa*(L*W-O*X));g[5]=t*
(X*m-W*aa)-S*(A*m-D*aa)+fa*(A*W-D*X);g[6]=-(t*(L*m-O*aa)-F*(A*m-D*aa)+fa*(A*O-D*L));g[7]=t*(L*W-O*X)-F*(A*W-D*X)+S*(A*O-D*L);g[8]=F*(T*m-W*da)-S*(J*m-O*da)+fa*(J*W-O*T);g[9]=-(t*(T*m-W*da)-S*(x*m-D*da)+fa*(x*W-D*T));g[10]=t*(J*m-O*da)-F*(x*m-D*da)+fa*(x*O-D*J);g[11]=-(t*(J*W-O*T)-F*(x*W-D*T)+S*(x*O-D*J));g[12]=-(F*(T*aa-X*da)-S*(J*aa-L*da)+fa*(J*X-L*T));g[13]=t*(T*aa-X*da)-S*(x*aa-A*da)+fa*(x*X-A*T);g[14]=-(t*(J*aa-L*da)-F*(x*aa-A*da)+fa*(x*L-A*J));g[15]=t*(J*X-L*T)-F*(x*X-A*T)+S*(x*L-A*J);return g},
lM:function(g){var m=g[0],t=g[1],x=g[2],A=g[3],D=g[4],F=g[5],J=g[6],L=g[7],O=g[8],S=g[9],T=g[10],X=g[11],W=g[12],fa=g[13],da=g[14];g=g[15];return(m*F-t*D)*(T*g-X*da)-(m*J-x*D)*(S*g-X*fa)+(m*L-A*D)*(S*da-T*fa)+(t*J-x*F)*(O*g-X*W)-(t*L-A*F)*(O*da-T*W)+(x*L-A*J)*(O*fa-S*W)},multiply:n,translate:function(g,m,t){var x=t[0],A=t[1];t=t[2];if(m===g)g[12]=m[0]*x+m[4]*A+m[8]*t+m[12],g[13]=m[1]*x+m[5]*A+m[9]*t+m[13],g[14]=m[2]*x+m[6]*A+m[10]*t+m[14],g[15]=m[3]*x+m[7]*A+m[11]*t+m[15];else{var D=m[0];var F=m[1];
var J=m[2];var L=m[3];var O=m[4];var S=m[5];var T=m[6];var X=m[7];var W=m[8];var fa=m[9];var da=m[10];var aa=m[11];g[0]=D;g[1]=F;g[2]=J;g[3]=L;g[4]=O;g[5]=S;g[6]=T;g[7]=X;g[8]=W;g[9]=fa;g[10]=da;g[11]=aa;g[12]=D*x+O*A+W*t+m[12];g[13]=F*x+S*A+fa*t+m[13];g[14]=J*x+T*A+da*t+m[14];g[15]=L*x+X*A+aa*t+m[15]}return g},scale:function(g,m,t){var x=t[0],A=t[1];t=t[2];g[0]=m[0]*x;g[1]=m[1]*x;g[2]=m[2]*x;g[3]=m[3]*x;g[4]=m[4]*A;g[5]=m[5]*A;g[6]=m[6]*A;g[7]=m[7]*A;g[8]=m[8]*t;g[9]=m[9]*t;g[10]=m[10]*t;g[11]=m[11]*
t;g[12]=m[12];g[13]=m[13];g[14]=m[14];g[15]=m[15];return g},rotate:function(g,m,t,x){var A=x[0],D=x[1];x=x[2];var F=Math.hypot(A,D,x);if(1E-6>F)return null;F=1/F;A*=F;D*=F;x*=F;var J=Math.sin(t);var L=Math.cos(t);var O=1-L;t=m[0];F=m[1];var S=m[2];var T=m[3];var X=m[4];var W=m[5];var fa=m[6];var da=m[7];var aa=m[8];var ua=m[9];var pa=m[10];var sa=m[11];var ta=A*A*O+L;var ra=D*A*O+x*J;var Da=x*A*O-D*J;var Ea=A*D*O-x*J;var Fa=D*D*O+L;var Ga=x*D*O+A*J;var Ia=A*x*O+D*J;A=D*x*O-A*J;D=x*x*O+L;g[0]=t*ta+
X*ra+aa*Da;g[1]=F*ta+W*ra+ua*Da;g[2]=S*ta+fa*ra+pa*Da;g[3]=T*ta+da*ra+sa*Da;g[4]=t*Ea+X*Fa+aa*Ga;g[5]=F*Ea+W*Fa+ua*Ga;g[6]=S*Ea+fa*Fa+pa*Ga;g[7]=T*Ea+da*Fa+sa*Ga;g[8]=t*Ia+X*A+aa*D;g[9]=F*Ia+W*A+ua*D;g[10]=S*Ia+fa*A+pa*D;g[11]=T*Ia+da*A+sa*D;m!==g&&(g[12]=m[12],g[13]=m[13],g[14]=m[14],g[15]=m[15]);return g},QM:function(g,m,t){var x=Math.sin(t);t=Math.cos(t);var A=m[4],D=m[5],F=m[6],J=m[7],L=m[8],O=m[9],S=m[10],T=m[11];m!==g&&(g[0]=m[0],g[1]=m[1],g[2]=m[2],g[3]=m[3],g[12]=m[12],g[13]=m[13],g[14]=m[14],
g[15]=m[15]);g[4]=A*t+L*x;g[5]=D*t+O*x;g[6]=F*t+S*x;g[7]=J*t+T*x;g[8]=L*t-A*x;g[9]=O*t-D*x;g[10]=S*t-F*x;g[11]=T*t-J*x;return g},RM:function(g,m,t){var x=Math.sin(t);t=Math.cos(t);var A=m[0],D=m[1],F=m[2],J=m[3],L=m[8],O=m[9],S=m[10],T=m[11];m!==g&&(g[4]=m[4],g[5]=m[5],g[6]=m[6],g[7]=m[7],g[12]=m[12],g[13]=m[13],g[14]=m[14],g[15]=m[15]);g[0]=A*t-L*x;g[1]=D*t-O*x;g[2]=F*t-S*x;g[3]=J*t-T*x;g[8]=A*x+L*t;g[9]=D*x+O*t;g[10]=F*x+S*t;g[11]=J*x+T*t;return g},SM:function(g,m,t){var x=Math.sin(t);t=Math.cos(t);
var A=m[0],D=m[1],F=m[2],J=m[3],L=m[4],O=m[5],S=m[6],T=m[7];m!==g&&(g[8]=m[8],g[9]=m[9],g[10]=m[10],g[11]=m[11],g[12]=m[12],g[13]=m[13],g[14]=m[14],g[15]=m[15]);g[0]=A*t+L*x;g[1]=D*t+O*x;g[2]=F*t+S*x;g[3]=J*t+T*x;g[4]=L*t-A*x;g[5]=O*t-D*x;g[6]=S*t-F*x;g[7]=T*t-J*x;return g},pM:function(g,m){g[0]=1;g[1]=0;g[2]=0;g[3]=0;g[4]=0;g[5]=1;g[6]=0;g[7]=0;g[8]=0;g[9]=0;g[10]=1;g[11]=0;g[12]=m[0];g[13]=m[1];g[14]=m[2];g[15]=1;return g},oM:function(g,m){g[0]=m[0];g[1]=0;g[2]=0;g[3]=0;g[4]=0;g[5]=m[1];g[6]=0;
g[7]=0;g[8]=0;g[9]=0;g[10]=m[2];g[11]=0;g[12]=0;g[13]=0;g[14]=0;g[15]=1;return g},SD:function(g,m,t){var x=t[0],A=t[1];t=t[2];var D=Math.hypot(x,A,t);if(1E-6>D)return null;D=1/D;x*=D;A*=D;t*=D;D=Math.sin(m);m=Math.cos(m);var F=1-m;g[0]=x*x*F+m;g[1]=A*x*F+t*D;g[2]=t*x*F-A*D;g[3]=0;g[4]=x*A*F-t*D;g[5]=A*A*F+m;g[6]=t*A*F+x*D;g[7]=0;g[8]=x*t*F+A*D;g[9]=A*t*F-x*D;g[10]=t*t*F+m;g[11]=0;g[12]=0;g[13]=0;g[14]=0;g[15]=1;return g},Kta:function(g,m){var t=Math.sin(m);m=Math.cos(m);g[0]=1;g[1]=0;g[2]=0;g[3]=
0;g[4]=0;g[5]=m;g[6]=t;g[7]=0;g[8]=0;g[9]=-t;g[10]=m;g[11]=0;g[12]=0;g[13]=0;g[14]=0;g[15]=1;return g},Lta:function(g,m){var t=Math.sin(m);m=Math.cos(m);g[0]=m;g[1]=0;g[2]=-t;g[3]=0;g[4]=0;g[5]=1;g[6]=0;g[7]=0;g[8]=t;g[9]=0;g[10]=m;g[11]=0;g[12]=0;g[13]=0;g[14]=0;g[15]=1;return g},Mta:function(g,m){var t=Math.sin(m);m=Math.cos(m);g[0]=m;g[1]=t;g[2]=0;g[3]=0;g[4]=-t;g[5]=m;g[6]=0;g[7]=0;g[8]=0;g[9]=0;g[10]=1;g[11]=0;g[12]=0;g[13]=0;g[14]=0;g[15]=1;return g},qha:p,Gta:function(g,m){var t=new qa(3),
x=-m[0],A=-m[1],D=-m[2],F=m[3],J=m[4],L=m[5],O=m[6],S=m[7],T=x*x+A*A+D*D+F*F;0<T?(t[0]=2*(J*F+S*x+L*D-O*A)/T,t[1]=2*(L*F+S*A+O*x-J*D)/T,t[2]=2*(O*F+S*D+J*A-L*x)/T):(t[0]=2*(J*F+S*x+L*D-O*A),t[1]=2*(L*F+S*A+O*x-J*D),t[2]=2*(O*F+S*D+J*A-L*x));p(g,m,t);return g},tha:u,Xta:q,Wta:v,Hta:function(g,m,t,x){var A=m[0],D=m[1],F=m[2],J=m[3],L=A+A,O=D+D,S=F+F;m=A*L;var T=A*O;A*=S;var X=D*O;D*=S;F*=S;L*=J;O*=J;J*=S;S=x[0];var W=x[1];x=x[2];g[0]=(1-(X+F))*S;g[1]=(T+J)*S;g[2]=(A-O)*S;g[3]=0;g[4]=(T-J)*W;g[5]=(1-
(m+F))*W;g[6]=(D+L)*W;g[7]=0;g[8]=(A+O)*x;g[9]=(D-L)*x;g[10]=(1-(m+X))*x;g[11]=0;g[12]=t[0];g[13]=t[1];g[14]=t[2];g[15]=1;return g},Ita:function(g,m,t,x,A){var D=m[0],F=m[1],J=m[2],L=m[3],O=D+D,S=F+F,T=J+J;m=D*O;var X=D*S,W=D*T;D=F*S;F*=T;var fa=J*T;J=L*O;S*=L;var da=L*T,aa=x[0],ua=x[1];T=x[2];x=A[0];L=A[1];A=A[2];O=(1-(D+fa))*aa;var pa=(X+da)*aa;aa*=W-S;X=(X-da)*ua;fa=(1-(m+fa))*ua;ua*=F+J;W=(W+S)*T;F=(F-J)*T;m=(1-(m+D))*T;g[0]=O;g[1]=pa;g[2]=aa;g[3]=0;g[4]=X;g[5]=fa;g[6]=ua;g[7]=0;g[8]=W;g[9]=F;
g[10]=m;g[11]=0;g[12]=t[0]+x-(O*x+X*L+W*A);g[13]=t[1]+L-(pa*x+fa*L+F*A);g[14]=t[2]+A-(aa*x+ua*L+m*A);g[15]=1;return g},pha:function(g,m){var t=m[0],x=m[1],A=m[2];m=m[3];var D=t+t,F=x+x,J=A+A;t*=D;var L=x*D;x*=F;var O=A*D,S=A*F;A*=J;D*=m;F*=m;m*=J;g[0]=1-x-A;g[1]=L+m;g[2]=O-F;g[3]=0;g[4]=L-m;g[5]=1-t-A;g[6]=S+D;g[7]=0;g[8]=O+F;g[9]=S-D;g[10]=1-t-x;g[11]=0;g[12]=0;g[13]=0;g[14]=0;g[15]=1;return g},rha:function(g,m,t,x,A,D,F){var J=1/(t-m),L=1/(A-x),O=1/(D-F);g[0]=2*D*J;g[1]=0;g[2]=0;g[3]=0;g[4]=0;g[5]=
2*D*L;g[6]=0;g[7]=0;g[8]=(t+m)*J;g[9]=(A+x)*L;g[10]=(F+D)*O;g[11]=-1;g[12]=0;g[13]=0;g[14]=F*D*2*O;g[15]=0;return g},perspective:function(g,m,t,x,A){m=1/Math.tan(m/2);g[0]=m/t;g[1]=0;g[2]=0;g[3]=0;g[4]=0;g[5]=m;g[6]=0;g[7]=0;g[8]=0;g[9]=0;g[11]=-1;g[12]=0;g[13]=0;g[15]=0;null!=A&&Infinity!==A?(t=1/(x-A),g[10]=(A+x)*t,g[14]=2*A*x*t):(g[10]=-1,g[14]=-2*x);return g},Sua:function(g,m,t,x){var A=Math.tan(m.Tva*Math.PI/180),D=Math.tan(m.uta*Math.PI/180),F=Math.tan(m.Aua*Math.PI/180);m=Math.tan(m.mva*Math.PI/
180);var J=2/(F+m),L=2/(A+D);g[0]=J;g[1]=0;g[2]=0;g[3]=0;g[4]=0;g[5]=L;g[6]=0;g[7]=0;g[8]=-((F-m)*J*.5);g[9]=(A-D)*L*.5;g[10]=x/(t-x);g[11]=-1;g[12]=0;g[13]=0;g[14]=x*t/(t-x);g[15]=0;return g},cia:function(g,m,t,x,A,D,F){var J=1/(m-t),L=1/(x-A),O=1/(D-F);g[0]=-2*J;g[1]=0;g[2]=0;g[3]=0;g[4]=0;g[5]=-2*L;g[6]=0;g[7]=0;g[8]=0;g[9]=0;g[10]=2*O;g[11]=0;g[12]=(m+t)*J;g[13]=(A+x)*L;g[14]=(F+D)*O;g[15]=1;return g},Rha:function(g,m,t,x){var A=m[0],D=m[1];m=m[2];var F=x[0];var J=x[1];var L=x[2];var O=t[0];x=
t[1];var S=t[2];if(1E-6>Math.abs(A-O)&&1E-6>Math.abs(D-x)&&1E-6>Math.abs(m-S))return l(g);t=A-O;x=D-x;O=m-S;var T=1/Math.hypot(t,x,O);t*=T;x*=T;O*=T;S=J*O-L*x;L=L*t-F*O;F=F*x-J*t;(T=Math.hypot(S,L,F))?(T=1/T,S*=T,L*=T,F*=T):F=L=S=0;J=x*F-O*L;var X=O*S-t*F;var W=t*L-x*S;(T=Math.hypot(J,X,W))?(T=1/T,J*=T,X*=T,W*=T):W=X=J=0;g[0]=S;g[1]=J;g[2]=t;g[3]=0;g[4]=L;g[5]=X;g[6]=x;g[7]=0;g[8]=F;g[9]=W;g[10]=O;g[11]=0;g[12]=-(S*A+L*D+F*m);g[13]=-(J*A+X*D+W*m);g[14]=-(t*A+x*D+O*m);g[15]=1;return g},Jva:function(g,
m,t,x){var A=m[0],D=m[1];m=m[2];var F=x[0],J=x[1],L=x[2];x=A-t[0];var O=D-t[1];t=m-t[2];var S=x*x+O*O+t*t;0<S&&(S=1/Math.sqrt(S),x*=S,O*=S,t*=S);var T=J*t-L*O;L=L*x-F*t;F=F*O-J*x;S=T*T+L*L+F*F;0<S&&(S=1/Math.sqrt(S),T*=S,L*=S,F*=S);g[0]=T;g[1]=L;g[2]=F;g[3]=0;g[4]=O*F-t*L;g[5]=t*T-x*F;g[6]=x*L-O*T;g[7]=0;g[8]=x;g[9]=O;g[10]=t;g[11]=0;g[12]=A;g[13]=D;g[14]=m;g[15]=1;return g},Sm:function(g){return"mat4("+g[0]+", "+g[1]+", "+g[2]+", "+g[3]+", "+g[4]+", "+g[5]+", "+g[6]+", "+g[7]+", "+g[8]+", "+g[9]+
", "+g[10]+", "+g[11]+", "+g[12]+", "+g[13]+", "+g[14]+", "+g[15]+")"},nM:function(g){return Math.hypot(g[0],g[1],g[2],g[3],g[4],g[5],g[6],g[7],g[8],g[9],g[10],g[11],g[12],g[13],g[14],g[15])},add:function(g,m,t){g[0]=m[0]+t[0];g[1]=m[1]+t[1];g[2]=m[2]+t[2];g[3]=m[3]+t[3];g[4]=m[4]+t[4];g[5]=m[5]+t[5];g[6]=m[6]+t[6];g[7]=m[7]+t[7];g[8]=m[8]+t[8];g[9]=m[9]+t[9];g[10]=m[10]+t[10];g[11]=m[11]+t[11];g[12]=m[12]+t[12];g[13]=m[13]+t[13];g[14]=m[14]+t[14];g[15]=m[15]+t[15];return g},Tm:r,BM:function(g,m,
t){g[0]=m[0]*t;g[1]=m[1]*t;g[2]=m[2]*t;g[3]=m[3]*t;g[4]=m[4]*t;g[5]=m[5]*t;g[6]=m[6]*t;g[7]=m[7]*t;g[8]=m[8]*t;g[9]=m[9]*t;g[10]=m[10]*t;g[11]=m[11]*t;g[12]=m[12]*t;g[13]=m[13]*t;g[14]=m[14]*t;g[15]=m[15]*t;return g},CM:function(g,m,t,x){g[0]=m[0]+t[0]*x;g[1]=m[1]+t[1]*x;g[2]=m[2]+t[2]*x;g[3]=m[3]+t[3]*x;g[4]=m[4]+t[4]*x;g[5]=m[5]+t[5]*x;g[6]=m[6]+t[6]*x;g[7]=m[7]+t[7]*x;g[8]=m[8]+t[8]*x;g[9]=m[9]+t[9]*x;g[10]=m[10]+t[10]*x;g[11]=m[11]+t[11]*x;g[12]=m[12]+t[12]*x;g[13]=m[13]+t[13]*x;g[14]=m[14]+t[14]*
x;g[15]=m[15]+t[15]*x;return g},Uj:function(g,m){return g[0]===m[0]&&g[1]===m[1]&&g[2]===m[2]&&g[3]===m[3]&&g[4]===m[4]&&g[5]===m[5]&&g[6]===m[6]&&g[7]===m[7]&&g[8]===m[8]&&g[9]===m[9]&&g[10]===m[10]&&g[11]===m[11]&&g[12]===m[12]&&g[13]===m[13]&&g[14]===m[14]&&g[15]===m[15]},vd:function(g,m){var t=g[0],x=g[1],A=g[2],D=g[3],F=g[4],J=g[5],L=g[6],O=g[7],S=g[8],T=g[9],X=g[10],W=g[11],fa=g[12],da=g[13],aa=g[14];g=g[15];var ua=m[0],pa=m[1],sa=m[2],ta=m[3],ra=m[4],Da=m[5],Ea=m[6],Fa=m[7],Ga=m[8],Ia=m[9],
Qa=m[10],Ra=m[11],Aa=m[12],Jb=m[13],Kb=m[14];m=m[15];return Math.abs(t-ua)<=1E-6*Math.max(1,Math.abs(t),Math.abs(ua))&&Math.abs(x-pa)<=1E-6*Math.max(1,Math.abs(x),Math.abs(pa))&&Math.abs(A-sa)<=1E-6*Math.max(1,Math.abs(A),Math.abs(sa))&&Math.abs(D-ta)<=1E-6*Math.max(1,Math.abs(D),Math.abs(ta))&&Math.abs(F-ra)<=1E-6*Math.max(1,Math.abs(F),Math.abs(ra))&&Math.abs(J-Da)<=1E-6*Math.max(1,Math.abs(J),Math.abs(Da))&&Math.abs(L-Ea)<=1E-6*Math.max(1,Math.abs(L),Math.abs(Ea))&&Math.abs(O-Fa)<=1E-6*Math.max(1,
Math.abs(O),Math.abs(Fa))&&Math.abs(S-Ga)<=1E-6*Math.max(1,Math.abs(S),Math.abs(Ga))&&Math.abs(T-Ia)<=1E-6*Math.max(1,Math.abs(T),Math.abs(Ia))&&Math.abs(X-Qa)<=1E-6*Math.max(1,Math.abs(X),Math.abs(Qa))&&Math.abs(W-Ra)<=1E-6*Math.max(1,Math.abs(W),Math.abs(Ra))&&Math.abs(fa-Aa)<=1E-6*Math.max(1,Math.abs(fa),Math.abs(Aa))&&Math.abs(da-Jb)<=1E-6*Math.max(1,Math.abs(da),Math.abs(Jb))&&Math.abs(aa-Kb)<=1E-6*Math.max(1,Math.abs(aa),Math.abs(Kb))&&Math.abs(g-m)<=1E-6*Math.max(1,Math.abs(g),Math.abs(m))},
Uo:n,sub:r}),ob=function(){var g=w();return function(m,t,x,A,D,F){t||(t=3);x||(x=0);for(A=A?Math.min(A*t+x,m.length):m.length;x<A;x+=t)g[0]=m[x],g[1]=m[x+1],g[2]=m[x+2],D(g,g,F),m[x]=g[0],m[x+1]=g[1],m[x+2]=g[2];return m}}();ob=Object.freeze({__proto__:null,create:w,clone:function(g){var m=new qa(3);m[0]=g[0];m[1]=g[1];m[2]=g[2];return m},length:y,fg:z,Ba:function(g,m){g[0]=m[0];g[1]=m[1];g[2]=m[2];return g},set:function(g,m,t,x){g[0]=m;g[1]=t;g[2]=x;return g},add:function(g,m,t){g[0]=m[0]+t[0];g[1]=
m[1]+t[1];g[2]=m[2]+t[2];return g},Tm:E,multiply:G,Lm:P,ceil:function(g,m){g[0]=Math.ceil(m[0]);g[1]=Math.ceil(m[1]);g[2]=Math.ceil(m[2]);return g},floor:function(g,m){g[0]=Math.floor(m[0]);g[1]=Math.floor(m[1]);g[2]=Math.floor(m[2]);return g},min:function(g,m,t){g[0]=Math.min(m[0],t[0]);g[1]=Math.min(m[1],t[1]);g[2]=Math.min(m[2],t[2]);return g},max:function(g,m,t){g[0]=Math.max(m[0],t[0]);g[1]=Math.max(m[1],t[1]);g[2]=Math.max(m[2],t[2]);return g},round:function(g,m){g[0]=Math.round(m[0]);g[1]=
Math.round(m[1]);g[2]=Math.round(m[2]);return g},scale:function(g,m,t){g[0]=m[0]*t;g[1]=m[1]*t;g[2]=m[2]*t;return g},UM:function(g,m,t,x){g[0]=m[0]+t[0]*x;g[1]=m[1]+t[1]*x;g[2]=m[2]+t[2]*x;return g},oy:C,OX:H,iE:I,AX:function(g,m){g[0]=-m[0];g[1]=-m[1];g[2]=-m[2];return g},inverse:function(g,m){g[0]=1/m[0];g[1]=1/m[1];g[2]=1/m[2];return g},normalize:M,Ro:Q,kM:R,te:function(g,m,t,x){var A=m[0],D=m[1];m=m[2];g[0]=A+x*(t[0]-A);g[1]=D+x*(t[1]-D);g[2]=m+x*(t[2]-m);return g},aua:function(g,m,t,x,A,D){var F=
D*D,J=F*(2*D-3)+1,L=F*(D-2)+D,O=F*(D-1);D=F*(3-2*D);g[0]=m[0]*J+t[0]*L+x[0]*O+A[0]*D;g[1]=m[1]*J+t[1]*L+x[1]*O+A[1]*D;g[2]=m[2]*J+t[2]*L+x[2]*O+A[2]*D;return g},eta:function(g,m,t,x,A,D){var F=1-D,J=F*F,L=D*D,O=J*F;J*=3*D;F*=3*L;D*=L;g[0]=m[0]*O+t[0]*J+x[0]*F+A[0]*D;g[1]=m[1]*O+t[1]*J+x[1]*F+A[1]*D;g[2]=m[2]*O+t[2]*J+x[2]*F+A[2]*D;return g},random:function(g,m){m=m||1;var t=2*Ka()*Math.PI,x=2*Ka()-1,A=Math.sqrt(1-x*x)*m;g[0]=Math.cos(t)*A;g[1]=Math.sin(t)*A;g[2]=x*m;return g},dN:function(g,m,t){var x=
m[0],A=m[1];m=m[2];var D=t[3]*x+t[7]*A+t[11]*m+t[15];D=D||1;g[0]=(t[0]*x+t[4]*A+t[8]*m+t[12])/D;g[1]=(t[1]*x+t[5]*A+t[9]*m+t[13])/D;g[2]=(t[2]*x+t[6]*A+t[10]*m+t[14])/D;return g},Cia:function(g,m,t){var x=m[0],A=m[1];m=m[2];g[0]=x*t[0]+A*t[3]+m*t[6];g[1]=x*t[1]+A*t[4]+m*t[7];g[2]=x*t[2]+A*t[5]+m*t[8];return g},Dia:function(g,m,t){var x=t[0],A=t[1],D=t[2],F=m[0],J=m[1];m=m[2];var L=A*m-D*J,O=D*F-x*m,S=x*J-A*F;t=2*t[3];g[0]=F+L*t+2*(A*S-D*O);g[1]=J+O*t+2*(D*L-x*S);g[2]=m+S*t+2*(x*O-A*L);return g},QM:function(g,
m,t,x){var A=[],D=[];A[0]=m[0]-t[0];A[1]=m[1]-t[1];A[2]=m[2]-t[2];D[0]=A[0];D[1]=A[1]*Math.cos(x)-A[2]*Math.sin(x);D[2]=A[1]*Math.sin(x)+A[2]*Math.cos(x);g[0]=D[0]+t[0];g[1]=D[1]+t[1];g[2]=D[2]+t[2];return g},RM:function(g,m,t,x){var A=[],D=[];A[0]=m[0]-t[0];A[1]=m[1]-t[1];A[2]=m[2]-t[2];D[0]=A[2]*Math.sin(x)+A[0]*Math.cos(x);D[1]=A[1];D[2]=A[2]*Math.cos(x)-A[0]*Math.sin(x);g[0]=D[0]+t[0];g[1]=D[1]+t[1];g[2]=D[2]+t[2];return g},SM:function(g,m,t,x){var A=[],D=[];A[0]=m[0]-t[0];A[1]=m[1]-t[1];A[2]=
m[2]-t[2];D[0]=A[0]*Math.cos(x)-A[1]*Math.sin(x);D[1]=A[0]*Math.sin(x)+A[1]*Math.cos(x);D[2]=A[2];g[0]=D[0]+t[0];g[1]=D[1]+t[1];g[2]=D[2]+t[2];return g},angle:function(g,m){var t=g[0],x=g[1],A=g[2],D=m[0],F=m[1],J=m[2];g=(t=Math.sqrt(t*t+x*x+A*A)*Math.sqrt(D*D+F*F+J*J))&&Q(g,m)/t;return Math.acos(Math.min(Math.max(g,-1),1))},$X:function(g){g[0]=0;g[1]=0;g[2]=0;return g},Sm:function(g){return"vec3("+g[0]+", "+g[1]+", "+g[2]+")"},Uj:function(g,m){return g[0]===m[0]&&g[1]===m[1]&&g[2]===m[2]},vd:function(g,
m){var t=g[0],x=g[1];g=g[2];var A=m[0],D=m[1];m=m[2];return Math.abs(t-A)<=1E-6*Math.max(1,Math.abs(t),Math.abs(A))&&Math.abs(x-D)<=1E-6*Math.max(1,Math.abs(x),Math.abs(D))&&Math.abs(g-m)<=1E-6*Math.max(1,Math.abs(g),Math.abs(m))},sub:E,Uo:G,kX:P,iX:C,NX:H,wy:y,hE:I,forEach:ob});var pb=function(){var g=V();return function(m,t,x,A,D,F){t||(t=4);x||(x=0);for(A=A?Math.min(A*t+x,m.length):m.length;x<A;x+=t)g[0]=m[x],g[1]=m[x+1],g[2]=m[x+2],g[3]=m[x+3],D(g,g,F),m[x]=g[0],m[x+1]=g[1],m[x+2]=g[2],m[x+3]=
g[3];return m}}();pb=Object.freeze({__proto__:null,create:V,clone:Z,fg:ca,Ba:Y,set:ha,add:ka,Tm:za,multiply:Oa,Lm:ab,ceil:function(g,m){g[0]=Math.ceil(m[0]);g[1]=Math.ceil(m[1]);g[2]=Math.ceil(m[2]);g[3]=Math.ceil(m[3]);return g},floor:function(g,m){g[0]=Math.floor(m[0]);g[1]=Math.floor(m[1]);g[2]=Math.floor(m[2]);g[3]=Math.floor(m[3]);return g},min:function(g,m,t){g[0]=Math.min(m[0],t[0]);g[1]=Math.min(m[1],t[1]);g[2]=Math.min(m[2],t[2]);g[3]=Math.min(m[3],t[3]);return g},max:function(g,m,t){g[0]=
Math.max(m[0],t[0]);g[1]=Math.max(m[1],t[1]);g[2]=Math.max(m[2],t[2]);g[3]=Math.max(m[3],t[3]);return g},round:function(g,m){g[0]=Math.round(m[0]);g[1]=Math.round(m[1]);g[2]=Math.round(m[2]);g[3]=Math.round(m[3]);return g},scale:Ua,UM:function(g,m,t,x){g[0]=m[0]+t[0]*x;g[1]=m[1]+t[1]*x;g[2]=m[2]+t[2]*x;g[3]=m[3]+t[3]*x;return g},oy:bb,OX:mb,length:Va,iE:Pa,AX:function(g,m){g[0]=-m[0];g[1]=-m[1];g[2]=-m[2];g[3]=-m[3];return g},inverse:function(g,m){g[0]=1/m[0];g[1]=1/m[1];g[2]=1/m[2];g[3]=1/m[3];return g},
normalize:fb,Ro:cb,kM:function(g,m,t,x){var A=t[0]*x[1]-t[1]*x[0],D=t[0]*x[2]-t[2]*x[0],F=t[0]*x[3]-t[3]*x[0],J=t[1]*x[2]-t[2]*x[1],L=t[1]*x[3]-t[3]*x[1];t=t[2]*x[3]-t[3]*x[2];x=m[0];var O=m[1],S=m[2];m=m[3];g[0]=O*t-S*L+m*J;g[1]=-(x*t)+S*F-m*D;g[2]=x*L-O*F+m*A;g[3]=-(x*J)+O*D-S*A;return g},te:ub,random:function(g,m){m=m||1;do{var t=2*Ka()-1;var x=2*Ka()-1;var A=t*t+x*x}while(1<=A);do{var D=2*Ka()-1;var F=2*Ka()-1;var J=D*D+F*F}while(1<=J);A=Math.sqrt((1-A)/J);g[0]=m*t;g[1]=m*x;g[2]=m*D*A;g[3]=m*
F*A;return g},dN:function(g,m,t){var x=m[0],A=m[1],D=m[2];m=m[3];g[0]=t[0]*x+t[4]*A+t[8]*D+t[12]*m;g[1]=t[1]*x+t[5]*A+t[9]*D+t[13]*m;g[2]=t[2]*x+t[6]*A+t[10]*D+t[14]*m;g[3]=t[3]*x+t[7]*A+t[11]*D+t[15]*m;return g},Dia:function(g,m,t){var x=m[0],A=m[1],D=m[2],F=t[0],J=t[1],L=t[2];t=t[3];var O=t*x+J*D-L*A,S=t*A+L*x-F*D,T=t*D+F*A-J*x;x=-F*x-J*A-L*D;g[0]=O*t+x*-F+S*-L-T*-J;g[1]=S*t+x*-J+T*-F-O*-L;g[2]=T*t+x*-L+O*-J-S*-F;g[3]=m[3];return g},$X:function(g){g[0]=0;g[1]=0;g[2]=0;g[3]=0;return g},Sm:function(g){return"vec4("+
g[0]+", "+g[1]+", "+g[2]+", "+g[3]+")"},Uj:vb,vd:wb,sub:za,Uo:Oa,kX:ab,iX:bb,NX:mb,wy:Va,hE:Pa,forEach:pb});var qb=function(){var g=w(),m=z(1,0,0),t=z(0,1,0);return function(x,A,D){var F=Q(A,D);if(-.999999>F)return R(g,m,A),1E-6>y(g)&&R(g,t,A),M(g,g),xb(x,g,Math.PI),x;if(.999999<F)return x[0]=0,x[1]=0,x[2]=0,x[3]=1,x;R(g,A,D);x[0]=g[0];x[1]=g[1];x[2]=g[2];x[3]=1+F;return fb(x,x)}}(),rb=function(){var g=gb(),m=gb();return function(t,x,A,D,F,J){hb(g,x,F,J);hb(m,A,D,J);hb(t,g,m,2*J*(1-J));return t}}(),
db=function(){var g=f();return function(m,t,x,A){g[0]=x[0];g[3]=x[1];g[6]=x[2];g[1]=A[0];g[4]=A[1];g[7]=A[2];g[2]=-t[0];g[5]=-t[1];g[8]=-t[2];return fb(m,Eb(m,g))}}();qb=Object.freeze({__proto__:null,create:gb,ty:function(g){g[0]=0;g[1]=0;g[2]=0;g[3]=1;return g},Ava:xb,Tta:function(g,m){var t=2*Math.acos(m[3]),x=Math.sin(t/2);1E-6<x?(g[0]=m[0]/x,g[1]=m[1]/x,g[2]=m[2]/x):(g[0]=1,g[1]=0,g[2]=0);return t},Rta:function(g,m){g=cb(g,m);return Math.acos(2*g*g-1)},multiply:yb,QM:zb,RM:Ab,SM:Bb,fta:function(g,
m){var t=m[0],x=m[1];m=m[2];g[0]=t;g[1]=x;g[2]=m;g[3]=Math.sqrt(Math.abs(1-t*t-x*x-m*m));return g},exp:Cb,Qha:Db,pow:function(g,m,t){Db(g,m);Ua(g,g,t);Cb(g,g);return g},Fva:hb,random:function(g){var m=Ka(),t=Ka(),x=Ka(),A=Math.sqrt(1-m);m=Math.sqrt(m);g[0]=A*Math.sin(2*Math.PI*t);g[1]=A*Math.cos(2*Math.PI*t);g[2]=m*Math.sin(2*Math.PI*x);g[3]=m*Math.cos(2*Math.PI*x);return g},Pt:function(g,m){var t=m[0],x=m[1],A=m[2];m=m[3];var D=t*t+x*x+A*A+m*m;D=D?1/D:0;g[0]=-t*D;g[1]=-x*D;g[2]=-A*D;g[3]=m*D;return g},
$ga:function(g,m){g[0]=-m[0];g[1]=-m[1];g[2]=-m[2];g[3]=m[3];return g},Fta:Eb,Dta:function(g,m,t,x){var A=.5*Math.PI/180;m*=A;t*=A;x*=A;A=Math.sin(m);m=Math.cos(m);var D=Math.sin(t);t=Math.cos(t);var F=Math.sin(x);x=Math.cos(x);g[0]=A*t*x-m*D*F;g[1]=m*D*x+A*t*F;g[2]=m*t*F-A*D*x;g[3]=m*t*x+A*D*F;return g},Sm:function(g){return"quat("+g[0]+", "+g[1]+", "+g[2]+", "+g[3]+")"},clone:Z,fg:ca,Ba:Y,set:ha,add:ka,Uo:yb,scale:Ua,Ro:cb,te:ub,length:Va,wy:Va,iE:Pa,hE:Pa,normalize:fb,Uj:vb,vd:wb,qva:qb,Gva:rb,
zva:db});rb=Object.freeze({__proto__:null,create:function(){var g=new qa(8);qa!=Float32Array&&(g[0]=0,g[1]=0,g[2]=0,g[4]=0,g[5]=0,g[6]=0,g[7]=0);g[3]=1;return g},clone:function(g){var m=new qa(8);m[0]=g[0];m[1]=g[1];m[2]=g[2];m[3]=g[3];m[4]=g[4];m[5]=g[5];m[6]=g[6];m[7]=g[7];return m},fg:function(g,m,t,x,A,D,F,J){var L=new qa(8);L[0]=g;L[1]=m;L[2]=t;L[3]=x;L[4]=A;L[5]=D;L[6]=F;L[7]=J;return L},Jta:function(g,m,t,x,A,D,F){var J=new qa(8);J[0]=g;J[1]=m;J[2]=t;J[3]=x;A*=.5;D*=.5;F*=.5;J[4]=A*x+D*t-F*
m;J[5]=D*x+F*g-A*t;J[6]=F*x+A*m-D*g;J[7]=-A*g-D*m-F*t;return J},qha:Fb,pM:function(g,m){g[0]=0;g[1]=0;g[2]=0;g[3]=1;g[4]=.5*m[0];g[5]=.5*m[1];g[6]=.5*m[2];g[7]=0;return g},SD:function(g,m){g[0]=m[0];g[1]=m[1];g[2]=m[2];g[3]=m[3];g[4]=0;g[5]=0;g[6]=0;g[7]=0;return g},oha:function(g,m){var t=gb();v(t,m);var x=new qa(3);u(x,m);Fb(g,t,x);return g},Ba:Gb,ty:function(g){g[0]=0;g[1]=0;g[2]=0;g[3]=1;g[4]=0;g[5]=0;g[6]=0;g[7]=0;return g},set:function(g,m,t,x,A,D,F,J,L){g[0]=m;g[1]=t;g[2]=x;g[3]=A;g[4]=D;g[5]=
F;g[6]=J;g[7]=L;return g},Vta:Y,Uta:function(g,m){g[0]=m[4];g[1]=m[5];g[2]=m[6];g[3]=m[7];return g},Dva:Y,Bva:function(g,m){g[4]=m[0];g[5]=m[1];g[6]=m[2];g[7]=m[3];return g},tha:function(g,m){var t=m[4],x=m[5],A=m[6],D=m[7],F=-m[0],J=-m[1],L=-m[2];m=m[3];g[0]=2*(t*m+D*F+x*L-A*J);g[1]=2*(x*m+D*J+A*F-t*L);g[2]=2*(A*m+D*L+t*J-x*F);return g},translate:function(g,m,t){var x=m[0],A=m[1],D=m[2],F=m[3],J=.5*t[0],L=.5*t[1];t=.5*t[2];var O=m[4],S=m[5],T=m[6];m=m[7];g[0]=x;g[1]=A;g[2]=D;g[3]=F;g[4]=F*J+A*t-
D*L+O;g[5]=F*L+D*J-x*t+S;g[6]=F*t+x*L-A*J+T;g[7]=-x*J-A*L-D*t+m;return g},QM:function(g,m,t){var x=-m[0],A=-m[1],D=-m[2],F=m[3],J=m[4],L=m[5],O=m[6],S=m[7],T=J*F+S*x+L*D-O*A,X=L*F+S*A+O*x-J*D,W=O*F+S*D+J*A-L*x;J=S*F-J*x-L*A-O*D;zb(g,m,t);x=g[0];A=g[1];D=g[2];F=g[3];g[4]=T*F+J*x+X*D-W*A;g[5]=X*F+J*A+W*x-T*D;g[6]=W*F+J*D+T*A-X*x;g[7]=J*F-T*x-X*A-W*D;return g},RM:function(g,m,t){var x=-m[0],A=-m[1],D=-m[2],F=m[3],J=m[4],L=m[5],O=m[6],S=m[7],T=J*F+S*x+L*D-O*A,X=L*F+S*A+O*x-J*D,W=O*F+S*D+J*A-L*x;J=S*F-
J*x-L*A-O*D;Ab(g,m,t);x=g[0];A=g[1];D=g[2];F=g[3];g[4]=T*F+J*x+X*D-W*A;g[5]=X*F+J*A+W*x-T*D;g[6]=W*F+J*D+T*A-X*x;g[7]=J*F-T*x-X*A-W*D;return g},SM:function(g,m,t){var x=-m[0],A=-m[1],D=-m[2],F=m[3],J=m[4],L=m[5],O=m[6],S=m[7],T=J*F+S*x+L*D-O*A,X=L*F+S*A+O*x-J*D,W=O*F+S*D+J*A-L*x;J=S*F-J*x-L*A-O*D;Bb(g,m,t);x=g[0];A=g[1];D=g[2];F=g[3];g[4]=T*F+J*x+X*D-W*A;g[5]=X*F+J*A+W*x-T*D;g[6]=W*F+J*D+T*A-X*x;g[7]=J*F-T*x-X*A-W*D;return g},ova:function(g,m,t){var x=t[0],A=t[1],D=t[2];t=t[3];var F=m[0],J=m[1],L=
m[2],O=m[3];g[0]=F*t+O*x+J*D-L*A;g[1]=J*t+O*A+L*x-F*D;g[2]=L*t+O*D+F*A-J*x;g[3]=O*t-F*x-J*A-L*D;F=m[4];J=m[5];L=m[6];O=m[7];g[4]=F*t+O*x+J*D-L*A;g[5]=J*t+O*A+L*x-F*D;g[6]=L*t+O*D+F*A-J*x;g[7]=O*t-F*x-J*A-L*D;return g},pva:function(g,m,t){var x=m[0],A=m[1],D=m[2];m=m[3];var F=t[0],J=t[1],L=t[2],O=t[3];g[0]=x*O+m*F+A*L-D*J;g[1]=A*O+m*J+D*F-x*L;g[2]=D*O+m*L+x*J-A*F;g[3]=m*O-x*F-A*J-D*L;F=t[4];J=t[5];L=t[6];O=t[7];g[4]=x*O+m*F+A*L-D*J;g[5]=A*O+m*J+D*F-x*L;g[6]=D*O+m*L+x*J-A*F;g[7]=m*O-x*F-A*J-D*L;return g},
nva:function(g,m,t,x){if(1E-6>Math.abs(x))return Gb(g,m);var A=Math.hypot(t[0],t[1],t[2]);x*=.5;var D=Math.sin(x),F=D*t[0]/A,J=D*t[1]/A;t=D*t[2]/A;x=Math.cos(x);A=m[0];D=m[1];var L=m[2],O=m[3];g[0]=A*x+O*F+D*t-L*J;g[1]=D*x+O*J+L*F-A*t;g[2]=L*x+O*t+A*J-D*F;g[3]=O*x-A*F-D*J-L*t;A=m[4];D=m[5];L=m[6];m=m[7];g[4]=A*x+m*F+D*t-L*J;g[5]=D*x+m*J+L*F-A*t;g[6]=L*x+m*t+A*J-D*F;g[7]=m*x-A*F-D*J-L*t;return g},add:function(g,m,t){g[0]=m[0]+t[0];g[1]=m[1]+t[1];g[2]=m[2]+t[2];g[3]=m[3]+t[3];g[4]=m[4]+t[4];g[5]=m[5]+
t[5];g[6]=m[6]+t[6];g[7]=m[7]+t[7];return g},multiply:Hb,Uo:Hb,scale:function(g,m,t){g[0]=m[0]*t;g[1]=m[1]*t;g[2]=m[2]*t;g[3]=m[3]*t;g[4]=m[4]*t;g[5]=m[5]*t;g[6]=m[6]*t;g[7]=m[7]*t;return g},Ro:cb,te:function(g,m,t,x){var A=1-x;0>cb(m,t)&&(x=-x);g[0]=m[0]*A+t[0]*x;g[1]=m[1]*A+t[1]*x;g[2]=m[2]*A+t[2]*x;g[3]=m[3]*A+t[3]*x;g[4]=m[4]*A+t[4]*x;g[5]=m[5]*A+t[5]*x;g[6]=m[6]*A+t[6]*x;g[7]=m[7]*A+t[7]*x;return g},Pt:function(g,m){var t=Pa(m);g[0]=-m[0]/t;g[1]=-m[1]/t;g[2]=-m[2]/t;g[3]=m[3]/t;g[4]=-m[4]/t;
g[5]=-m[5]/t;g[6]=-m[6]/t;g[7]=m[7]/t;return g},$ga:function(g,m){g[0]=-m[0];g[1]=-m[1];g[2]=-m[2];g[3]=m[3];g[4]=-m[4];g[5]=-m[5];g[6]=-m[6];g[7]=m[7];return g},length:Va,wy:Va,iE:Pa,hE:Pa,normalize:function(g,m){var t=Pa(m);if(0<t){t=Math.sqrt(t);var x=m[0]/t,A=m[1]/t,D=m[2]/t,F=m[3]/t,J=m[4],L=m[5],O=m[6];m=m[7];var S=x*J+A*L+D*O+F*m;g[0]=x;g[1]=A;g[2]=D;g[3]=F;g[4]=(J-x*S)/t;g[5]=(L-A*S)/t;g[6]=(O-D*S)/t;g[7]=(m-F*S)/t}return g},Sm:function(g){return"quat2("+g[0]+", "+g[1]+", "+g[2]+", "+g[3]+
", "+g[4]+", "+g[5]+", "+g[6]+", "+g[7]+")"},Uj:function(g,m){return g[0]===m[0]&&g[1]===m[1]&&g[2]===m[2]&&g[3]===m[3]&&g[4]===m[4]&&g[5]===m[5]&&g[6]===m[6]&&g[7]===m[7]},vd:function(g,m){var t=g[0],x=g[1],A=g[2],D=g[3],F=g[4],J=g[5],L=g[6];g=g[7];var O=m[0],S=m[1],T=m[2],X=m[3],W=m[4],fa=m[5],da=m[6];m=m[7];return Math.abs(t-O)<=1E-6*Math.max(1,Math.abs(t),Math.abs(O))&&Math.abs(x-S)<=1E-6*Math.max(1,Math.abs(x),Math.abs(S))&&Math.abs(A-T)<=1E-6*Math.max(1,Math.abs(A),Math.abs(T))&&Math.abs(D-
X)<=1E-6*Math.max(1,Math.abs(D),Math.abs(X))&&Math.abs(F-W)<=1E-6*Math.max(1,Math.abs(F),Math.abs(W))&&Math.abs(J-fa)<=1E-6*Math.max(1,Math.abs(J),Math.abs(fa))&&Math.abs(L-da)<=1E-6*Math.max(1,Math.abs(L),Math.abs(da))&&Math.abs(g-m)<=1E-6*Math.max(1,Math.abs(g),Math.abs(m))}});db=function(){var g=ib();return function(m,t,x,A,D,F){t||(t=2);x||(x=0);for(A=A?Math.min(A*t+x,m.length):m.length;x<A;x+=t)g[0]=m[x],g[1]=m[x+1],D(g,g,F),m[x]=g[0],m[x+1]=g[1];return m}}();db=Object.freeze({__proto__:null,
create:ib,clone:function(g){var m=new qa(2);m[0]=g[0];m[1]=g[1];return m},fg:function(g,m){var t=new qa(2);t[0]=g;t[1]=m;return t},Ba:function(g,m){g[0]=m[0];g[1]=m[1];return g},set:function(g,m,t){g[0]=m;g[1]=t;return g},add:function(g,m,t){g[0]=m[0]+t[0];g[1]=m[1]+t[1];return g},Tm:Sa,multiply:jb,Lm:kb,ceil:function(g,m){g[0]=Math.ceil(m[0]);g[1]=Math.ceil(m[1]);return g},floor:function(g,m){g[0]=Math.floor(m[0]);g[1]=Math.floor(m[1]);return g},min:function(g,m,t){g[0]=Math.min(m[0],t[0]);g[1]=
Math.min(m[1],t[1]);return g},max:function(g,m,t){g[0]=Math.max(m[0],t[0]);g[1]=Math.max(m[1],t[1]);return g},round:function(g,m){g[0]=Math.round(m[0]);g[1]=Math.round(m[1]);return g},scale:function(g,m,t){g[0]=m[0]*t;g[1]=m[1]*t;return g},UM:function(g,m,t,x){g[0]=m[0]+t[0]*x;g[1]=m[1]+t[1]*x;return g},oy:Wa,OX:lb,length:Ma,iE:nb,AX:function(g,m){g[0]=-m[0];g[1]=-m[1];return g},inverse:function(g,m){g[0]=1/m[0];g[1]=1/m[1];return g},normalize:function(g,m){var t=m[0],x=m[1];t=t*t+x*x;0<t&&(t=1/Math.sqrt(t));
g[0]=m[0]*t;g[1]=m[1]*t;return g},Ro:function(g,m){return g[0]*m[0]+g[1]*m[1]},kM:function(g,m,t){m=m[0]*t[1]-m[1]*t[0];g[0]=g[1]=0;g[2]=m;return g},te:function(g,m,t,x){var A=m[0];m=m[1];g[0]=A+x*(t[0]-A);g[1]=m+x*(t[1]-m);return g},random:function(g,m){m=m||1;var t=2*Ka()*Math.PI;g[0]=Math.cos(t)*m;g[1]=Math.sin(t)*m;return g},Qva:function(g,m,t){var x=m[0];m=m[1];g[0]=t[0]*x+t[2]*m;g[1]=t[1]*x+t[3]*m;return g},Rva:function(g,m,t){var x=m[0];m=m[1];g[0]=t[0]*x+t[2]*m+t[4];g[1]=t[1]*x+t[3]*m+t[5];
return g},Cia:function(g,m,t){var x=m[0];m=m[1];g[0]=t[0]*x+t[3]*m+t[6];g[1]=t[1]*x+t[4]*m+t[7];return g},dN:function(g,m,t){var x=m[0];m=m[1];g[0]=t[0]*x+t[4]*m+t[12];g[1]=t[1]*x+t[5]*m+t[13];return g},rotate:function(g,m,t,x){var A=m[0]-t[0];m=m[1]-t[1];var D=Math.sin(x);x=Math.cos(x);g[0]=A*x-m*D+t[0];g[1]=A*D+m*x+t[1];return g},angle:function(g,m){var t=g[0];g=g[1];var x=m[0];m=m[1];var A=Math.sqrt(t*t+g*g)*Math.sqrt(x*x+m*m);return Math.acos(Math.min(Math.max(A&&(t*x+g*m)/A,-1),1))},$X:function(g){g[0]=
0;g[1]=0;return g},Sm:function(g){return"vec2("+g[0]+", "+g[1]+")"},Uj:function(g,m){return g[0]===m[0]&&g[1]===m[1]},vd:function(g,m){var t=g[0];g=g[1];var x=m[0];m=m[1];return Math.abs(t-x)<=1E-6*Math.max(1,Math.abs(t),Math.abs(x))&&Math.abs(g-m)<=1E-6*Math.max(1,Math.abs(g),Math.abs(m))},wy:Ma,sub:Sa,Uo:jb,kX:kb,iX:Wa,NX:lb,hE:nb,forEach:db});e.nl=Ob;e.Eua=Pb;e.Fua=Qb;e.Gua=Rb;e.To=Sb;e.Yua=qb;e.Zua=rb;e.Yva=db;e.nE=ob;e.Jy=pb;Object.defineProperty(e,"__esModule",{value:!0})}
"object"===typeof exports&&"undefined"!==typeof module?Xa(exports):"function"===typeof define&&define.Zsa?define(["exports"],Xa):(Ta=Ta||self,Xa(Ta.nl={}));
{"use strict";function e(r,w,y,z){var E=w[0]-r[0];w=w[1]-r[1];var G=z[0]-y[0],P=z[1]-y[1];if(0===G*w-P*E)return!1;z=(E*(y[1]-r[1])+w*(r[0]-y[0]))/(G*w-P*E);r=(G*(r[1]-y[1])+P*(y[0]-r[0]))/(P*E-G*w);return 0<=z&&1>=z&&0<=r&&1>=r}function b(r,w,y){return(w[0]-r[0])*(y[1]-r[1])-(y[0]-r[0])*(w[1]-r[1])}function a(r,w,y){return 0<b(r,w,y)}function d(r,w,y){return 0<=b(r,w,y)}function c(r,w,y){return 0>=b(r,w,y)}var Ya=[],Za=[];function f(r,w){var y=w[0]-r[0];r=w[1]-r[1];return y*y+r*r}function k(r,w){var y=
r.length;return r[0>w?w%y+y:w%y]}function h(r,w,y,z){for(;y<z;y++)r.push(w[y])}function l(r,w){var y=k(r,w-1),z=k(r,w);r=k(r,w+1);return 0>b(y,z,r)}var $a=[],sb=[];function n(r,w,y,z){z=z||[];z.length=0;if(w<y)for(var E=w;E<=y;E++)z.push(r[E]);else{for(E=0;E<=y;E++)z.push(r[E]);for(E=w;E<r.length;E++)z.push(r[E])}return z}function p(r){for(var w=[],y,z,E=[],G=Number.MAX_VALUE,P=0;P<r.length;++P)if(l(r,P))for(var C=0;C<r.length;++C){a:{z=r;var H=P,I=C;if(d(k(z,H+1),k(z,H),k(z,I))&&c(k(z,H-1),k(z,H),
k(z,I)))y=!1;else{y=f(k(z,H),k(z,I));for(var M=0;M!==z.length;++M)if((M+1)%z.length!==H&&M!==H&&d(k(z,H),k(z,I),k(z,M+1))&&c(k(z,H),k(z,I),k(z,M))){$a[0]=k(z,H);$a[1]=k(z,I);sb[0]=k(z,M);sb[1]=k(z,M+1);var Q=[0,0];var R=$a[1][1]-$a[0][1];var V=$a[0][0]-$a[1][0];var Z=R*$a[0][0]+V*$a[0][1];var ca=sb[1][1]-sb[0][1];var Y=sb[0][0]-sb[1][0];var ha=ca*sb[0][0]+Y*sb[0][1];var ka=R*Y-ca*V;0>=Math.abs(ka-0)||(Q[0]=(Y*Z-V*ha)/ka,Q[1]=(R*ha-ca*Z)/ka);ka=Q;if(f(k(z,H),ka)<y){y=!1;break a}}y=!0}}if(y){y=p(n(r,
P,C,E));z=p(n(r,C,P,E));for(H=0;H<z.length;H++)y.push(z[H]);y.length<G&&(w=y,G=y.length,w.push([k(r,P),k(r,C)]))}}return w}function u(r,w){if(0===w.length)return[r];if(w instanceof Array&&w.length&&w[0]instanceof Array&&2===w[0].length&&w[0][0]instanceof Array){r=[r];for(var y=0;y<w.length;y++)for(var z=w[y],E=0;E<r.length;E++){var G=u(r[E],z);if(G){r.splice(E,1);r.push(G[0],G[1]);break}}return r}z=w;y=r.indexOf(z[0]);E=r.indexOf(z[1]);return-1!==y&&-1!==E?[n(r,y,E),n(r,E,y)]:!1}function q(r,w,y,
z,E){var G=w[1]-r[1];w=r[0]-w[0];r=G*r[0]+w*r[1];var P=z[1]-y[1];z=y[0]-z[0];y=P*y[0]+z*y[1];var C=G*z-P*w;return Math.abs(C-0)<=(E||0)?[0,0]:[(z*r-w*y)/C,(G*y-P*r)/C]}function v(r,w,y,z,E,G,P){G=G||100;P=P||0;E=E||25;w="undefined"!==typeof w?w:[];y=y||[];z=z||[];var C=[0,0],H=[0,0],I=[0,0],M,Q=0,R=0,V=0,Z=[],ca=[];if(3>r.length)return w;P++;if(P>G)return console.warn("quickDecomp: max level ("+G+") reached."),w;for(var Y=0;Y<r.length;++Y)if(l(r,Y)){y.push(r[Y]);var ha=M=Number.MAX_VALUE;for(var ka=
0;ka<r.length;++ka){if(a(k(r,Y-1),k(r,Y),k(r,ka))&&c(k(r,Y-1),k(r,Y),k(r,ka-1))){I=q(k(r,Y-1),k(r,Y),k(r,ka),k(r,ka-1));var za=k(r,Y+1);var Oa=k(r,Y);0>b(za,Oa,I)&&(za=f(r[Y],I),za<M&&(M=za,H=I,R=ka))}a(k(r,Y+1),k(r,Y),k(r,ka+1))&&c(k(r,Y+1),k(r,Y),k(r,ka))&&(I=q(k(r,Y+1),k(r,Y),k(r,ka),k(r,ka+1)),a(k(r,Y-1),k(r,Y),I)&&(za=f(r[Y],I),za<ha&&(ha=za,C=I,Q=ka)))}if(R===(Q+1)%r.length)I[0]=(H[0]+C[0])/2,I[1]=(H[1]+C[1])/2,z.push(I),Y<Q?(h(Z,r,Y,Q+1),Z.push(I),ca.push(I),0!==R&&h(ca,r,R,r.length),h(ca,
r,0,Y+1)):(0!==Y&&h(Z,r,Y,r.length),h(Z,r,0,Q+1),Z.push(I),ca.push(I),h(ca,r,R,Y+1));else{R>Q&&(Q+=r.length);C=Number.MAX_VALUE;if(Q<R)return w;for(ka=R;ka<=Q;++ka)if(d(k(r,Y-1),k(r,Y),k(r,ka))&&c(k(r,Y+1),k(r,Y),k(r,ka))){za=f(k(r,Y),k(r,ka));if(R=za<C)a:{R=r;H=Y;I=ka;for(ha=0;ha!==R.length;++ha)if(ha!==H&&ha!==I&&(ha+1)%R.length!==H&&(ha+1)%R.length!==I&&e(k(R,H),k(R,I),k(R,ha),k(R,ha+1))){R=!1;break a}R=!0}R&&(C=za,V=ka%r.length)}Y<V?(h(Z,r,Y,V+1),0!==V&&h(ca,r,V,r.length),h(ca,r,0,Y+1)):(0!==
Y&&h(Z,r,Y,r.length),h(Z,r,0,V+1),h(ca,r,V,Y+1))}Z.length<ca.length?(v(Z,w,y,z,E,G,P),v(ca,w,y,z,E,G,P)):(v(ca,w,y,z,E,G,P),v(Z,w,y,z,E,G,P));return w}w.push(r);return w}self.Vua={sta:function(r){var w=p(r);return 0<w.length?u(r,w):[r]},$ua:v,gua:function(r){var w;for(w=0;w<r.length-1;w++)for(var y=0;y<w-1;y++)if(e(r[w],r[w+1],r[y],r[y+1]))return!1;for(w=1;w<r.length-2;w++)if(e(r[0],r[r.length-1],r[w],r[w+1]))return!1;return!0},eva:function(r,w){for(var y=0,z=r.length-1;3<r.length&&0<=z;--z){var E=
k(r,z-1);var G=k(r,z),P=k(r,z+1),C=w;C?(Ya[0]=G[0]-E[0],Ya[1]=G[1]-E[1],Za[0]=P[0]-G[0],Za[1]=P[1]-G[1],E=Math.acos((Ya[0]*Za[0]+Ya[1]*Za[1])/(Math.sqrt(Ya[0]*Ya[0]+Ya[1]*Ya[1])*Math.sqrt(Za[0]*Za[0]+Za[1]*Za[1])))<C):E=0===b(E,G,P);E&&(r.splice(z%r.length,1),y++)}return y},fva:function(r,w){for(var y=r.length-1;1<=y;--y)for(var z=r[y],E=y-1;0<=E;--E){var G=z,P=r[E],C=w;Math.abs(G[0]-P[0])<=(C||0)&&Math.abs(G[1]-P[1])<=(C||0)&&r.splice(y,1)}},Dua:function(r){for(var w=0,y=1;y<r.length;++y)if(r[y][1]<
r[w][1]||r[y][1]===r[w][1]&&r[y][0]>r[w][0])w=y;if(a(k(r,w-1),k(r,w),k(r,w+1)))return!1;w=[];y=r.length;for(var z=0;z!==y;z++)w.push(r.pop());for(z=0;z!==y;z++)r[z]=w[z];return!0}}}{"use strict";const e=self.B=class{constructor(){throw TypeError("static class can't be instantiated");}};e.Qt=!1;e.vM=!1;e.hardwareConcurrency=navigator.hardwareConcurrency||2;self.yh={}}
{"use strict";const e=self.B;e.pQ=class{constructor(b){this.tga=b;this.La=new Map;this.Bca()}Bca(){var b=this.tga;if(b.startsWith("?")||b.startsWith("#"))b=b.substr(1);b=b.split("&");for(const a of b)this.Cca(a)}Cca(b){if(b)if(b.includes("=")){var a=b.indexOf("="),d=decodeURIComponent(b.substring(0,a));b=decodeURIComponent(b.substring(a+1));this.La.set(d,b)}else this.La.set(b,null)}Nz(b){return this.La.has(b)}$(b){b=this.La.get(b);return"undefined"===typeof b?null:b}};e.qQ=new e.pQ(location.search);
e.Oma=new e.pQ(location.hash);e.qQ.$("mode")}
{"use strict";const e=self.B,b=navigator.userAgent;let a={Pha:/linux|openbsd|freebsd|netbsd/i.test(b),Wga:/CrOS/.test(b),pE:/trident|iemobile|msie|tizen/i.test(b),Qta:/trident|iemobile|msie|edge\//i.test(b),opera:/OPR\//.test(b),bX:/bb10/i.test(b),mha:/edge\//i.test(b),SX:/trident/i.test(b),webkit:/webkit/i.test(b),nia:/safari\//i.test(b),Vga:/chrome\//i.test(b),Xga:/chromium\//i.test(b),aha:/crosswalk|xwalk/i.test(b),Mua:/nwjs/i.test(b),Nga:/amazonwebappplatform/i.test(b),Iia:/wv\)/.test(b),Oga:/android/i.test(b),
Zha:/nokiabrowser\/[0-9.]+/i.test(b)};var tb=/mac\s+os\s+x\s+[0-9_]+/i.exec(b),Lb=/android\s+[0-9.]+/i.exec(b),Mb=/OPR\/[0-9.]+/.exec(b),Nb=/tizen\s+[0-9.]+/i.exec(b),Tb=/iphone\s+os\s+[0-9_]+/i.exec(b),Ub=/ipad[^)]*os\s+[0-9_]+/i.exec(b),Vb=/windows\s+phone\s+[0-9.]+/i.exec(b),Wb=/windows\s+phone\s+os\s+[0-9.]+/i.exec(b),Xb=/chrome\/[0-9.]+/i.exec(b),Yb=/chromium\/[0-9.]+/i.exec(b),Zb=/nwjs\/[0-9.]+/i.exec(b),$b=/firefox\/[0-9.]+/i.exec(b),ac=/msie\s+[0-9.]+/i.exec(b),bc=/edge\/[0-9.]+/i.exec(b),
cc=/edg\/[0-9.]+/i.exec(b),dc=/silk\/[0-9.]+/i.exec(b);let d="(unknown)",c="(unknown)",f="(unknown)",k="(unknown)",h="(unknown)",l="browser",n=!1,p=!1,u=new Map;function q(r,w,y){!0===w?(y(),u.set(r,!0)):w&&w.length&&(y(w[0]),u.set(r,!0))}q("isWindows",/windows\s+nt\s+\d+\.\d+/i.exec(b),r=>{d="Windows";if(r=r.split(" ")[2])switch(r){case "5.0":c="2000";break;case "5.1":c="XP";break;case "5.2":c="XP";break;case "6.0":c="Vista";break;case "6.1":c="7";break;case "6.2":c="8";break;case "6.3":c="8.1";
break;case "10.0":c="10"}});q("isOSX",tb,r=>{d="Mac OS X";(r=r.split(" ")[3])&&(c=r.replace("_","."))});q("isLinux",a.Pha,()=>{d="Linux"});q("isChromeOS",a.Wga,()=>{d="Chrome OS"});q("isAndroid",!a.pE&&Lb,r=>{d="Android";(r=r.split(" ")[1])&&(c=r)});q("isTizen",Nb,r=>{d="Tizen";(r=r.split(" ")[1])&&(c=r)});q("isIPhone",!a.pE&&Tb,r=>{d="iOS";(r=r.split(" ")[2])&&(c=r.replace("_","."))});q("isIPad",!a.pE&&Ub,r=>{d="iOS";(r=r.split(" ")[3])&&(c=r.replace("_","."))});q("isWindowsPhone",Vb,r=>{d="Windows Phone";
(r=r.split(" ")[2])&&(c=r)});q("isWindowsPhoneOS",Wb,r=>{d="Windows Phone";(r=r.split(" ")[3])&&(c=r)});q("isBlackberry",a.bX,()=>{d="Blackberry";c="10";f="stock";h="webkit"});q("isChrome",!a.mha&&!a.opera&&Xb,r=>{f="Chrome";h="Chromium";(r=r.split("/")[1])&&(k=r)});q("isOpera",Mb,r=>{f="Opera";h="Chromium";(r=r.split("/")[1])&&(k=r)});q("isChromium",Yb,r=>{h=f="Chromium";(r=r.split("/")[1])&&(k=r)});q("isFirefox",$b,r=>{f="Firefox";h="Gecko";(r=r.split("/")[1])&&(k=r)});q("isInternetExplorer",ac,
r=>{f="Internet Explorer";h="Trident";(r=r.split(" ")[1])&&(k=r)});q("isTrident","Internet Explorer"!==f&&a.SX,()=>{h="Trident";var r=/rv:[0-9.]+/i.exec(b);r&&r.length&&(f="Internet Explorer",(r=r[0].split(":")[1])&&(k=r))});q("isEdge",bc,r=>{h=f="Edge";(r=r.split("/")[1])&&(k=r)});q("isEdgeChromium",cc,r=>{f="Edge";h="Chromium";(r=r.split("/")[1])&&(k=r)});q("isSafari",a.nia&&!a.Zha&&!a.Vga&&!a.Xga&&!a.Pta&&!a.bX,()=>{f="Safari";h="WebKit";var r=/version\/[0-9.]+/i.exec(b),w=/crios\/[0-9.]+/i.exec(b),
y=/fxios\/[0-9.]+/i.exec(b);r&&r.length&&(r=r[0].split("/")[1])&&(k=r);w&&w.length&&(f="Chrome for iOS",(w=w[0].split("/")[1])&&(k=w));y&&y.length&&(f="Firefox for iOS",(y=y[0].split("/")[1])&&(k=y))});q("isSilk",dc,r=>{f="Silk";(r=r.split("/")[1])&&(k=r)});q("isCrosswalk",a.aha,()=>l="crosswalk");q("isCordova",self.device&&(self.device.cordova||self.device.phonegap),()=>l="cordova");q("isNWJS",Zb,r=>{l="nwjs";f="NW.js";h="Chromium";(r=r.split("/")[1])&&(k=r)});q("isAmazonWebApp",a.Nga,()=>l="webapp");
q("isHomeScreenWebApp","nwjs"!==l&&"undefined"!==typeof window&&(window.matchMedia&&window.matchMedia("(display-mode: standalone)").matches||navigator.standalone),()=>l="webapp");q("isFalseSafari","Safari"===f&&("Android"===d||"Tizen"===d||"Blackberry"===d),()=>f="stock");q("isAndroidWebview","Chrome"===f&&"browser"===l&&a.Iia,()=>l="webview");q("isFirefoxOS","Firefox"===f&&"(unknown)"===d,()=>d="Firefox OS");q("isAndroidFallback","(unknown)"===d&&!a.pE&&a.Oga,()=>d="Android");q("isTridentFallback",
"(unknown)"===d&&a.SX,()=>h="Trident");q("isWebkitFallback","(unknown)"===d&&a.webkit,()=>h="WebKit");q("isDesktop","Windows"===d||"Mac OS X"===d||"Linux"===d||"Chrome OS"===d||"nwjs"===l,()=>n=!0);p="nwjs"===l;const v="Mac OS X"===d&&navigator.maxTouchPoints&&2<navigator.maxTouchPoints;v&&(d="iOS",c=k,p=n=!1);e.od={Cr:d,lna:c,CE:f,Nja:k,DE:parseFloat(k),Py:h,IE:l,Wla:n,Wz:!n,Xla:p,Sla:!!(self.chrome&&self.chrome.runtime&&self.chrome.runtime.id),Nla:"Mac OS X"===d||"iOS"===d,cma:v,gma:"Linux"===d}}"use strict";
{const e=new Map,b="undefined"!==typeof IDBObjectStore&&"function"===typeof IDBObjectStore.prototype.getAll,a="undefined"!==typeof IDBObjectStore&&"function"===typeof IDBObjectStore.prototype.getAllKeys;function d(v){return new Promise((r,w)=>{v.onsuccess=()=>r(v.result);v.onerror=()=>w(v.error)})}function c(v){return new Promise((r,w)=>{v.oncomplete=()=>r();v.onerror=()=>w(v.error);v.onabort=()=>w(v.error)})}function f(v,r){return h(v,r)}function k(v,r){return h(v,r,!0)}async function h(v,r,w=!1,
y=!0){const z=await l(v);try{const E=z.transaction(["keyvaluepairs"],w?"readwrite":"readonly");return r(E)}catch(E){if(y&&"InvalidStateError"===E.name)return e.delete(v),h(v,r,w,!1);throw E;}}function l(v){p(v);let r=e.get(v);r instanceof Promise||(r=n(v),e.set(v,r),r.catch(()=>e.delete(v)));return r}async function n(v){p(v);const r=indexedDB.open(v,2);r.addEventListener("upgradeneeded",w=>{try{w.target.result.createObjectStore("keyvaluepairs")}catch(y){console.error(`Failed to create objectstore for database ${v}`,
y)}});return d(r)}function p(v){if("string"!==typeof v)throw new TypeError("expected string");}function u(v,r){const w=v.objectStore("keyvaluepairs").openCursor();return new Promise(y=>{const z=[];w.onsuccess=E=>{if(E=E.target.result){switch(r){case "entries":z.push([E.key,E.value]);break;case "keys":z.push(E.key);break;case "values":z.push(E.value)}E.continue()}else y(z)}})}class q{constructor(v){p(v);this.name=v}async ready(){await l(this.name)}set(v,r){p(v);return k(this.name,async w=>{var y=w.objectStore("keyvaluepairs").put(r,
v);y=d(y);w=c(w);await Promise.all([w,y])})}get(v){p(v);return f(this.name,async r=>{var w=r.objectStore("keyvaluepairs").get(v);w=d(w);r=c(r);[,r]=await Promise.all([r,w]);return r})}delete(v){p(v);return k(this.name,async r=>{var w=r.objectStore("keyvaluepairs").delete(v);w=d(w);r=c(r);await Promise.all([r,w])})}clear(){return k(this.name,async v=>{var r=v.objectStore("keyvaluepairs").clear();r=d(r);v=c(v);await Promise.all([v,r])})}keys(){return f(this.name,async v=>{if(a){var r=v.objectStore("keyvaluepairs").getAllKeys();
r=d(r)}else r=u(v,"keys");v=c(v);[,v]=await Promise.all([v,r]);return v})}values(){return f(this.name,async v=>{if(b){var r=v.objectStore("keyvaluepairs").getAll();r=d(r)}else r=u(v,"values");v=c(v);[,v]=await Promise.all([v,r]);return v})}entries(){return f(this.name,async v=>{var r=u(v,"entries");v=c(v);[,r]=await Promise.all([v,r]);return r})}}self.T3=q}"use strict";
{const e=self.T3,b=[/no available storage method found/i,/an attempt was made to break through the security policy of the user agent/i,/the user denied permission to access the database/i,/a mutation operation was attempted on a database that did not allow mutations/i,/idbfactory\.open\(\) called in an invalid security context/i],a=new WeakMap;let d=!1;"undefined"===typeof indexedDB&&(d=!0,console.warn("Unable to use local storage because indexedDB is not defined"));function c(l){throw Error(`"${l}" is not implemented`);
}function f(l){if("function"===typeof l)throw Error("localforage callback API is not implemented; please use the promise API instead");}function k(l){return"object"===typeof l?new Promise(n=>{const {port1:p,port2:u}=new MessageChannel;u.onmessage=q=>n(q.data);p.postMessage(l)}):Promise.resolve(l)}class h{constructor(l){this.K=l;a.set(this,new Map)}Yv(l){if(!d)for(const n of b)if(l&&n.test(l.message)){console.error("Unable to use local storage, reverting to in-memory store: ",l,l.message);d=!0;break}}async ZU(l){l=
a.get(this).get(l);l=await k(l);return"undefined"===typeof l?null:l}async xW(l,n){n=await k(n);a.get(this).set(l,n)}qW(l){a.get(this).delete(l)}CU(){a.get(this).clear()}CV(){return Array.from(a.get(this).keys())}async getItem(l,n){f(n);if(d)return await this.ZU(l);let p;try{p=await this.K.get(l)}catch(u){this.Yv(u);if(d)return await this.ZU(l);console.error(`Error reading '${l}' from storage, returning null: `,u);return null}return"undefined"===typeof p?null:p}async setItem(l,n,p){f(p);"undefined"===
typeof n&&(n=null);if(d)await this.xW(l,n);else try{await this.K.set(l,n)}catch(u){if(this.Yv(u),d)await this.xW(l,n);else throw u;}}async removeItem(l,n){f(n);if(d)this.qW(l);else try{await this.K.delete(l)}catch(p){this.Yv(p),d?this.qW(l):console.error(`Error removing '${l}' from storage: `,p)}}async clear(l){f(l);if(d)this.CU();else try{await this.K.clear()}catch(n){this.Yv(n),d?this.CU():console.error("Error clearing storage: ",n)}}async keys(l){f(l);if(d)return this.CV();l=[];try{l=await this.K.keys()}catch(n){this.Yv(n);
if(d)return this.CV();console.error("Error getting storage keys: ",n)}return l}ready(l){f(l);return d?Promise.resolve(!0):this.K.ready()}jM(l){if("object"!==typeof l)throw new TypeError("invalid options object");l=l.name;if("string"!==typeof l)throw new TypeError("invalid store name");l=new e(l);return new h(l)}length(){c("localforage.length()")}key(){c("localforage.key()")}iterate(){c("localforage.iterate()")}supports(){c("localforage.supports()")}dropInstance(){c("localforage.dropInstance()")}}
self.localforage=new h(new e("localforage"))}
{"use strict";const e=self.B;e.Qb={};e.Qb.Gsa=(()=>{try{if("Safari"===e.od.CE||"undefined"===typeof document)return!1;const b=document.createElement("div");return"undefined"===typeof b.animate?!1:"undefined"!==typeof b.animate([{opacity:"0"},{opacity:"1"}],1E3).reverse}catch(b){return!1}})();e.Qb.Eka="undefined"!==typeof HTMLDialogElement;e.Qb.Boa=!!self.requestIdleCallback;e.Qb.ImageBitmap=!!self.createImageBitmap;e.Qb.ImageBitmapOptions=!1;if(e.Qb.ImageBitmap)try{self.createImageBitmap(new ImageData(32,32),
{premultiplyAlpha:"none"}).then(()=>{e.Qb.ImageBitmapOptions=!0}).catch(()=>{e.Qb.ImageBitmapOptions=!1})}catch(b){e.Qb.ImageBitmapOptions=!1}e.Qb.Uja=!(!navigator.clipboard||!navigator.clipboard.readText||"Firefox"===e.od.CE);e.Qb.Ina=!(!navigator.permissions||!navigator.permissions.query);e.Qb.lQ="undefined"!==typeof Proxy;e.Qb.Gka="undefined"===typeof document?!1:"undefined"!==typeof document.createElement("a").download;e.Qb.ou="undefined"!==typeof HTMLCanvasElement&&HTMLCanvasElement.prototype.toBlob;
e.Qb.Tka="function"===typeof fetch;e.Qb.Kna=!!(self.isSecureContext&&"Opera"!==e.od.CE&&navigator.storage&&navigator.storage.persist);e.Qb.Lra=!!(self.isSecureContext&&navigator.storage&&navigator.storage.estimate);var ec;if("undefined"===typeof document||"iOS"===e.od.Cr)ec=!1;else{var fc=document.documentElement;ec=!!(fc.requestFullscreen||fc.msRequestFullscreen||fc.mozRequestFullScreen||fc.webkitRequestFullscreen)}e.Qb.fla=ec;e.Qb.yla="undefined"!==typeof self.ImageDecoder;e.Qb.gna=!!self.showOpenFilePicker;
e.Qb.hna=!(!navigator.fonts||!navigator.fonts.query)}
{"use strict";const e=self.B;if(!String.prototype.trimStart){const b=/^[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]*/;String.prototype.trimStart=function(){return this.replace(b,"")}}if(!String.prototype.trimEnd){const b=/[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]*$/;String.prototype.trimEnd=function(){return this.replace(b,
"")}}String.prototype.replaceAll||(String.prototype.replaceAll=function(b,a){return this.replace(new RegExp(e.tu(b),"g"),a)});Array.prototype.values||(Array.prototype.values=function*(){for(const b of this)yield b});if(!Array.prototype.flat){function b(a,d){return a.reduce((c,f)=>{0<d&&Array.isArray(f)?Array.prototype.push.apply(c,b(f,d-1)):c.push(f);return c},[])}Array.prototype.flat=function(a=1){return b(this,a)}}Array.prototype.Se||(Array.prototype.Se=function(b){b=Math.trunc(b)||0;0>b&&(b+=this.length);
if(!(0>b||b>=this.length))return this[b]});String.prototype.Se||(String.prototype.Se=function(b){b=Math.trunc(b)||0;0>b&&(b+=this.length);if(!(0>b||b>=this.length))return this[b]});RegExp.escape||(RegExp.escape=function(b){return String(b).replace(/[\\^$*+?.()|[\]{}]/g,"\\$&")});navigator.storage&&!navigator.storage.estimate&&navigator.webkitTemporaryStorage&&navigator.webkitTemporaryStorage.queryUsageAndQuota&&(navigator.storage.estimate=function(){return new Promise((b,a)=>navigator.webkitTemporaryStorage.queryUsageAndQuota((d,
c)=>b({usage:d,quota:c}),a))});"undefined"===typeof self.isSecureContext&&(self.isSecureContext="https:"===location.protocol);"undefined"===typeof self.globalThis&&(self.globalThis=self)}{"use strict";const e=self.B;self.assert=function(b,a){b||console.error("Assertion failure: "+a+"\n\nStack trace:\n"+e.lz())}}
{"use strict";const e=self.B,b=self.yh;e.pn=function(d){return"number"===typeof d};e.Wi=function(d){return e.pn(d)&&isFinite(d)};e.og=function(d){if(!e.pn(d))throw new TypeError("expected number");};e.AQ=function(){};e.Yoa=function(d,c,f){if(!e.pn(d)||isNaN(d)||c>d||f<d)throw new RangeError("number outside of range");};e.Koa=function(...d){for(let c of d);};e.Zi=function(d){if(!e.Wi(d))throw new TypeError("expected finite number");};e.xQ=function(){};e.Hoa=function(...d){for(let c of d);};e.Hh=function(d){return"string"===
typeof d};e.xe=function(d){if(!e.Hh(d))throw new TypeError("expected string");};e.CQ=function(){};e.Moa=function(...d){for(let c of d);};e.rP=function(d){return"object"!==typeof d||null===d?!1:(d=Object.getPrototypeOf(d))?d.constructor===Object:null===d};e.kpa=function(d){if(!e.rP(d))throw new TypeError("expected simple object");};e.hpa=function(d){if(!e.we(d)&&!e.rP(d))throw new TypeError("expected simple object");};e.qP=function(d){return"object"===typeof d&&null!==d&&!Array.isArray(d)};e.vQ=function(d){if(!e.qP(d))throw new TypeError("expected object");
};e.BQ=function(){};e.Loa=function(...d){for(let c of d);};e.PF=function(d){return e.mn(d,Blob)&&"string"===typeof d.name};e.Woa=function(d){if(!e.PF(d))throw new TypeError("expected file");};e.fpa=function(){};e.kn=function(d){return Array.isArray(d)};e.tG=function(d){if(!e.kn(d))throw new TypeError("expected array");};e.wQ=function(){};e.Goa=function(...d){for(let c of d);};e.r3=function(d){return e.kn(d)?d.length?e.kn(d[0])?!0:!1:!0:!1};e.Foa=function(d){if(!e.r3(d))throw new TypeError("expected 2d array");
for(let c of d)if(!e.kn(c))throw new TypeError("expected 2d array");};e.Zoa=function(){};e.QF=function(d){return"function"===typeof d};e.pk=function(d,c){if(!e.QF(d))throw new TypeError("expected function");if(!e.we(c)&&d!==c)throw new TypeError("expected same function reference");};e.yQ=function(){};e.Ioa=function(...d){for(let c of d);};e.Ooa=function(d,...c){if(!e.QF(d))throw new TypeError("expected function");if(!c.length)throw Error("missing comparison functions");for(let f of c)if(!e.we(f)&&
d===f)return;throw new TypeError("expected same function reference");};e.$oa=function(...d){if(!e.we(d))for(let c of d);};e.mn=function(d,c){return d instanceof c};e.pP=function(d,...c){for(let f of c)if(e.mn(d,f))return!0;return!1};e.uG=function(d,c){if(!e.mn(d,c))throw new TypeError("unexpected type");};e.zQ=function(){};e.Joa=function(d,...c){for(let f of c);};e.Poa=function(d,...c){if(!e.pP(d,...c))throw new TypeError("unexpected type");};e.Qoa=function(d,...c){if(!e.we(d)&&!e.pP(d,...c))throw new TypeError("unexpected type");
};e.Ola=function(d,c){for(let f of d)if(!e.mn(f,c))return!1;return!0};e.Pla=function(d){for(let c of d)if(!e.Wi(c))return!1;return!0};e.Roa=function(d){for(let c of d);};e.apa=function(d){if(!e.we(d))for(let c of d);};e.Soa=function(d){for(let c of d);};e.bpa=function(d){if(!e.we(d))for(let c of d);};e.Tla=function(d,c){return e.we(d)||!e.Hh(d.nodeName)?!1:!c||e.th(d.nodeName,c)};e.Toa=function(d,c){if(e.we(d)||!e.Hh(d.nodeName))throw new TypeError("expected DOM node");if(c&&!e.th(d.nodeName,c))throw new TypeError(`expected DOM '${c}' node`);
};e.cpa=function(){};e.SF=function(d,c){return e.we(d)||!e.Hh(d.tagName)?!1:!c||e.th(d.tagName,c)};e.Xoa=function(d,c){if(e.we(d)||!e.Hh(d.tagName))throw new TypeError("expected HTML element");if(c&&!e.th(d.tagName,c))throw new TypeError(`expected HTML '${c}' element`);};e.gpa=function(){};e.jP=function(d){return e.SF(d,"img")||e.SF(d,"canvas")||e.SF(d,"video")||"undefined"!==typeof OffscreenCanvas&&d instanceof OffscreenCanvas||"undefined"!==typeof ImageBitmap&&d instanceof ImageBitmap};e.Uoa=function(d){if(!e.jP(d))throw new TypeError("expected drawable");
};e.dpa=function(){};e.kP=function(d){return d instanceof ImageData?!0:e.jP(d)};e.Voa=function(d){if(!e.kP(d))throw new TypeError("expected drawable or image data");};e.epa=function(d){if(!e.we(d)&&!e.kP(d))throw new TypeError("expected drawable or image data");};e.N3=function(d){return"string"===typeof d||d instanceof e.IF||d instanceof e.Vm};e.lpa=function(d){if(!e.N3(d))throw new TypeError("expected string-like");};e.ipa=function(){};e.Noa=function(...d){for(let c of d);};e.jpa=function(){throw Error("must be overridden");
};e.kna=function(){throw Error("not yet implemented");};e.Vla=function(d,...c){if("undefined"===typeof d)return!1;for(let f of c){if("undefined"===typeof d[f])return!1;d=d[f]}return!0};e.we=function(d){return"undefined"===typeof d||null===d};e.Dja=function(d){let c=d[0].constructor;for(let f of d)if(f.constructor!==c)return!1;return c};e.Eja=function(d,c){for(let f of d)if(!(f instanceof c))return!1;return!0};const a=Object.getPrototypeOf(Uint8Array);e.wma=function(d){return e.mn(d,a)};e.mpa=function(){};
e.Fsa=function(d){e.A8(d,a)};e.Esa=function(d,...c){if(!e.z8(d,...c))throw new TypeError("unexpected type");};e.z8=function(d,...c){for(const f of c)if(e.IR(d,f))return!0;return!1};e.A8=function(d,c){if(!e.IR(d,c))throw new TypeError("unexpected type");};e.IR=function(d,c){for(;d=Object.getPrototypeOf(d);)if(d.constructor.name===c.name)return!0;return!1};b.og=e.og;b.AQ=e.AQ;b.Zi=e.Zi;b.xQ=e.xQ;b.xe=e.xe;b.CQ=e.CQ;b.vQ=e.vQ;b.BQ=e.BQ;b.tG=e.tG;b.wQ=e.wQ;b.pk=e.pk;b.yQ=e.yQ;b.uG=e.uG;b.zQ=e.zQ;b.we=
e.we}
{"use strict";const e=self.B,b=new Map;e.uoa=function(u,...q){b.has(u)||b.set(u,-1);-1===b.get(u)&&b.set(u,requestAnimationFrame(()=>{console.log(`%c${u}`,"font-weight: bold",...q);b.set(u,-1)}))};e.lz=function(){return Error().stack};e.Bka=function(){debugger};e.kta=function(u,q){return u&&u instanceof q?u:null};e.ml=function(u){return"undefined"===typeof u?"undefined":null===u?"null":"boolean"===typeof u?"<boolean>":e.pn(u)?"<number>":e.Hh(u)?"<string>":e.kn(u)?"<array>":"symbol"===typeof u?"<"+
u.toString()+">":e.QF(u)?u.name&&"Function"!==u.name?u.name:"<anonymous function>":"object"===typeof u?u.constructor&&u.constructor.name&&"Object"!==u.constructor.name?u.constructor.name:"<anonymous object>":"<unknown>"};e.TD=function(u){return null===u?"null":Array.isArray(u)?"array":typeof u};e.range=function*(u,q){if(!isFinite(Math.abs(u-q)))throw Error("Invalid parameters");if(u>q)for(--u;u>=q;u--)yield u;else for(;u<q;u++)yield u};let a=new Map,d=new Map,c=new WeakMap,f=new WeakMap;e.hr={};const k=
new Set(["then","splice"]);function h(u){console.warn("[Defence] "+u+" @",e.lz())}e.hr.get=function(u,q){q in u||"symbol"===typeof q||k.has(q)||h(`Accessed missing property '${q}' from defended object '${e.ml(u)}', returning undefined`);f.has(u)&&"symbol"!==typeof q&&!k.has(q)&&h(`Accessed property '${q}' on a released object '${e.ml(u)}'\nObject was originally released at: ${f.get(u)})\nCall stack at access: `);return u[q]};e.hr.set=function(u,q,v){q in u||a.has(u)||h(`Set non-existent property '${q}' to '${v}' on defended object '${e.ml(u)}'`);
{var r=e.TD(u[q]);let w=e.TD(v);r="null"===r||"null"===w?!0:"undefined"===r||"undefined"===w?!1:r===w}r||a.has(u)||h(`Set '${e.TD(u[q])}' property '${q}' to type '${e.TD(v)}' on defended object '${e.ml(u)}'`);f.has(u)&&h(`Set property '${q}' on a released object '${e.ml(u)}'\nObject was originally released at: ${f.get(u)})\nCall stack at access: `);u[q]=v;return!0};e.hr.deleteProperty=function(u,q){throw new ReferenceError(`Cannot delete property '${q}' from defended object '${e.ml(u)}'`);};e.hr.defineProperty=
function(u,q){throw new ReferenceError(`Cannot define property '${q}' on defended object '${e.ml(u)}'`);};e.hr.wta=function(u){throw new ReferenceError(`Cannot enumerate defended object '${e.ml(u)}'`);};let l=-1;function n(){l=-1;if(0<a.size||0<d.size){let u=[...new Set([...a.keys()].map(q=>e.ml(q)))].join();console.warn(`An object derived from DefendedBase was not protected with debugDefend(). This will disable some checks. See the coding guidelines! Possible affected class names: ${u}`);a.clear();
d.clear()}}e.ja=class{constructor(){if(e.vM&&e.Qb.lQ){var u=new.target;u=Object.create(u.prototype);var q=new Proxy(u,e.hr);a.set(u,q);d.set(q,u);c.set(q,u);-1===l&&(l=requestAnimationFrame(n));return q}}};e.cha=function(u){if(e.vM&&e.Qb.lQ&&u instanceof e.ja){if(!d.has(u))return u;let q=d.get(u);d.delete(u);a.delete(q);return u}return e.Qt?Object.seal(u):u};e.D=function(u,...q){let v;try{v=new u(...q)}catch(y){throw d.clear(),a.clear(),y;}if(e.vM){q=v;var r=new Set;for(w in q)r.add(w);var w=r;if(q=
p.get(u)){r=[];for(let y of q.values())w.has(y)?w.delete(y):r.push(y);e.Km(r,[...w]);r.length&&console.warn(`[Defence] '${e.ml(u)}' constructor creates inconsistent properties: ${r.join(", ")}`)}else p.set(u,w)}return e.cha(v)};e.m=function(u){(u=c.get(u))&&f.set(u,e.lz())};e.bs=function(){let u=c.get(void 0);return u?!!f.get(u):!1};let p=new Map;e.Hna=class{constructor(u){this.Ia="";u&&this.start(u)}start(u){this.Ia=u;performance.mark(this.Ia+"-Start")}end(){performance.mark(this.Ia+"-End");performance.measure(this.Ia,
this.Ia+"-Start",this.Ia+"-End")}next(u){this.end();this.Ia=u;performance.mark(this.Ia+"-Start")}}}
{"use strict";const e=self.B,b=2*Math.PI,a=Math.PI/180,d=180/Math.PI;e.wrap=function(f,k,h){f=Math.floor(f);k=Math.floor(k);h=Math.floor(h);return f<k?(f=h-(k-f)%(h-k),f===h?0:f):k+(f-k)%(h-k)};e.Tha=function(f,k,h,l){return(f-k)*(l-0)/(h-k)};e.normalize=function(f,k,h){return(f-k)/(h-k)};e.ca=function(f,k,h){return f<k?k:f>h?h:f};e.kd=function(f){f%=b;0>f&&(f+=b);return f};e.Pa=function(f){return f*a};e.Bg=function(f){return f*d};e.yg=function(f,k,h,l){return Math.hypot(h-f,l-k)};e.jX=function(f,
k,h,l){f=h-f;k=l-k;return f*f+k*k};e.jl=function(f,k,h,l){return Math.atan2(l-k,h-f)};e.Vq=function(f,k){if(f===k)return 0;f=Math.sin(f)*Math.sin(k)+Math.cos(f)*Math.cos(k);return 1<=f?0:-1>=f?Math.PI:Math.acos(f)};e.dM=function(f,k,h){let l=Math.sin(f),n=Math.cos(f),p=Math.sin(k),u=Math.cos(k);return Math.acos(l*p+n*u)>h?0<n*p-l*u?e.kd(f+h):e.kd(f-h):e.kd(k)};e.wf=function(f,k){return 0>=Math.cos(f)*Math.sin(k)-Math.sin(f)*Math.cos(k)};e.cM=function(f,k,h,l=0){let n=e.Vq(f,k);l*=b;return e.wf(k,
f)?e.kd(f+(n+l)*h):e.kd(f-(n+l)*h)};e.Qga=function(f,k,h,l=0){const n=e.Vq(f,k);l*=b;return e.wf(k,f)?e.kd(f+(n+l)*h):e.kd((b-n+l)*h)};e.Pga=function(f,k,h,l=0){const n=e.Vq(f,k);l*=b;return e.wf(k,f)?e.kd((-b+n-l)*h):e.kd(f-(n+l)*h)};e.te=function(f,k,h){return f+h*(k-f)};e.mE=function(f,k,h){return f===k?0:(h-f)/(k-f)};e.iia=function(f,k,h,l){return e.te(0,l,e.mE(f,k,h))};e.dE=function(f,k,h,l){return e.te(e.te(f,k,l),e.te(k,h,l),l)};e.hX=function(f,k,h,l,n){return e.te(e.dE(f,k,h,n),e.dE(k,h,l,
n),n)};e.gX=function(f,k,h){return(f+k+(f-k)*Math.cos(h*Math.PI))/2};e.ol=function(f){return 0<f&&0===(f-1&f)};e.DM=function(f){--f;for(let k=1;32>k;k<<=1)f|=f>>k;return f+1};e.rva=function(f,k){return Math.round(f*k)/k};e.Bta=function(f,k){return Math.floor(f*k)/k};e.TM=function(f){return Math.round(1E6*f)/1E6};e.toFixed=function(f,k){f=f.toFixed(k);for(k=f.length-1;0<=k&&"0"===f.charAt(k);--k);0<=k&&"."===f.charAt(k)&&--k;return 0>k?f:f.substr(0,k+1)};e.o5=function(f,k,h){return e.ca(f,0,255)|e.ca(k,
0,255)<<8|e.ca(h,0,255)<<16};e.eA=function(f,k,h,l){f=e.ca(Math.floor(1024*f),-8192,8191);k=e.ca(Math.floor(1024*k),-8192,8191);h=e.ca(Math.floor(1024*h),-8192,8191);l=e.ca(Math.floor(1023*l),0,1023);0>f&&(f+=16384);0>k&&(k+=16384);0>h&&(h+=16384);return-(274877906944*f+16777216*k+1024*h+l)};e.fQ=function(f,k,h){return e.eA(f,k,h,1)};e.Dz=function(f){if(0<=f)return(f&255)/255;f=Math.floor(-f/274877906944);8191<f&&(f-=16384);return f/1024};e.yz=function(f){if(0<=f)return((f&65280)>>8)/255;f=Math.floor(-f%
274877906944/16777216);8191<f&&(f-=16384);return f/1024};e.jz=function(f){if(0<=f)return((f&16711680)>>16)/255;f=Math.floor(-f%16777216/1024);8191<f&&(f-=16384);return f/1024};e.s0=function(f){return 0===f&&0>1/f?0:0<=f?1:Math.floor(-f%1024)/1023};e.wha=function(f,k){f=Math.floor(f);for(k=Math.floor(k);0!==k;){let h=k;k=f%k;f=h}return f};const c=[[3,2],[4,3],[5,4],[5,3],[6,5],[14,9],[16,9],[16,10],[21,9]];e.Sta=function(f,k){f=Math.floor(f);k=Math.floor(k);if(f===k)return[1,1];for(var h of c){let l=
f/h[0]*h[1];if(1>Math.abs(k-l))return h.slice(0);l=f/h[1]*h[0];if(1>Math.abs(k-l))return[h[1],h[0]]}h=e.wha(f,k);return[f/h,k/h]};e.yva=function(f,k,h,l,n,p,u,q){var v=Math.min(f,h),r=Math.max(n,u);if(Math.max(f,h)<Math.min(n,u)||v>r)return!1;v=Math.min(k,l);r=Math.max(p,q);if(Math.max(k,l)<Math.min(p,q)||v>r)return!1;v=n-f+u-h;r=p-k+q-l;f=h-f;k=l-k;n=u-n;p=q-p;q=Math.abs(k*n-p*f);return Math.abs(n*r-p*v)>q?!1:Math.abs(f*r-k*v)<=q};e.Qm=function(f,k,h,l,n,p,u,q,v,r,w,y){const z=Math.max(v,w);if(p<
Math.min(v,w)||n>z)return!1;n=Math.max(r,y);if(q<Math.min(r,y)||u>n)return!1;u=v-f+w-h;q=r-k+y-l;f=h-f;k=l-k;v=w-v;r=y-r;y=Math.abs(k*v-r*f);return Math.abs(v*q-r*u)>y?!1:Math.abs(f*q-k*u)<=y};e.fE=function(f,k,h,l,n){const p=Math.min(f,h),u=Math.max(f,h),q=Math.min(k,l),v=Math.max(k,l),r=n.Db,w=n.Eb,y=n.wc,z=n.xc,E=n.qc,G=n.rc,P=n.oc;n=n.pc;return e.Qm(f,k,h,l,p,u,q,v,r,w,y,z)||e.Qm(f,k,h,l,p,u,q,v,y,z,E,G)||e.Qm(f,k,h,l,p,u,q,v,E,G,P,n)||e.Qm(f,k,h,l,p,u,q,v,P,n,r,w)};e.xva=function(f,k,h,l,n){const p=
Math.min(f,h),u=Math.max(f,h),q=Math.min(k,l),v=Math.max(k,l);let r=0;for(let w=n.length-4;r<=w;r+=2)if(e.Qm(f,k,h,l,p,u,q,v,n[r],n[r+1],n[r+2],n[r+3]))return!0;return e.Qm(f,k,h,l,p,u,q,v,n[r],n[r+1],n[0],n[1])};e.hia=function(f,k,h,l,n,p,u,q){h-=f;p=q-p;const v=h*p-(l-k)*(u-n);if(0===v)return 2;l=((k-l)*(u-f)+h*(q-k))/v;return 0<l&&1.000001>l?(p*(u-f)+(n-u)*(q-k))/v:2};e.Cy=function(f,k,h,l,n,p,u,q,v){const r=(u-n)*v;v*=q-p;return e.hia(f,k,h,l,n-r,p-v,u+r,q+v)};e.Iha=function(f,k,h,l,n,p,u,q){n-=
h;p-=l;u-=h;q-=l;f-=h;h=k-l;k=n*n+p*p;l=n*u+p*q;n=n*f+p*h;p=u*u+q*q;u=u*f+q*h;q=1/(k*p-l*l);p=(p*n-l*u)*q;n=(k*u-l*n)*q;return 0<=p&&0<=n&&1>=p+n};e.Gia=function(f,k,h,l,n,p,u,q){n-=h;p-=l;u-=h;q-=l;f-=h;const v=k-l;k=n*n+p*p;l=n*u+p*q;h=u*u+q*q;n=f*n+v*p;p=f*u+v*q;u=k*h-l*l;q=(h*n-l*p)/u;n=(k*p-l*n)/u;return[1-q-n,q,n]};e.Fia=function(f,k,h,l,n,p,u,q,v){return[f*l+k*p+h*q,f*n+k*u+h*v]}}
{"use strict";const e=self.B;let b=null,a="";if("undefined"!==typeof document){b=document;const l=document.querySelector("base");if(a=l&&l.hasAttribute("href")?l.getAttribute("href"):"")a.startsWith("/")&&(a=a.substr(1)),a.endsWith("/")||(a+="/")}e.ila=function(){return a};e.ZE=function(){if(!b)return"";const l=b.location;return e.y1(l.origin+l.pathname)+a};e.y1=function(l){if(!l.length||l.endsWith("/")||l.endsWith("\\"))return l;const n=Math.max(l.lastIndexOf("/"),l.lastIndexOf("\\"));return-1===
n?"":l.substr(0,n+1)};e.lla=function(l){if(!l.length)return l;if(l.endsWith("/")||l.endsWith("\\"))return"";const n=Math.max(l.lastIndexOf("/"),l.lastIndexOf("\\"));return-1===n?l:l.substr(n+1)};e.Q0=function(l){let n=l.lastIndexOf(".");return 1>n?"":l.substr(n)};e.uz=function(l){let n=l.lastIndexOf(".");return 1>n?l:l.substr(0,n)};e.q4=function(l){return l.replace(/\\/g,"/")};e.Yla=function(l,n){return n===(l?e.Q0(l).slice(1):"")};e.Uka=function(l,n){let p,u;e.PF(l)&&(p=e.uz(l.name));e.Hh(l)&&(p=
e.uz(l));e.PF(n)&&(u=e.uz(n.name));e.Hh(n)&&(u=e.uz(n));return p===u};e.Ena=function(l){l=e.q4(l);let n=/^\w:\//.exec(l);n?(n=n[0],l=l.slice(3),"/"!==l[0]&&(l="/"+l)):n="";l=l.replace(/\/{2,}/g,"/");1<l.length&&"/"===l.slice(-1)&&(l=l.slice(0,-1));var p=l.lastIndexOf("/")+1;let u="",q=l,v="";0<p&&(u=l.slice(0,p),q=l.slice(p));l=q;p=q.lastIndexOf(".");0<p&&(v=q.slice(p),l=q.slice(0,-v.length));return{dir:u,dta:q,name:l,root:n,ext:v,Nta:n+u+q}};e.pH=function(l,n){return new Promise(p=>{self.setTimeout(p,
l,n)})};e.Iva=function(l){try{l()}catch(n){e.Qt&&console.warn("Swallowed exception: ",n)}};e.Kua=function(){};e.th=function(l,n){return"string"!==typeof l||"string"!==typeof n?!1:l===n||l.normalize().toLowerCase()===n.normalize().toLowerCase()};e.xta=function(l,n){return"string"!==typeof l||"string"!==typeof n?!1:l===n?!0:l.normalize()===n.normalize()};e.Hia=function(l,n){var p=0;l[p++]=n[0];l[p++]=n[1];l[p++]=n[2];l[p++]=n[3];l[p++]=n[4];l[p++]=n[5];l[p++]=n[6];l[p++]=n[7];l[p++]=n[8];l[p++]=n[9];
l[p++]=n[10];l[p++]=n[11];l[p++]=n[12];l[p++]=n[13];l[p++]=n[14];l[p]=n[15]};e.Te=function(l,n){l.length=n};e.F=function(l){l&&0!==l.length&&e.Te(l,0)};e.Yga=function(l){if(l){for(let n=0;n<l.length;n++)e.Te(l[n],0);e.Te(l,0)}};e.PD=function(l,n,p){n|=0;var u=l.length;if(!(n<=u))for(;u<n;++u)l.push(p)};e.HX=function(l){var n=4;const p=l.length;n<p?e.Te(l,n):n>p&&e.PD(l,n,"0")};e.wd=function(l,n){e.F(l);e.Km(l,n)};e.Km=function(l,n){if(1E4>n.length)l.push(...n);else for(let p=0,u=n.length;p<u;++p)l.push(n[p])};
e.Tga=function(l,n){n=Math.floor(n);if(!(0>n||n>=l.length)){for(var p=l.length-1;n<p;++n)l[n]=l[n+1];e.Te(l,p)}};e.Wq=function(l,n){n=l.indexOf(n);0<=n&&l.splice(n,1)};e.cta=function(l,n){let p=l.length;if(n.length!==p)return!1;for(let u=0;u<p;++u)if(l[u]!==n[u])return!1;return!0};e.Sga=function(l,n){let p=[],u=0;for(let q=0,v=l.length;q<v;++q){let r=l[q];n(r)?p.push(r):(l[u]=r,++u)}e.Te(l,u);return p};e.rh=function(l,n){const p=l.length;let u=0;for(let q=0,v=l.length;q<v;++q){let r=l[q];n.has(r)||
(l[u++]=r)}e.Te(l,u);return p-u};e.Eha=function(l,n){return l!==Math.floor(l)?!1:0<=l&&l<n.length};e.Xva=function(l,n){if(!e.Eha(l,n))throw new RangeError("array index out of bounds");};e.iM=function(l){return l.slice()};e.dha=function(l,n){let p=[];for(let u of l)if(e.qP(u)){l=n(u);if(!l)throw Error("missing clone");if(l.constructor!==u.constructor)throw Error("object is not a clone");p.push(l)}else e.kn(u)?p.push(e.dha(u,n)):p.push(u);return p};e.lta=function(l){let n=[];for(let p of l)n.push(p.slice());
return n};e.Hua=function(l,n){return new Set([...l,...n])};e.Iua=function(l,n){for(const p of n)l.add(p);return l};e.first=function(l){for(let n of l)return n;return null};e.xor=function(l,n){return!l!==!n};e.compare=function(l,n,p){switch(n){case 0:return l===p;case 1:return l!==p;case 2:return l<p;case 3:return l<=p;case 4:return l>p;case 5:return l>=p;default:return!1}};e.$ta=function(l){for(let n in l)if(l.hasOwnProperty(n))return!0;return!1};e.A5=function(l,n){return l.length?new Promise((p,
u)=>{const q=[];let v=0,r=!1;for(let w=0,y=l.length;w<y;++w)q.push(void 0),l[w].then(z=>{r||(q[w]=z,++v,v===l.length?p(q):n(v,l.length))}).catch(z=>{r=!0;u(z)})}):Promise.resolve([])};let d=[];e.gja=function(l){d.push(l)};e.kla=function(){let l=0;for(let n of d){let p=n();l+=p}return Math.floor(l)};let c=1;const f=new Map,k=new MessageChannel;k.port2.onmessage=function(l){l=l.data;const n=f.get(l);f.delete(l);n&&n(performance.now())};e.sG=function(l){const n=c++;f.set(n,l);k.port1.postMessage(n);
return n};e.ZY=function(l){f.delete(l)};e.w5=e.sG;e.x8=function(){return new Promise(l=>e.w5(l))};const h=new Set;e.Eoa=function(l){const n=self.requestAnimationFrame(async p=>{await e.x8();h.has(n)&&(h.delete(n),l(p))});h.add(n);return n};e.Qja=function(l){h.has(l)&&(self.cancelAnimationFrame(l),h.delete(l))}}
{"use strict";const e=self.B;e.LF=function(b){return/^(?:[a-z\-]+:)?\/\//.test(b)||"data:"===b.substr(0,5)||"blob:"===b.substr(0,5)};e.XF=function(b){return!e.LF(b)};e.a8=function(b){if(!b.ok)throw Error(`fetch '${b.url}' response returned ${b.status} ${b.statusText}`);};e.hz=function(b){return fetch(b,void 0).then(a=>{e.a8(a);return a})};e.vu=function(b){return e.hz(b).then(a=>a.text())};e.bO=function(b){return e.hz(b).then(a=>a.json())};e.xl=function(b){return e.hz(b).then(a=>a.blob())};e.uu=function(b){return e.hz(b).then(a=>
a.arrayBuffer())};e.l0=function(b){return new Promise((a,d)=>{const c=new Image;c.onload=()=>a(c);c.onerror=f=>d(f);c.src=b})};e.QY=function(b){return"function"===typeof b.arrayBuffer?b.arrayBuffer():new Promise((a,d)=>{const c=new FileReader;c.onload=()=>a(c.result);c.onerror=()=>d(c.error);c.readAsArrayBuffer(b)})};e.tN=function(b){return"function"===typeof b.text?b.text():new Promise((a,d)=>{const c=new FileReader;c.onload=()=>a(c.result);c.onerror=()=>d(c.error);c.readAsText(b)})};e.Kja=function(b){return e.tN(b).then(a=>
JSON.parse(a))};e.sN=async function(b,a){b=URL.createObjectURL(b);try{const d=await e.l0(b);URL.revokeObjectURL(b);b="";a&&"function"===typeof d.decode&&await d.decode();return d}finally{b&&URL.revokeObjectURL(b)}};e.Eg=function(b,a){if("undefined"!==typeof document&&"function"===typeof document.createElement){const d=document.createElement("canvas");d.width=b;d.height=a;return d}return new OffscreenCanvas(b,a)};e.ou=function(b,a,d){"number"!==typeof d&&(d=1);a=a||"image/png";d=e.ca(d,0,1);return b.toBlob?
new Promise(c=>b.toBlob(c,a,d)):b.convertToBlob?b.convertToBlob({type:a,quality:d}):e.ql(()=>e.EN(b,a,d))};e.EN=function(b,a,d){"number"!==typeof d&&(d=1);a=a||"image/png";d=e.ca(d,0,1);return e.JZ(b.toDataURL(a,d))};e.JZ=function(b){b=e.p5(b);return e.PY(b.data,b.Uha)};e.p5=function(b){if("data:"!==b.substr(0,5))throw new URIError("expected data: uri");var a=b.indexOf(",");if(0>a)throw new URIError("expected comma in data: uri");var d=b.substring(a+1);a=b.substring(5,a).split(";");b=a[0]||"";let c=
a[2];d="base64"===a[1]||"base64"===c?atob(d):decodeURIComponent(d);return{Uha:b,data:d}};e.PY=function(b,a){var d=b.length;let c=d>>2,f=new Uint8Array(d),k=new Uint32Array(f.buffer,0,c),h,l;for(l=h=0;h<c;++h)k[h]=b.charCodeAt(l++)|b.charCodeAt(l++)<<8|b.charCodeAt(l++)<<16|b.charCodeAt(l++)<<24;for(d&=3;d--;)f[l]=b.charCodeAt(l),++l;return a?new Blob([f],{type:a}):new Blob([f])};e.VN=function(b){const a=e.Eg(b.width,b.height);a.getContext("2d").drawImage(b,0,0);return e.ou(a,void 0,void 0)};e.xla=
function(b,a,d){const c=e.Eg(b.width,b.height);c.getContext("2d").putImageData(b,0,0);return e.EN(c,a,d)};e.C2=function(b){if(e.Qb.ImageBitmapOptions)return createImageBitmap(b,{premultiplyAlpha:"none"}).then(a=>e.VN(a));if(e.Qb.ImageBitmap)return createImageBitmap(b).then(a=>e.VN(a));{const a=e.Eg(b.width,b.height);a.getContext("2d").putImageData(b,0,0);return e.ou(a,void 0,void 0)}};e.zZ=function(b,a){b.clear();for(const d of a)b.add(d)};e.Sma=function(b){const a=Object.create(null);for(const [d,
c]of b.entries())a[d]=c;return a};e.mna=function(b,a){a.clear();for(const [d,c]of Object.entries(b))a.set(d,c)};e.lH=function d(a){if("object"===typeof a&&null!==a){if(a instanceof Set)return{_c3type_:"set",data:[...a].map(c=>d(c))};if(a instanceof Map)return{_c3type_:"map",data:[...a].map(c=>[c[0],d(c[1])])};{const c=Object.create(null);for(const [f,k]of Object.entries(a))c[f]=d(k);return c}}return a};e.WE=function c(d){if("object"===typeof d&null!==d){if("set"===d._c3type_)return new Set(d.data.map(f=>
c(f)));if("map"===d._c3type_)return new Map(d.data.map(f=>[f[0],c(f[1])]));{const f=Object.create(null);for(const [k,h]of Object.entries(d))f[k]=c(h);return f}}return d};e.TY=function(d){let c="",f=!1;for(const k of d)"-"===k?f=!0:f?(c+=k.toUpperCase(),f=!1):c+=k;return c};e.nn=function(d){return"object"===typeof d&&"function"===typeof d.next};e.Sg=function(d,c){const f=[];if("function"===typeof c)for(var k=0;k<d;++k)f.push(c());else for(k=0;k<d;++k)f.push(c);return f}}
{"use strict";const e=self.B;e.eb=class{constructor(b,a,d,c){this.Ya=this.Za=this.Ga=this.Xa=0;b instanceof e.eb?this.set(b):this.Xo(b||0,a||0,d||0,c||0)}$t(b,a,d){this.Xa=+b;this.Ga=+a;this.Za=+d;this.ca()}Xo(b,a,d,c){this.Xa=+b;this.Ga=+a;this.Za=+d;this.Ya=+c;this.ca()}set(b){this.Xa=b.Xa;this.Ga=b.Ga;this.Za=b.Za;this.Ya=b.Ya;return this}Ba(b){return this.set(b)}add(b){this.Xa+=b.Xa;this.Ga+=b.Ga;this.Za+=b.Za;this.Ya+=b.Ya;this.ca()}YW(b,a,d){this.Xa+=+b;this.Ga+=+a;this.Za+=+d;this.Ya+=0;this.ca()}kl(b){this.Xa=
b.Xa;this.Ga=b.Ga;this.Za=b.Za}KX(b){this.Xa=e.ca(+b,0,1)}qia(b){this.Ga=e.ca(+b,0,1)}oia(b){this.Za=e.ca(+b,0,1)}Gy(b){this.Ya=e.ca(+b,0,1)}clone(){return e.D(e.eb,this.Xa,this.Ga,this.Za,this.Ya)}toArray(){return[this.Xa,this.Ga,this.Za,this.Ya]}vh(b,a){b[a++]=this.Xa;b[a++]=this.Ga;b[a++]=this.Za;b[a]=this.Ya}vd(b){return this.Xa===b.Xa&&this.Ga===b.Ga&&this.Za===b.Za&&this.Ya===b.Ya}Nm(b){return this.Xa===b.Xa&&this.Ga===b.Ga&&this.Za===b.Za}qy(b,a,d,c){return this.Xa===b&&this.Ga===a&&this.Za===
d&&this.Ya===c}multiply(b){this.Xa*=b.Xa;this.Ga*=b.Ga;this.Za*=b.Za;this.Ya*=b.Ya}MM(){this.Xa*=this.Ya;this.Ga*=this.Ya;this.Za*=this.Ya}ca(){this.Xa=e.ca(this.Xa,0,1);this.Ga=e.ca(this.Ga,0,1);this.Za=e.ca(this.Za,0,1);this.Ya=e.ca(this.Ya,0,1);return this}Zt(b){this.Xa=e.Dz(b);this.Ga=e.yz(b);this.Za=e.jz(b);this.Ya=e.s0(b)}sha(){return`rgb(${100*(e.Wi(void 0)?NaN:this.Xa)}%, ${100*(e.Wi(void 0)?NaN:this.Ga)}%, ${100*(e.Wi(void 0)?NaN:this.Za)}%)`}CX(b){if("string"===typeof b){b=b.replace(/^rgb\(|\)|%/,
"");var a=b.split(",");if(!(3>a.length)){b=parseInt(a[0].trim(),10)/255;var d=parseInt(a[1].trim(),10)/255;a=parseInt(a[2].trim(),10)/255;isFinite(b)&&this.KX(b);isFinite(d)&&this.qia(d);isFinite(a)&&this.oia(a);this.Gy(1)}}}toJSON(){return[this.Xa,this.Ga,this.Za,this.Ya]}Rm(b){!Array.isArray(b)||3>b.length||(this.Xa=b[0],this.Ga=b[1],this.Za=b[2],this.Ya=4<=b.length?b[3]:1)}set r(b){this.KX(b)}get r(){return this.Xa}set Uq(b){this.Gy(b)}get Uq(){return this.Ya}static QE(b,a){return e.ca(Math.max(b,
a)-Math.min(b,a),0,1)}};e.eb.Msa=Object.freeze(e.D(e.eb,1,1,1,1));e.eb.Jja=Object.freeze(e.D(e.eb,0,0,0,1));e.eb.jsa=Object.freeze(e.D(e.eb,0,0,0,0))}
{"use strict";const e=self.B;e.Hv=class{constructor(b,a){this.N=this.T=0;b instanceof e.Hv?this.Ba(b):this.set(b||0,a||0)}set(b,a){this.T=+b;this.N=+a}Ba(b){this.T=b.T;this.N=b.N}vd(b){return this.T===b.T&&this.N===b.N}toArray(){return[this.T,this.N]}vh(b,a){b[a++]=this.T;b[a]=this.N}offset(b,a){this.T+=+b;this.N+=+a}scale(b,a){this.T*=b;this.N*=a}Lm(b,a){this.T/=b;this.N/=a}round(){this.T=Math.round(this.T);this.N=Math.round(this.N)}floor(){this.T=Math.floor(this.T);this.N=Math.floor(this.N)}ceil(){this.T=
Math.ceil(this.T);this.N=Math.ceil(this.N)}angle(){return e.jl(0,0,this.T,this.N)}Oha(){return this.T*this.T+this.N*this.N}length(){return Math.sqrt(this.Oha())}lia(b,a){const d=this.T*a-this.N*b;this.N=this.N*a+this.T*b;this.T=d}rotate(b){0!==b&&this.lia(Math.sin(b),Math.cos(b))}move(b,a){0!==a&&(this.T+=Math.cos(b)*a,this.N+=Math.sin(b)*a)}normalize(){const b=this.length();0!==b&&1!==b&&(this.T/=b,this.N/=b)}ca(b,a){this.T=e.ca(this.T,b,a);this.N=e.ca(this.N,b,a)}}}
{"use strict";const e=self.B;e.Rect=class{constructor(b,a,d,c){this.ba=this.ia=this.O=this.R=0;b instanceof e.Rect?this.Ba(b):this.set(b||0,a||0,d||0,c||0)}set(b,a,d,c){this.R=+b;this.O=+a;this.ia=+d;this.ba=+c}Di(b,a,d,c){b=+b;a=+a;this.R=b;this.O=a;this.ia=b+ +d;this.ba=a+ +c}Ba(b){this.R=+b.R;this.O=+b.O;this.ia=+b.ia;this.ba=+b.ba}clone(){return new e.Rect(this.R,this.O,this.ia,this.ba)}vd(b){return this.R===b.R&&this.O===b.O&&this.ia===b.ia&&this.ba===b.ba}toArray(){return[this.R,this.O,this.ia,
this.ba]}zia(){new DOMRect(this.R,this.O,this.width(),this.height())}vh(b,a){b[a++]=this.R;b[a++]=this.O;b[a++]=this.ia;b[a]=this.ba}Jia(b,a){b[a++]=this.R;b[a++]=this.O;b[a++]=this.ia;b[a++]=this.O;b[a++]=this.ia;b[a++]=this.ba;b[a++]=this.R;b[a]=this.ba}width(){return this.ia-this.R}height(){return this.ba-this.O}Vt(){return(this.R+this.ia)/2}Wt(){return(this.O+this.ba)/2}offset(b,a){b=+b;a=+a;this.R+=b;this.O+=a;this.ia+=b;this.ba+=a}offsetLeft(b){this.R+=+b}offsetTop(b){this.O+=+b}aia(b){this.ia+=
+b}$ha(b){this.ba+=+b}VD(b,a){b=+b;a=+a;this.R-=b;this.O-=a;this.ia+=b;this.ba+=a}multiply(b,a){this.R*=b;this.O*=a;this.ia*=b;this.ba*=a}Lm(b,a){this.R/=b;this.O/=a;this.ia/=b;this.ba/=a}xia(){const b=this.R;this.R=this.ia;this.ia=b}Zq(){const b=this.O;this.O=this.ba;this.ba=b}YM(b){const a=this.O;this.O=+b-this.ba;this.ba=+b-a}round(){this.R=Math.round(this.R);this.O=Math.round(this.O);this.ia=Math.round(this.ia);this.ba=Math.round(this.ba)}mia(){this.R=Math.floor(this.R);this.O=Math.floor(this.O);
this.ia=Math.ceil(this.ia);this.ba=Math.ceil(this.ba)}floor(){this.R=Math.floor(this.R);this.O=Math.floor(this.O);this.ia=Math.floor(this.ia);this.ba=Math.floor(this.ba)}ceil(){this.R=Math.ceil(this.R);this.O=Math.ceil(this.O);this.ia=Math.ceil(this.ia);this.ba=Math.ceil(this.ba)}ca(b,a,d,c){this.R<b&&(this.R=+b);this.O<a&&(this.O=+a);this.ia>d&&(this.ia=+d);this.ba>c&&(this.ba=+c)}fX(){0>this.R&&(this.R=0);1<this.O&&(this.O=1);1<this.ia&&(this.ia=1);0>this.ba&&(this.ba=0)}normalize(){this.R>this.ia&&
this.xia();this.O>this.ba&&this.Zq()}WD(b){return!(b.ia<this.R||b.ba<this.O||b.R>this.ia||b.O>this.ba)}Dha(b,a,d){return!(b.ia+a<this.R||b.ba+d<this.O||b.R+a>this.ia||b.O+d>this.ba)}dg(b,a){return b>=this.R&&b<=this.ia&&a>=this.O&&a<=this.ba}}}
{"use strict";const e=self.B;e.Bd=class{constructor(b,a,d,c,f,k,h,l){this.pc=this.oc=this.rc=this.qc=this.xc=this.wc=this.Eb=this.Db=0;b instanceof e.Bd?this.Ba(b):this.set(b||0,a||0,d||0,c||0,f||0,k||0,h||0,l||0)}set(b,a,d,c,f,k,h,l){this.Db=+b;this.Eb=+a;this.wc=+d;this.xc=+c;this.qc=+f;this.rc=+k;this.oc=+h;this.pc=+l}LX(b,a,d,c){this.set(b,a,d,a,d,c,b,c)}Ba(b){this.Db=b.Db;this.Eb=b.Eb;this.wc=b.wc;this.xc=b.xc;this.qc=b.qc;this.rc=b.rc;this.oc=b.oc;this.pc=b.pc}vd(b){return this.Db===b.Db&&this.Eb===
b.Eb&&this.wc===b.wc&&this.xc===b.xc&&this.qc===b.qc&&this.rc===b.rc&&this.oc===b.oc&&this.pc===b.pc}toArray(){return[this.Db,this.Eb,this.wc,this.xc,this.qc,this.rc,this.oc,this.pc]}vh(b,a){b[a++]=this.Db;b[a++]=this.Eb;b[a++]=this.wc;b[a++]=this.xc;b[a++]=this.qc;b[a++]=this.rc;b[a++]=this.oc;b[a]=this.pc}Kia(b,a,d){b[a++]=this.Db;b[a++]=this.Eb;b[a++]=d;b[a++]=this.wc;b[a++]=this.xc;b[a++]=d;b[a++]=this.qc;b[a++]=this.rc;b[a++]=d;b[a++]=this.oc;b[a++]=this.pc;b[a]=d}offset(b,a){b=+b;a=+a;this.Db+=
b;this.Eb+=a;this.wc+=b;this.xc+=a;this.qc+=b;this.rc+=a;this.oc+=b;this.pc+=a}round(){this.Db=Math.round(this.Db);this.Eb=Math.round(this.Eb);this.wc=Math.round(this.wc);this.xc=Math.round(this.xc);this.qc=Math.round(this.qc);this.rc=Math.round(this.rc);this.oc=Math.round(this.oc);this.pc=Math.round(this.pc)}floor(){this.Db=Math.floor(this.Db);this.Eb=Math.floor(this.Eb);this.wc=Math.floor(this.wc);this.xc=Math.floor(this.xc);this.qc=Math.floor(this.qc);this.rc=Math.floor(this.rc);this.oc=Math.floor(this.oc);
this.pc=Math.floor(this.pc)}ceil(){this.Db=Math.ceil(this.Db);this.Eb=Math.ceil(this.Eb);this.wc=Math.ceil(this.wc);this.xc=Math.ceil(this.xc);this.qc=Math.ceil(this.qc);this.rc=Math.ceil(this.rc);this.oc=Math.ceil(this.oc);this.pc=Math.ceil(this.pc)}Ci(b){this.Db=b.R;this.Eb=b.O;this.wc=b.ia;this.xc=b.O;this.qc=b.ia;this.rc=b.ba;this.oc=b.R;this.pc=b.ba}XM(b,a){0===a?this.Ci(b):this.JX(b,Math.sin(a),Math.cos(a))}JX(b,a,d){const c=b.R*a,f=b.O*a,k=b.ia*a;a*=b.ba;const h=b.R*d,l=b.O*d,n=b.ia*d;b=b.ba*
d;this.Db=h-f;this.Eb=l+c;this.wc=n-f;this.xc=l+k;this.qc=n-a;this.rc=b+k;this.oc=h-a;this.pc=b+c}qM(b){b.set(Math.min(this.Db,this.wc,this.qc,this.oc),Math.min(this.Eb,this.xc,this.rc,this.pc),Math.max(this.Db,this.wc,this.qc,this.oc),Math.max(this.Eb,this.xc,this.rc,this.pc))}dg(b,a){var d=this.wc-this.Db,c=this.xc-this.Eb;const f=this.qc-this.Db,k=this.rc-this.Eb;b-=this.Db;a-=this.Eb;var h=d*d+c*c;let l=d*f+c*k;c=d*b+c*a;const n=f*f+k*k,p=f*b+k*a;let u=1/(h*n-l*l);d=(n*c-l*p)*u;h=(h*p-l*c)*u;
if(0<=d&&0<h&&1>d+h)return!0;d=this.oc-this.Db;c=this.pc-this.Eb;h=d*d+c*c;l=d*f+c*k;c=d*b+c*a;u=1/(h*n-l*l);d=(n*c-l*p)*u;h=(h*p-l*c)*u;return 0<=d&&0<h&&1>d+h}Vt(){return(this.Db+this.wc+this.qc+this.oc)/4}Wt(){return(this.Eb+this.xc+this.rc+this.pc)/4}tM(b){var a=b.Vt(),d=b.Wt();if(this.dg(a,d))return!0;a=this.Vt();d=this.Wt();if(b.dg(a,d))return!0;a=this.Db;d=this.Eb;const c=this.wc,f=this.xc,k=this.qc,h=this.rc,l=this.oc,n=this.pc;return e.fE(a,d,c,f,b)||e.fE(c,f,k,h,b)||e.fE(k,h,l,n,b)||e.fE(l,
n,a,d,b)}kia(){const b=this.Db,a=this.Eb;this.Db=this.wc;this.Eb=this.xc;this.wc=this.qc;this.xc=this.rc;this.qc=this.oc;this.rc=this.pc;this.oc=b;this.pc=a}}}
{"use strict";const e=self.B,b=[0,0,1,0,1,1,0,1],a=e.D(e.Bd);e.$o=class extends e.ja{constructor(d,c=!0){super();d||(d=b);this.ee=Float64Array.from(d);this.nB=new e.Rect;this.nq=!0;this.Va=c}m(){}DX(){return this.ee.length/2}gE(d){this.ee.length===d.length?this.ee.set(d):this.ee=Float64Array.from(d);this.nq=!0}pia(){this.gE(b)}Ba(d){this.gE(d.ee)}VM(){this.nq=!0}Ega(){if(this.nq){var d=this.ee,c=d[0],f=d[1],k=c,h=f;for(let l=0,n=d.length;l<n;l+=2){const p=d[l],u=d[l+1];p<c&&(c=p);p>k&&(k=p);u<f&&
(f=u);u>h&&(h=u)}this.nB.set(c,f,k,h);this.nq=!1}}Ci(d){let c=this.ee;8!==c.length&&(this.ee=c=new Float64Array(8));c[0]=d.R-NaN;c[1]=d.O-NaN;c[2]=d.ia-NaN;c[3]=d.O-NaN;c[4]=d.ia-NaN;c[5]=d.ba-NaN;c[6]=d.R-NaN;c[7]=d.ba-NaN;this.nB.Ba(d);this.nB.offset(NaN,NaN);this.nq=!1}WM(d,c,f){a.Ba(d);a.offset(c,f);this.gE(a.toArray());this.nq=!0}transform(d,c,f){let k=0,h=1;0!==f&&(k=Math.sin(f),h=Math.cos(f));this.eN(d,c,k,h)}eN(d,c,f,k){const h=this.ee;for(let l=0,n=h.length;l<n;l+=2){const p=l+1,u=h[l]*d,
q=h[p]*c;h[l]=u*k-q*f;h[p]=q*k+u*f}this.nq=!0}offset(d,c){const f=this.ee;for(let k=0,h=f.length;k<h;k+=2)f[k]+=d,f[k+1]+=c}dg(d,c){const f=this.ee;if(d===f[0]&&c===f[1])return!0;this.Ega();var k=this.nB;const h=k.R-110,l=k.O-101,n=k.ia+131;k=k.ba+120;let p,u,q,v,r,w,y,z;h<d?(p=h,q=d):(p=d,q=h);l<c?(u=l,v=c):(u=c,v=l);n<d?(r=n,y=d):(r=d,y=n);k<c?(w=k,z=c):(w=c,z=k);let E=0,G=0;for(let C=0,H=f.length;C<H;C+=2){var P=(C+2)%H;const I=f[C],M=f[C+1],Q=f[P];P=f[P+1];e.Qm(h,l,d,c,p,q,u,v,I,M,Q,P)&&++E;e.Qm(n,
k,d,c,r,y,w,z,I,M,Q,P)&&++G}return 1===E%2||1===G%2}uy(d,c,f){const k=d.ee,h=this.ee;if(this.dg(k[0]+c,k[1]+f)||d.dg(h[0]-c,h[1]-f))return!0;for(let n=0,p=h.length;n<p;n+=2){var l=(n+2)%p;d=h[n];const u=h[n+1],q=h[l];l=h[l+1];let v,r,w,y;d<q?(v=d,w=q):(v=q,w=d);u<l?(r=u,y=l):(r=l,y=u);for(let z=0,E=k.length;z<E;z+=2){const G=(z+2)%E;if(e.Qm(d,u,q,l,v,w,r,y,k[z]+c,k[z+1]+f,k[G]+c,k[G+1]+f))return!0}}return!1}Fh(){return this.Va}}}
{"use strict";const e=self.B;e.dv=class extends e.ja{constructor(b){super();this.Lk=new Map;if(b)for(const [a,d,c]of b)this.Set(a,d,c)}m(){this.Zc();this.Lk=null}Zc(){const b=this.Lk;for(const a of b.values())a.clear();b.clear()}Set(b,a,d){const c=this.Lk;let f=c.get(b);f||(f=new Map,c.set(b,f));f.set(a,d)}$(b,a){return(b=this.Lk.get(b))?b.get(a):b}Nz(b){return(b=this.Lk.get(b))?b.has(void 0):!1}rl(b,a){const d=this.Lk,c=d.get(b);if(!c)return!1;(a=c.delete(a))&&0===c.size&&d.delete(b);return a}UN(b){const a=
this.Lk,d=a.get(b);d&&(d.clear(),a.delete(b));for(const [c,f]of a.entries())f.delete(b)&&0===f.size&&a.delete(c)}gn(){let b=0;for(const a of this.Lk.values())b+=a.size;return b}*values(){for(const b of this.Lk.values())yield*b.values()}*entries(){for(const [b,a]of this.Lk.entries())for(const [d,c]of a.entries())yield[b,d,c]}}}
{"use strict";const e=self.B;e.yE=class extends e.ja{constructor(){super();this.wo=new Set;this.Qc=[];this.rx=!1}m(){this.Zc()}Zc(){this.wo.clear();e.F(this.Qc);this.rx=!1}yc(b){this.wo.has(b)||(this.wo.add(b),this.rx||this.Qc.push(b))}Nz(b){return this.wo.has(b)}rl(b){this.wo.delete(b)&&(this.rx=!0)}gn(){return this.wo.size}ln(){return 0===this.wo.size}YE(){this.rx&&(this.Kca(),this.rx=!1);return this.Qc}Kca(){const b=this.Qc;e.F(b);for(const a of this.wo)b.push(a)}}}
{"use strict";const e=new Map,b=new Map,a=new Map,d=new Map,c=new Map,f=new Map;f.set("linear","noease");f.set("default","noease");self.cp=class k{constructor(){}static IO(){this.Lv();const h=[...d.keys()];h.sort();return[...b.keys()].concat(h)}static D3(h){this.Lv();return[...b.keys()].includes(h)}static laa(h){const l=f.get(h);if(l)return e.get(l);if(k.D3(h))return e.get(h);if(c.has(h))return c.get(h)}static kp(h){this.Lv();const l=k.laa(h);return l?l:d.get(h)}static Bl(h){this.Lv();return this.IO()[h]}static Lv(){0===
e.size&&(this.Hb("default",()=>{}),this.Hb("noease",this.p4),this.Hb("easeinsine",this.O_),this.Hb("easeoutsine",this.X_),this.Hb("easeinoutsine",this.K_),this.Hb("easeinelastic",this.z_),this.Hb("easeoutelastic",this.S_),this.Hb("easeinoutelastic",this.F_),this.Hb("easeinback",this.w_),this.Hb("easeoutback",this.P_),this.Hb("easeinoutback",this.B_),this.Hb("easeinbounce",this.WN),this.Hb("easeoutbounce",this.SE),this.Hb("easeinoutbounce",this.C_),this.Hb("easeincubic",this.y_),this.Hb("easeoutcubic",
this.R_),this.Hb("easeinoutcubic",this.E_),this.Hb("easeinquad",this.L_),this.Hb("easeoutquad",this.U_),this.Hb("easeinoutquad",this.H_),this.Hb("easeinquart",this.M_),this.Hb("easeoutquart",this.V_),this.Hb("easeinoutquart",this.I_),this.Hb("easeinquint",this.N_),this.Hb("easeoutquint",this.W_),this.Hb("easeinoutquint",this.J_),this.Hb("easeincirc",this.x_),this.Hb("easeoutcirc",this.Q_),this.Hb("easeinoutcirc",this.D_),this.Hb("easeinexpo",this.A_),this.Hb("easeoutexpo",this.T_),this.Hb("easeinoutexpo",
this.G_),this.RR("cubicbezier",this.v_),this.RR("spline",this.Y_))}static Hb(h,l){k.tH(h,l,"predefined")}static RR(h,l){k.tH(h,l,"private")}static gY(h,l){this.Lv();k.tH(h,l,"custom",void 0)}static tH(h,l,n,p){switch(n){case "predefined":e.set(h,l);b.set(h,l);break;case "custom":p?(a.has(p)||a.set(p,new Map),a.get(p).set(h,l)):d.set(h,l);break;case "private":e.set(h,l);c.set(h,l);break;default:throw Error("unexpected ease mode");}}static p4(h,l,n,p){return n*h/p+l}static L_(h,l,n,p){return n*(h/=
p)*h+l}static U_(h,l,n,p){return-n*(h/=p)*(h-2)+l}static H_(h,l,n,p){return 1>(h/=p/2)?n/2*h*h+l:-n/2*(--h*(h-2)-1)+l}static y_(h,l,n,p){return n*(h/=p)*h*h+l}static R_(h,l,n,p){return n*((h=h/p-1)*h*h+1)+l}static E_(h,l,n,p){return 1>(h/=p/2)?n/2*h*h*h+l:n/2*((h-=2)*h*h+2)+l}static M_(h,l,n,p){return n*(h/=p)*h*h*h+l}static V_(h,l,n,p){return-n*((h=h/p-1)*h*h*h-1)+l}static I_(h,l,n,p){return 1>(h/=p/2)?n/2*h*h*h*h+l:-n/2*((h-=2)*h*h*h-2)+l}static N_(h,l,n,p){return n*(h/=p)*h*h*h*h+l}static W_(h,
l,n,p){return n*((h=h/p-1)*h*h*h*h+1)+l}static J_(h,l,n,p){return 1>(h/=p/2)?n/2*h*h*h*h*h+l:n/2*((h-=2)*h*h*h*h+2)+l}static O_(h,l,n,p){return-n*Math.cos(h/p*(Math.PI/2))+n+l}static X_(h,l,n,p){return n*Math.sin(h/p*(Math.PI/2))+l}static K_(h,l,n,p){return-n/2*(Math.cos(Math.PI*h/p)-1)+l}static A_(h,l,n,p){return 0===h?l:n*Math.pow(2,10*(h/p-1))+l}static T_(h,l,n,p){return h===p?l+n:n*(-Math.pow(2,-10*h/p)+1)+l}static G_(h,l,n,p){return 0===h?l:h===p?l+n:1>(h/=p/2)?n/2*Math.pow(2,10*(h-1))+l:n/2*
(-Math.pow(2,-10*--h)+2)+l}static x_(h,l,n,p){return-n*(Math.sqrt(1-(h/=p)*h)-1)+l}static Q_(h,l,n,p){return n*Math.sqrt(1-(h=h/p-1)*h)+l}static D_(h,l,n,p){return 1>(h/=p/2)?-n/2*(Math.sqrt(1-h*h)-1)+l:n/2*(Math.sqrt(1-(h-=2)*h)+1)+l}static z_(h,l,n,p){let u=0,q=n;if(0===h)return l;if(1===(h/=p))return l+n;u||(u=.3*p);q<Math.abs(n)?(q=n,n=u/4):n=u/(2*Math.PI)*Math.asin(n/q);return-(q*Math.pow(2,10*--h)*Math.sin(2*(h*p-n)*Math.PI/u))+l}static S_(h,l,n,p){let u,q=0,v=n;if(0===h)return l;if(1===(h/=
p))return l+n;q||(q=.3*p);v<Math.abs(n)?(v=n,u=q/4):u=q/(2*Math.PI)*Math.asin(n/v);return v*Math.pow(2,-10*h)*Math.sin(2*(h*p-u)*Math.PI/q)+n+l}static F_(h,l,n,p){let u,q=0,v=n;if(0===h)return l;if(2===(h/=p/2))return l+n;q||(q=.3*p*1.5);v<Math.abs(n)?(v=n,u=q/4):u=q/(2*Math.PI)*Math.asin(n/v);return 1>h?-.5*v*Math.pow(2,10*--h)*Math.sin(2*(h*p-u)*Math.PI/q)+l:v*Math.pow(2,-10*--h)*Math.sin(2*(h*p-u)*Math.PI/q)*.5+n+l}static w_(h,l,n,p,u){void 0===u&&(u=1.70158);return n*(h/=p)*h*((u+1)*h-u)+l}static P_(h,
l,n,p,u){void 0===u&&(u=1.70158);return n*((h=h/p-1)*h*((u+1)*h+u)+1)+l}static B_(h,l,n,p,u){void 0===u&&(u=1.70158);return 1>(h/=p/2)?n/2*h*h*(((u*=1.525)+1)*h-u)+l:n/2*((h-=2)*h*(((u*=1.525)+1)*h+u)+2)+l}static WN(h,l,n,p){return n-k.SE(p-h,0,n,p)+l}static SE(h,l,n,p){return(h/=p)<1/2.75?7.5625*n*h*h+l:h<2/2.75?n*(7.5625*(h-=1.5/2.75)*h+.75)+l:h<2.5/2.75?n*(7.5625*(h-=2.25/2.75)*h+.9375)+l:n*(7.5625*(h-=2.625/2.75)*h+.984375)+l}static C_(h,l,n,p){return h<p/2?.5*k.WN(2*h,0,n,p)+l:.5*k.SE(2*h-p,
0,n,p)+.5*n+l}static v_(h,l,n,p,u){return l+3*h*(n-l)+3*h**2*(l+p-2*n)+h**3*(u-l+3*n-3*p)}static Y_(h,l,n,p,u,q,v,r,w,y){if(p===u&&q===v)return h;if(1==h)h=1;else{for(var z=0,E=1,G=y[E];10!=E&&G<=h;)E++,G=y[E],z+=.1;E--;G=y[E];y=z+(h-G)/(y[E+1]-G)*.1;r=r-3*q+3*p-l;q=3*q-6*p+3*l;l=3*(p-l);p=3*r*y*y+2*q*y+l;if(0!==p)if(.02<=p)for(z=0;4>z;++z)y-=(((r*y+q)*y+l)*y-h)/(3*r*y*y+2*q*y+l);else{p=z;z+=.1;E=0;let P;do y=p+(z-p)/2,G=((r*y+q)*y+l)*y-h,0<G?z=y:p=y,G=1E-7<Math.abs(G),P=10>++E;while(G&&P)}h=y}return(((w-
3*v+3*u-n)*h+(3*v-6*u+3*n))*h+3*(u-n))*h}static A0(h,l,n,p){const u=[];p=p-3*n+3*l-h;n=3*n-6*l+3*h;h=3*(l-h);for(let q=0;11>q;++q)l=.1*q,u.push(((p*l+n)*l+h)*l);return u}}}{"use strict";const e=self.B;e.qoa=class{constructor(){this.zV=[]}m(){this.Zc();this.zV=null}Zc(){e.Yga(this.zV)}}}"use strict";
self.B.Event=class{constructor(e,b){this.type=e;this.cancelable=!!b;this.Fha=this.NM=this.defaultPrevented=!1}preventDefault(){if(!this.cancelable)throw Error(`event '${this.type}' is not cancelable`);this.defaultPrevented=!0}stopPropagation(){if(!this.cancelable)throw Error(`event '${this.type}' cannot be stopped`);if(this.Fha)throw Error(`cannot stop async event '${this.type}' propagation`);this.NM=!0}};
{"use strict";const e=self.B;e.Event.X1=class extends e.ja{constructor(b){super();this.Aa=b;this.Mf=[];this.rs=new Set;this.Uf=[];this.Ys=new Set;this.Bw=0;this.pt=[]}m(){0<this.Bw||(e.F(this.Mf),this.rs.clear(),e.F(this.Uf),this.Ys.clear(),e.F(this.pt),e.m(this))}PR(b,a){this.VS()?this.pt.push({GM:"add",Ai:b,capture:a}):a?this.rs.has(b)||(this.Mf.push(b),this.rs.add(b)):this.Ys.has(b)||(this.Uf.push(b),this.Ys.add(b))}Yca(b,a){this.VS()?this.pt.push({GM:"remove",Ai:b,capture:a}):a?this.rs.has(b)&&
(this.rs.delete(b),e.Wq(this.Mf,b)):this.Ys.has(b)&&(this.Ys.delete(b),e.Wq(this.Uf,b))}$aa(){return!this.Mf.length&&!this.Uf.length}VS(){return 0<this.Bw}Hca(){const b=new Set,a=new Set;for(const d of this.pt)if("add"===d.GM)this.PR(d.Ai,d.capture),d.capture?a.delete(d.Ai):b.delete(d.Ai);else if("remove"===d.GM)d.capture?(this.rs.delete(d.Ai),a.add(d.Ai)):(this.Ys.delete(d.Ai),b.add(d.Ai));else throw Error("invalid op");e.rh(this.Uf,b);e.rh(this.Mf,a);e.F(this.pt)}R$(b){this.hs();let a=!1;for(let d=
0,c=this.Mf.length;d<c;++d)if(this.Mf[d](b),b.NM){a=!0;break}if(!a)for(let d=0,c=this.Uf.length;d<c&&(this.Uf[d](b),!b.NM);++d);this.es();return!b.defaultPrevented}T$(b){this.hs();for(let a=0,d=this.Mf.length;a<d;++a)this.Mf[a](b);for(let a=0,d=this.Uf.length;a<d;++a)this.Uf[a](b);this.es();return!0}hs(){this.Bw++}es(){this.Bw--;0===this.Bw&&0<this.pt.length&&this.Hca()}Or(b){b?this.hs():this.es()}rS(b){const a=[];this.hs();for(let c=0,f=this.Mf.length;c<f;++c){var d=this.Mf[c](b);d instanceof Promise&&
a.push(d)}for(let c=0,f=this.Uf.length;c<f;++c)d=this.Uf[c](b),d instanceof Promise&&a.push(d);this.es();return a.length?Promise.all(a).then(()=>!b.defaultPrevented):!b.defaultPrevented}async O$(b){return await this.rS(b)}async P$(b){this.hs();for(let d=0,c=this.Mf.length;d<c;++d){var a=this.Mf[d](b);a instanceof Promise&&await a}for(let d=0,c=this.Uf.length;d<c;++d)a=this.Uf[d](b),a instanceof Promise&&await a;this.es();return!b.defaultPrevented}*Q$(b){this.hs();for(let d=0,c=this.Mf.length;d<c;++d){var a=
this.Mf[d](b);e.nn(a)&&(yield*a)}for(let d=0,c=this.Uf.length;d<c;++d)a=this.Uf[d](b),e.nn(a)&&(yield*a);this.es()}}}
{"use strict";const e=self.B;e.Event.zb=class extends e.ja{constructor(){super();this.bq=new Map;this.vJ=!1}m(){if(this.vJ)throw Error("already released");this.dZ();this.vJ=!0;e.m(this)}bs(){return this.vJ}dZ(){for(let b of this.bq.values())b.m();this.bq.clear()}Ip(b,a){let d=this.bq.get(b);return d?d:a?(d=e.D(e.Event.X1,b),this.bq.set(b,d),d):null}CF(b){return this.bq.has(b)}addEventListener(b,a,d){this.Ip(b,!0).PR(a,!!d)}removeEventListener(b,a,d){let c=this.Ip(b,!1);c&&(c.Yca(a,!!d),c.$aa()&&this.bq.delete(b))}dispatchEvent(b){const a=
this.Ip(b.type,!1);return a?b.cancelable?a.R$(b):a.T$(b):!0}async mM(b){const a=this.Ip(b.type,!1);return a?await a.O$(b):!0}iha(b){const a=this.Ip(b.type,!1);return a?a.rS(b):!0}async hha(b){const a=this.Ip(b.type,!1);a&&await a.P$(b)}jha(b){const a=this.Ip(b.type,!1);if(!a)return null;if(b.cancelable)throw Error("not supported");return a.Q$(b)}Or(b){for(const a of this.bq.values())a.Or(b)}}}
{"use strict";const e=self.B,b="undefined"!==typeof requestIdleCallback;let a=[],d=-1,c=0;function f(n){d=b&&0===c?requestIdleCallback(k,{timeout:35}):setTimeout(k,0<c?1:n)}function k(n){d=-1;if(a.length){var p=performance.now(),u=0;do{h(a.shift());var q=performance.now();++u;var v=(q-p)/u*1.1}while(a.length&&(b&&0===c&&"undefined"!==typeof n?v<n.timeRemaining():12>q-p+v));-1===d&&a.length&&f(Math.max(16-(q-p),4))}}function h(n){let p;try{p=n.Ai()}catch(u){n.reject(u);return}n.resolve(p)}let l=e.qQ.Nz("disable-asyncify");
l&&console.warn("[Asyncify] Asyncify has been disabled due to disable-asyncify in the query string. Some work will now be done synchronously.");e.ql=function(n){let p=null;e.Qt&&(p=e.lz());return new Promise((u,q)=>{a.push({Ai:n,resolve:u,reject:q,stack:p});l?h(a.pop()):-1===d&&f(16)})};e.ql.WQ=function(n){if(n)++c;else if(--c,0>c)throw Error("already turned off high throughput mode");}}
{"use strict";const e=self.B;let b=-1;function a(){b=-1}e.gz=function(){-1===b&&(b=Date.now(),self.setTimeout(a,16));return b};let d=-1,c=-1,f=new Set;function k(){c=d=-1;let h=Date.now();for(let l of f)if(l.r9(h)){let n=l.Xp;if(-1===c||n<c)c=n}else f.delete(l);-1!==c&&(d=self.setTimeout(k,Math.max(c-h+100,1E3)))}e.B2=class{constructor(h,l){this.qs=h;this.uD=1E3*l;this.Xp=0;this.Lb=!1}Nc(){let h=e.gz();this.Xp=h+this.uD;this.Lb||(f.add(this),this.Lb=!0);-1===d?(c=this.Xp,d=self.setTimeout(k,this.uD+
100)):this.Xp<c&&c>h+1E3&&(self.clearTimeout(d),c=this.Xp,d=self.setTimeout(k,this.uD+100))}r9(h){return h>=this.Xp?this.qs()?(this.Xp=h+this.uD,!0):this.Lb=!1:!0}YY(){this.Lb&&(f.delete(this),this.Lb=!1,0===f.size&&-1!==d&&(self.clearTimeout(d),c=d=-1))}m(){this.YY();this.qs=null}}}
{"use strict";const e=self.B;e.Ac=class b{constructor(a){this.Fs=!1;this.wJ=a}dz(){this.Fs||(this.Fs=!0,this.wJ&&(this.wJ(),this.wJ=null))}m(){this.dz()}static m(a){return new b(()=>a.m())}static md(a,d,c){if("undefined"===typeof f||null===f)var f=!1;else if("boolean"!==typeof f&&"object"!==typeof f)throw new TypeError("invalid event listener options");if(d.includes(" ")){d=d.split(" ");const k=new e.pu;for(let h of d)a.addEventListener(h,c,f),k.yc(e.D(e.Ac,()=>a.removeEventListener(h,c,f)));return k}a.addEventListener(d,
c,f);return e.D(e.Ac,()=>a.removeEventListener(d,c,f))}};e.Ura=class extends e.Ac{};e.pu=class extends e.Ac{constructor(...b){super();this.Ge=new Set;for(let a of b)this.yc(a)}yc(...b){if(this.Fs)throw Error("already disposed");for(let a of b)this.Ge.add(a)}Jh(b){if(this.Fs)throw Error("already disposed");this.Ge.delete(b)}dz(){if(this.Fs)throw Error("already disposed");this.Fs=!0;for(let b of this.Ge)b.dz();this.Ge.clear();this.Ge=null}m(){this.dz()}}}
{"use strict";const e=self.B;e.Ar=class extends e.ja{constructor(){super();this.At=this.Qx=this.N=this.qB=0}yc(b){this.N=+b-this.qB;this.Qx=this.At+this.N;this.qB=this.Qx-this.At-this.N;this.At=this.Qx}$(){return this.At}Nc(){this.At=this.Qx=this.N=this.qB=0}Set(b){this.Qx=this.N=this.qB=0;this.At=+b}m(){}}}
{"use strict";const e=self.B,b={nG:function(a){this.RX=a;this.left=this.right=this.RX.pb;this.parent=null;this.color=!1;this.key=null},zp:function(a){this.size=0;this.pb=new b.nG(this);this.pb.color=!1;this.root=this.pb;this.root.parent=this.pb;this.compare=a||this.eha}};ya=b.zp.prototype;ya.eha=function(a,d){return a<d?-1:d<a?1:0};ya.clone=function(){var a=new b.zp(this.compare);a.zha(this);return a};ya.clear=function(){this.size=0;this.pb=new b.nG(this);this.pb.color=!1;this.root=this.pb;this.root.parent=
this.pb};ya.vy=function(a){var d=a.right;a.right=d.left;d.left!=this.pb&&(d.left.parent=a);d.parent=a.parent;a.parent==this.pb?this.root=d:a==a.parent.left?a.parent.left=d:a.parent.right=d;d.left=a;a.parent=d};ya.Ey=function(a){var d=a.left;a.left=d.right;d.right!=this.pb&&(d.right.parent=a);d.parent=a.parent;a.parent==this.pb?this.root=d:a==a.parent.right?a.parent.right=d:a.parent.left=d;d.right=a;a.parent=d};ya.Nt=function(a){if(this.contains(a))this.ry(a).key=a;else{var d=new b.nG(this);d.key=
a;a=this.pb;for(var c=this.root;c!=this.pb;)a=c,c=0>this.compare(d.key,c.key)?c.left:c.right;d.parent=a;a==this.pb?this.root=d:0>this.compare(d.key,a.key)?a.left=d:a.right=d;d.left=this.pb;d.right=this.pb;d.color=!0;this.Aha(d);this.size++}};ya.Aha=function(a){for(;a!=this.pb&&a!=this.root&&1==a.parent.color;)if(a.parent==a.parent.parent.left){var d=a.parent.parent.right;1==d.color?(a.parent.color=!1,d.color=!1,a.parent.parent.color=!0,a=a.parent.parent):(a==a.parent.right&&(a=a.parent,this.vy(a)),
a.parent.color=!1,a.parent.parent.color=!0,a.parent.parent!=this.pb&&this.Ey(a.parent.parent))}else d=a.parent.parent.left,1==d.color?(a.parent.color=!1,d.color=!1,a.parent.parent.color=!0,a=a.parent.parent):(a==a.parent.left&&(a=a.parent,this.Ey(a)),a.parent.color=!1,a.parent.parent.color=!0,a.parent.parent!=this.pb&&this.vy(a.parent.parent));this.root.color=!1};ya.gha=function(a){var d=a.left==this.pb||a.right==this.pb?a:this.Yo(a);var c=d.left!=this.pb?d.left:d.right;c.parent=d.parent;d.parent==
this.pb?this.root=c:d==d.parent.left?d.parent.left=c:d.parent.right=c;d!=a&&(a.key=d.key);0==d.color&&this.fha(c);this.size--};ya.fha=function(a){for(;a!=this.root&&0==a.color;)if(a==a.parent.left){var d=a.parent.right;1==d.color&&(d.color=!1,a.parent.color=!0,this.vy(a.parent),d=a.parent.right);0==d.left.color&&0==d.right.color?(d.color=!0,a=a.parent):(0==d.right.color&&(d.left.color=!1,d.color=!0,this.Ey(d),d=a.parent.right),d.color=a.parent.color,a.parent.color=!1,d.right.color=!1,this.vy(a.parent),
a=this.root)}else d=a.parent.left,1==d.color&&(d.color=!1,a.parent.color=!0,this.Ey(a.parent),d=a.parent.left),0==d.right.color&&0==d.left.color?(d.color=!0,a=a.parent):(0==d.left.color&&(d.right.color=!1,d.color=!0,this.vy(d),d=a.parent.left),d.color=a.parent.color,a.parent.color=!1,d.left.color=!1,this.Ey(a.parent),a=this.root);a.color=!1};ya.remove=function(a){a=this.ry(a);if(a!=this.pb){var d=a.key;this.gha(a);return d}return null};ya.min=function(a){for(;a.left!=this.pb;)a=a.left;return a};ya.max=
function(a){for(;a.right!=this.pb;)a=a.right;return a};ya.Yo=function(a){if(a.right!=this.pb)return this.min(a.right);for(var d=a.parent;d!=this.pb&&a==d.right;)a=d,d=d.parent;return d};ya.ry=function(a){for(var d=this.root;d!=this.pb&&0!=this.compare(d.key,a);)d=0>this.compare(a,d.key)?d.left:d.right;return d};ya.contains=function(a){return null!=this.ry(a).key};ya.rM=function(){var a=[];this.forEach(function(d){a.push(d)});return a};ya.zha=function(a){if("array"==b.fN(a))for(var d=0;d<a.length;d++)this.Nt(a[d]);
else if("function"==b.fN(a.forEach))a.forEach(this.Nt,this);else if("function"==b.fN(a.rM))for(a=a.rM(),d=0;d<a.length;d++)this.Nt(a[d]);else if("object"==b.fN(a))for(d in a)this.Nt(a[d])};ya.range=function(a,d){var c=[];this.Eia(function(f){c.push(f)},a,d);return c};ya.Eia=function(a,d,c){if(!this.Rt())for(d=this.ry(d),c=this.ry(c);d!=c&&!a.call(void 0,d.key,this);)d=this.Yo(d)};ya.forEach=function(a,d){if(!this.Rt())for(var c=this.min(this.root);c!=this.pb;c=this.Yo(c))a.call(d,c.key,c.key,this)};
ya.some=function(a,d){if(this.Rt())return!1;for(var c=this.min(this.root);c!=this.pb;c=this.Yo(c))if(a.call(d,c.key,c.key,this))return!0;return!1};ya.every=function(a,d){if(this.Rt())return!1;for(var c=this.min(this.root);c!=this.pb;c=this.Yo(c))if(!a.call(d,c.key,c.key,this))return!1;return!0};ya.map=function(a,d){var c=[];if(this.Rt())return c;for(var f=this.min(this.root);f!=this.pb;f=this.Yo(f))c.push(a.call(d,f.key,f.key,this));return c};ya.filter=function(a,d){var c=[];if(this.Rt())return c;
for(var f=this.min(this.root);f!=this.pb;f=this.Yo(f))a.call(d,f.key,f.key,this)&&c.push(f.key);return c};ya.Rt=function(){return 0==this.size};e.zp=class extends e.ja{constructor(a){super();this.kh=new b.zp(a);this.Is=!1;this.Gq=new Set;this.Hq=new Set}yc(a){this.Is?this.kh.contains(a)?this.Hq.delete(a):this.Gq.add(a):this.kh.Nt(a)}Jh(a){this.Is?this.kh.contains(a)?this.Hq.add(a):this.Gq.delete(a):this.kh.remove(a)}Nz(a){return this.Is?this.Gq.has(a)?!0:!this.Hq.has(a)&&this.kh.contains(a):this.kh.contains(a)}Zc(){this.kh.clear();
this.Gq.clear();this.Hq.clear()}toArray(){if(this.Is)throw Error("cannot be used in queueing mode");return this.kh.rM()}gn(){return this.kh.size+this.Gq.size-this.Hq.size}ln(){return 0===this.gn()}Kh(a){a=!!a;if(this.Is!==a&&(this.Is=a,!a)){for(const d of this.Hq)this.kh.remove(d);this.Hq.clear();for(const d of this.Gq)this.kh.Nt(d);this.Gq.clear()}}eO(a){this.kh.forEach(a)}*values(){if(!this.ln()){var a=this.kh;for(let d=a.min(a.root);d!=a.pb;d=a.Yo(d))yield d.key}}[Symbol.iterator](){return this.values()}}}
{"use strict";const e=self.B;e.gQ=class{constructor(b=e.hardwareConcurrency){this.fga=b;this.kL=[];this.OI=0}yc(b){return new Promise((a,d)=>{this.kL.push({Ai:b,resolve:a,reject:d});this.fT()})}async fT(){if(this.kL.length&&!(this.OI>=this.fga)){this.OI++;var b=this.kL.shift();try{const a=await b.Ai();b.resolve(a)}catch(a){b.reject(a)}this.OI--;this.fT()}}}}
{"use strict";const e=self.B;e.J5=class{constructor(b,a,d){this.qs=b;this.Rfa=a;this.Sfa=d||2*a;this.Et=-1;this.DC=-Infinity;this.NW=()=>this.tca();this.zfa=this.XJ=!1;this.rw=null}qaa(){return"undefined"!==typeof e.NY&&e.NY.kma()?this.Sfa:this.Rfa}XY(){var b=[];if(-1===this.Et){this.rw=b;b=e.gz();var a=b-this.DC,d=this.qaa();a>=d&&this.zfa?(this.DC=b,this.FT()):this.Et=self.setTimeout(this.NW,Math.max(d-a,4))}}FT(){this.XJ=!0;const b=this.rw;this.rw=null;b?this.qs(...b):this.qs();this.XJ=!1}Nc(){this.XJ||
(this.WR(),this.rw=null,this.DC=e.gz())}tca(){this.Et=-1;this.DC=e.gz();this.FT()}WR(){-1!==this.Et&&(self.clearTimeout(this.Et),this.Et=-1)}m(){this.WR();this.NW=this.rw=this.qs=null}}}"use strict";function gc(e,b){if(!e.YU)throw Error("no get base size callback set");return e.YU(b)}function hc(e){if(!e.nW)throw Error("no redraw callback set");e.nW()}self.B.Epa=class{constructor(){this.Ofa=new Map;this.nW=this.pW=this.YU=null}};"use strict";
self.B.Dpa=class{constructor(e,b){this.et=e;this.Cfa=b;this.Wc=0;gc(this.et,b).then(()=>{hc(this.et)}).catch(a=>{console.error("[SVG] Error loading SVG: ",a);hc(this.et)});this.lL=null}m(){if(0>=this.Wc)throw Error("already released");this.Wc--;0===this.Wc&&this.$v()}$v(){if(this.lL){var e=this.et;if(!e.pW)throw Error("no release result callback set");e.pW(this.lL);this.lL=null}this.et.Ofa.delete(this.Cfa);this.et=null}};
{"use strict";const e=self.B;e.rsa="\ufeff";const b=new Set([..."0123456789"]);e.E3=function(n){return b.has(n)};const a=new Set([..." \t\n\r\u00a0\u0085\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u200b\u2028\u2029\u202f\u205f\u3000"]);e.Yz=function(n){return a.has(n)};e.Vka=function(n){return[...n].filter(p=>!e.Yz(p)).join("")};e.$F=function(n){for(const p of n)if(!e.Yz(p))return!1;return!0};e.R3=function(n){return 1===n.length&&32>n.charCodeAt(0)};e.n0=function(n){return[...n].filter(p=>
!e.R3(p)).join("")};const d=new Set([..."0123456789.+-e"]);e.uma=function(n){n=n.trim();if(!n.length)return!1;let p=n.charAt(0);if("-"!==p&&!b.has(p))return!1;for(let u of n)if(!d.has(u))return!1;return!0};e.X5=function(n){let p=n.length;for(;0<p&&e.E3(n.charAt(p-1));)--p;return n.substr(0,p)};e.Gla=function(n){let p=e.X5(n);n=(n=n.substr(p.length))?(parseInt(n,10)+1).toString():"2";return p+n};const c=new Map([["&","&amp;"],["<","&lt;"],[">","&gt;"],['"',"&quot;"],["'","&#39;"]]);function f(n){return c.get(n)}
const k=/[&<>"']/g;e.c0=function(n){return n.replace(k,f)};e.Lka=function(n){n=e.Yi(n,"\\","\\\\");n=e.Yi(n,'"','\\"');n=e.Yi(n,"\t","\\t");n=e.Yi(n,"\r","");return e.Yi(n,"\n","\\n")};e.Mka=function(n){n=e.Yi(n,"&","&amp;");n=e.Yi(n,"<","&lt;");n=e.Yi(n,">","&gt;");return e.Yi(n,'"',"&quot;")};const h=/[-[\]{}()*+?.,\\^$|#\s]/g;e.tu=function(n){return n.replace(h,"\\$&")};e.Wka=function(n,p,u=!1){if(!p)return[];u||(n=n.toLowerCase(),p=p.toLowerCase());u=p.length;var q=0;let v=[];for(;-1<(q=n.indexOf(p,
q));)v.push(q),q+=u;return v};e.Yi=function(n,p,u){return n.replaceAll(p,()=>u)};e.Aoa=function(n,p,u){return n.replace(new RegExp(e.tu(p),"gi"),()=>u)};e.jqa=function(n,p){"string"===typeof p?n.textContent=p:p.wV?n.textContent=p.toString():(n.innerHTML=p.bN(),p instanceof e.Vm&&p.Uga(n))};e.Pra=function(n,p){return n instanceof e.IF||n instanceof e.Vm?n.vd(p):p instanceof e.IF||p instanceof e.Vm?p.vd(n):n===p};e.Qra=function(n,...p){let u=n;for(let q=0,v=p.length;q<v;++q){const r=`{${q}}`;if(!n.includes(r))throw Error(`missing placeholder '${r}' in string substitution`);
u=u.replace(r,p[q].toString())}return u};e.Rra=function(n,...p){let u=n,q=-1,v=-1;for(let r=0,w=p.length;r<w;++r){const y=`{${r}}`;n.includes(y)?(v=r,u=u.replace(y,p[r].toString())):-1===q&&(q=r)}if(0<=q&&0<=v&&q<v)throw Error(`missing placeholder '${q}' in string substitution`);return u};e.Sra=function(n,p){for(let [u,q]of Object.entries(p))n=n.replaceAll(u,q.toString());return n};e.xra=function(n,p){n=n.toLowerCase();p=p.toLowerCase();return n>p?1:n<p?-1:0};e.cla=function(n,p){p="common."+(p?"dataRates":
"dataSizes")+".";const u=self.iua;if(1024>n)return u(p+"bytes",n);if(1048576>n)return n/=1024,n=10>n?Math.round(10*n)/10:Math.round(n),u(p+"kilobytes",n);if(1073741824>n)return n/=1048576,n=10>n?Math.round(10*n)/10:Math.round(n),u(p+"megabytes",n);if(1099511627776>n)return n/=1073741824,n=10>n?Math.round(10*n)/10:Math.round(n),u(p+"gigabytes",n);n/=1099511627776;n=10>n?Math.round(10*n)/10:Math.round(n);return u(p+"terabytes",n)};const l={Rga:!1,bha:!0,yha:!0,Vha:!0,IX:!0};e.dla=function(n,p){p=Object.assign({},
l,p);e.U3.soa("common.time");const u=[],q=self.lang,v=self.hua;if(p.bha){var r=Math.floor(n/86400);0<r&&(n-=86400*r,u.push(v(".days",null,r)))}p.yha&&(r=Math.floor(n/3600),0<r||u.length)&&(n-=3600*r,u.push(v(".hours",null,r)));p.Vha&&(r=Math.floor(n/60),0<r||u.length||!p.IX)&&(n-=60*r,u.push(v(".minutes",null,r)));p.IX&&u.push(v(".seconds",null,Math.floor(n%60)));n=(p.Rga?q(".approx-prefix"):"")+u.join(q(".separator"));e.U3.loa();return n};e.Wsa=function(n,p){let u=0>n?"-":"";n=Math.abs(n);n=n.toString();
p-=n.length;for(let q=0;q<p;++q)u+="0";return u+n};e.Tra=function(n){return n.toLowerCase().replace(/\b\w/g,p=>p.toUpperCase())};e.hka=function(n,p){n=n.split(".").map(u=>u.trim());p=p.split(".").map(u=>u.trim());e.HX(n);e.HX(p);n=n.map(u=>parseInt(u,10));p=p.map(u=>parseInt(u,10));for(let u=0;4>u;++u){const q=n[u]-p[u];if(0!==q)return 0>q?-1:1}return 0};e.uka=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,n=>{const p=Math.floor(16*Math.random());return("x"===n?p:p&3|8).toString(16)})};
e.Nra=function(n,p){if(n.length!==p.length)throw Error("strings must be same length");let u=0;for(let q=0,v=n.length;q<v;++q)n.charAt(q)!==p.charAt(q)&&++u;return u};e.Ora=function(n,p){if(0===n.length)return p.length;if(0===p.length)return n.length;let u,q,v,r;if(n.length>p.length){var w=n;n=p;p=w}r=Array(n.length+1);for(w=0;w<=n.length;w++)r[w]=w;for(w=1;w<=p.length;w++){q=w;for(u=1;u<=n.length;u++)v=p[w-1]===n[u-1]?r[u-1]:Math.min(r[u-1]+1,Math.min(q+1,r[u]+1)),r[u-1]=q,q=v;r[n.length]=q}return r[n.length]}}
{"use strict";const e=self.B,b=new Map([["b","strong"],["i","em"],["s","s"],["u","u"],["sub","sub"],["sup","sup"],["small","small"],["mark","mark"],["a1","a"],["a2","a"],["a3","a"],["a4","a"],["a5","a"],["a6","a"],["a7","a"],["a8","a"],["a9","a"],["bad",["span","bbCodeBad"]],["good",["span","bbCodeGood"]],["info",["span","bbCodeInfo"]],["h1",["span","bbCodeH1"]],["h2",["span","bbCodeH2"]],["h3",["span","bbCodeH3"]],["h4",["span","bbCodeH4"]],["item",["span","bbCodeItem"]]]),a=/\[(\/?)([a-zA-Z0-9]+)\]/g,
d=/\[(\/?)([^\[]*?)\]/g;let c=null,f=0;function k(l,n,p){var u=b.get(p);if(u){if("string"===typeof u){if("a"!==u||n)return"<"+n+u+">";n=parseInt(p.substring(1),10)-1;if(0>n||n>=c.length)throw Error("invalid bbcode link substitution");u=c[n];if("string"===typeof u)return`<a href="${c[n]}">`;if("function"===typeof u)return`<a class="bblink${n}">`;throw new TypeError("invalid bbcode link action");}if(Array.isArray(u))return l=u[0],u=u[1],n?"</"+l+">":`<${l} class="${u}">`}else return"class"===p?n?"</span>":
`<span class="bbclass${f++}">`:l}const h=/\n/g;e.Vm=class{constructor(l,n){this.Sh=n&&n.Yha?l:e.c0(l);this.WJ="";this.DU=!1;this.gx=[];if(n&&(this.DU=!!n.mta,n.links)){if(9<n.links.length)throw Error("too many links");this.gx=n.links}this.cV=this.Sh.includes("[");this.aW=this.DU&&this.Sh.includes("\n");this.wV=!this.cV&&!this.aW&&!this.Sh.includes("&");this.gV=!1;this.Cw=[]}toString(){return this.Sh}valueOf(){return this.Sh}bN(){if(this.wV)return this.Sh;if(!this.WJ&&this.Sh){let l=this.Sh;this.cV&&
(f=0,c=this.gx,l=l.replace(a,k),c=null);this.aW&&(l=l.replace(h,"<br>"));this.WJ=l}return this.WJ}Uga(l){if(this.gx.length)for(let n=0,p=this.gx.length;n<p;++n){const u=this.gx[n];if("function"!==typeof u)continue;const q=l.querySelector(".bblink"+n);if(!q)throw Error("unable to attach BBString link handler");q.onclick=u}}vd(l){return l instanceof e.IF?this.bN()===l.bN():l instanceof e.Vm?this.Sh===l.Sh:this.Sh===l}Aia(){if(this.gV)return this.Cw;const l=this.Sh,n=[];let p=d.lastIndex=0;for(var u;null!==
(u=d.exec(l));){var q=u.index;if(0<q&&"\\"===l.charAt(q-1))continue;var v=u[1],r=u[2];const w=l.substring(p,q);p=q+u[0].length;w&&this.Cw.push({text:w,xd:n.slice(0)});if(r)if(v)for(r=r.toLowerCase(),u=n.length-1;0<=u;--u){if(n[u].tag===r){n.splice(u,1);break}}else u=r,q=null,v=r.indexOf("="),-1!==v?(u=r.substring(0,v).toLowerCase(),q=r.substring(v+1)):u=u.toLowerCase(),n.push({tag:u,Bi:q})}p<l.length&&this.Cw.push({text:l.substring(p),xd:n.slice(0)});for(const w of this.Cw)w.text=this.Gca(w.text);
this.gV=!0;return this.Cw}Gca(l){l=e.Yi(l,"\\[","[");return e.Yi(l,"\\\\","\\")}static uR(l){return l.replace(d,"")}}}
{"use strict";const e=self.B;e.sH=class{constructor(){this.ho=[]}hT(b,a){let d=0,c=0,f=0,k=0,h=0;for(const l of b)-1===l.width&&(b=a(l.text,l.xd),l.width=b.width,l.height=b.height,l.zg=b.zg||0,l.eg=b.eg||0,l.gg=b.gg||0),d+=l.width,c=Math.max(c,l.height),f=Math.max(f,l.zg),k=Math.max(k,l.eg),h=Math.max(h,l.gg);return{width:d,height:c,zg:f,eg:k,gg:h}}yA(b,a,d,c,f,k){this.ho.push({pX:b,width:a,height:d,zg:c,eg:f,gg:k})}sH(b,a,d,c,f){"string"===typeof b&&(b=[{text:b,xd:[]}]);e.F(this.ho);if(!(!b.length||
1===b.length&&!b[0].text.length||2>d)){if(1===b.length){var k=b[0];const h=k.text;k=k.xd;if(100>=h.length&&!h.includes("\n")){let {width:l,height:n,zg:p,eg:u,gg:q}=a(h,k);l+=f;p=p||0;u=u||0;q=q||0;if(l<=d){this.yA([{text:h,xd:k,width:l,height:n,zg:p,eg:u,gg:q}],l,n,p,u,q);return}}}if("word"===c)c=this.Nea(b);else{c=[];for(const h of b)e.Km(c,[...h.text].map(l=>[{text:l,xd:h.xd}]))}this.gfa(c,a,d,f)}}Nea(b){const a=[];let d=[],c=!1;for(const k of b){var f=k.text;b=k.xd;for(const h of f)"\n"===h?(0<
d.length&&a.push(d),a.push([{text:"\n",xd:b}]),d=[]):0===d.length?(d.push({text:h,xd:b}),c=e.Yz(h)):(f=e.Yz(h),f===c?(f=d.Se(-1),f.xd===b?f.text+=h:d.push({text:h,xd:b})):(a.push(d),d=[],d.push({text:h,xd:b}),c=f))}0<d.length&&a.push(d);return a}u9(b){return b.map(a=>({text:a.text,xd:a.xd,width:a.width,height:a.height,zg:a.zg,eg:a.eg,gg:a.gg}))}UR(b,a){var d=b.length?b.Se(-1):null;let c=0;d&&a[0].xd===d.xd&&(d.text+=a[0].text,d.width=-1,d.height=-1,d.zg=-1,d.eg=-1,d.gg=-1,c=1);for(d=a.length;c<d;++c){const f=
a[c];b.push({text:f.text,xd:f.xd,width:-1,height:-1,zg:-1,eg:-1,gg:-1})}}gfa(b,a,d,c){let f=[],k=0,h=0,l=0,n=0;var p=0;for(const u of b){if(1===u.length&&"\n"===u[0].text){0===h&&(p=a(" ",u[0].xd),h=p.height,l=p.zg||0,n=p.eg||0,p=p.gg||0);this.yA(f,k,h,l,n,p);f=[];p=n=l=h=k=0;continue}b=this.u9(f);this.UR(b,u);const q=this.hT(b,a),v=q.width;v>=d?(0<f.length&&this.yA(f,k,h,l,n,p),f=[],e.$F(u[0].text)?p=n=l=h=k=0:(this.UR(f,u),p=this.hT(f,a),k=p.width,h=p.height,l=p.zg,n=p.eg,p=p.gg)):(f=b,k=v,h=q.height,
l=q.zg,n=q.eg,p=q.gg)}0<f.length&&this.yA(f,k,h,l,n,p);this.Qea(a,c)}Qea(b,a){for(const c of this.ho){const f=c.pX;if(!f.length)continue;let k=f.Se(-1);var d=k.text;const h=d.trimEnd();if(!h)c.width-=k.width,f.pop();else if(h.length<d.length){d=b(h,k.xd).width;const l=k.width-d;k.width=d;k.text=h;c.width-=l}0!==a&&0<f.length&&(k=f.Se(-1),k.width+=a,c.width+=a)}}Zc(){e.F(this.ho)}o1(){return this.ho.reduce((b,a)=>Math.max(b,a.width),0)}P1(){return this.ho.reduce((b,a)=>b+a.height,0)}}}
{"use strict";const e=self.B,b=self.nl,a=b.nE,d=b.Jy,c=b.To,f=a.create(),k=a.create(),h=a.create(),l=d.create(),n=c.create(),p=a.create(),u=a.create(),q=a.create(),v=a.create(),r=a.create(),w=a.create(),y=a.create(),z=a.create(),E=d.fg(0,0,1,1);e.aa={z5(H,I,M,Q,R,V,Z){const ca=Q[0]*H+Q[4]*I+Q[8]*M+Q[12],Y=Q[1]*H+Q[5]*I+Q[9]*M+Q[13],ha=Q[2]*H+Q[6]*I+Q[10]*M+Q[14];Q=Q[3]*H+Q[7]*I+Q[11]*M+Q[15];H=R[0]*ca+R[4]*Y+R[8]*ha+R[12]*Q;I=R[1]*ca+R[5]*Y+R[9]*ha+R[13]*Q;M=R[2]*ca+R[6]*Y+R[10]*ha+R[14]*Q;R=R[3]*
ca+R[7]*Y+R[11]*ha+R[15]*Q;if(0===R)return!1;R=1/R;Z[0]=(H*R*.5+.5)*V[2]+V[0];Z[1]=(I*R*.5+.5)*V[3]+V[1];Z[2]=.5*(1+M*R);return!0},xk(H,I,M,Q,R,V,Z){c.multiply(n,R,Q);if(null===c.Pt(n,n))return!1;l[0]=(H-V[0])/V[2]*2-1;l[1]=(I-V[1])/V[3]*2-1;l[2]=2*M-1;l[3]=1;d.dN(l,l,n);if(0===l[3])return!1;l[3]=1/l[3];Z[0]=l[0]*l[3];Z[1]=l[1]*l[3];Z[2]=l[2]*l[3];return!0},l8(H,I,M,Q,R,V,Z){if(!e.aa.xk(H,I,0,Q,R,V,f)||!e.aa.xk(H,I,1,Q,R,V,k))return!1;a.Tm(k,k,f);a.set(h,0,0,1);H=-M;I=a.Ro(h,k);M=0;if(0===I){if(0!==
a.Ro(h,f)+H)return!1}else if(M=-(a.Ro(f,h)+H)/I,0>M)return!1;a.UM(Z,f,k,M);return!0}};function G(H,I,M,Q){a.Tm(f,M,I);a.Tm(k,H,I);a.kM(h,f,k);a.normalize(h,h);Q.set(h[0],h[1],h[2],a.Ro(H,h))}function P(H,I,M,Q,R,V,Z){const ca=Z.x,Y=Z.y,ha=Z.z,ka=Z.w,za=Z.XX,Oa=Z.YX;Z=Z.ZX;const ab=1-za,Ua=1-Oa,bb=1-Z;return ca*H*za+ca*Q*ab+Y*I*Oa+Y*R*Ua+ha*M*Z+ha*V*bb>=ka?!0:ca*Q*za+ca*H*ab+Y*R*Oa+Y*I*Ua+ha*V*Z+ha*M*bb>ka}class C{constructor(){this.ZX=this.YX=this.XX=this.w=this.z=this.y=this.x=NaN}set(H,I,M,Q){this.x=
H;this.y=I;this.z=M;this.w=Q;this.XX=0<H?1:0;this.YX=0<I?1:0;this.ZX=0<M?1:0}}e.aa.v8=class{constructor(){this.MV=new C;this.OW=new C;this.sW=new C;this.yU=new C;this.$V=new C;this.QU=new C}VY(H,I){e.aa.xk(0,1,0,H,I,E,p);e.aa.xk(1,1,0,H,I,E,u);e.aa.xk(0,0,0,H,I,E,q);e.aa.xk(1,0,0,H,I,E,v);e.aa.xk(0,1,1,H,I,E,r);e.aa.xk(1,1,1,H,I,E,w);e.aa.xk(0,0,1,H,I,E,y);e.aa.xk(1,0,1,H,I,E,z);G(q,p,r,this.MV);G(p,u,w,this.OW);G(u,v,z,this.sW);G(v,q,y,this.yU);G(y,r,w,this.QU);G(v,u,p,this.$V)}xZ(H,I,M,Q,R,V){return P(H,
I,M,Q,R,V,this.MV)&&P(H,I,M,Q,R,V,this.OW)&&P(H,I,M,Q,R,V,this.sW)&&P(H,I,M,Q,R,V,this.yU)&&P(H,I,M,Q,R,V,this.$V)&&P(H,I,M,Q,R,V,this.QU)}}}
{"use strict";const e=self.B,b=self.nl,a=b.nE,d=b.Jy,c=b.To,f=c.create(),k=a.fg(0,0,0),h=a.fg(0,0,0),l=a.fg(0,0,0),n=a.fg(0,1,0);d.fg(0,0,0,0);new e.Bd;new e.Rect;const p=new e.Bd(0,0,1,0,1,1,0,1);e.aa.a6=class{constructor(){this.P=this.S=0;this.Lfa=e.Pa(45);this.HL=Math.tan(this.Lfa/2);this.MC=c.create();this.KK=c.create();this.Rp=[];this.gD=new Map;this.xL=this.kD=this.lD=null;this.Nx=new Map;this.sj=null;this.fJ=[];this.ZV=new Map;this.zw=this.mw=0;this.bga=this.cga=1;this.FK=.5;this.bi=0;this.Hs=
!0;this.UJ=!1}m0(u){let q=0,v=u.length,r=0;for(;q<v;)u[q++]=r,u[q++]=r+1,u[q++]=r+2,u[q++]=r,u[q++]=r+2,u[q++]=r+3,r+=4}YR(){this.zw=this.mw=0;this.xL=this.kD=this.lD=null;this.s9()}Qz(){this.YR();this.sj=null}H4(){for(const u of this.Rp)u.m();this.YR()}X(){return this.S}W(){return this.P}nu(u,q,v=.5,r=.5){v=1-v;const w=1*this.HL;q*=w;c.rha(u,(2*v-2)*q,2*v*q,(2*r-2)*w,2*r*w,1,1E4)}UY(u,q,v){const r=self.devicePixelRatio,w=200*r*this.HL/v;q=q*w/(2*r);v=v*w/(2*r);c.cia(u,-q,q,-v,v,1,1E4)}zN(u,q,v,r,
w=this.tF()){w=200*self.devicePixelRatio*this.HL/w;a.set(l,w,-w,1);a.multiply(k,q,l);a.multiply(h,v,l);c.Rha(u,k,h,r||n);c.scale(u,u,l)}mu(u,q,v,r,w,y){a.set(k,u,q,v);a.set(h,r,w,0);this.zN(f,k,h,n,y);return f}X8(u){this.Rp.push(u);this.gD.set(u.wa(),u)}$ca(u){const q=this.Rp.indexOf(u);-1!==q&&this.Rp.splice(q,1);this.gD.delete(u.wa())}s9(){e.F(this.Rp);this.gD.clear()}OO(u){return this.gD.get(u)||null}cj(){this.Hn(this.lD)}LQ(){this.Hn(this.xL)}Yda(u){this.sj=u}cY(u,q,v,r){const w=e.aa.jH.BP(u,
q,v,r);let y=this.Nx.get(w);y||(y=e.D(e.aa.jH,this,u,q,v,r),this.Nx.set(w,y));y.uY();return y}sQ(u){u.RZ();0===u.Wc&&(this.sj===u&&(this.sj=null),this.Nx.delete(u.h1()),u.m())}Laa(u){e.F(this.fJ);this.ZV.clear();for(const q of u){u=q[0];const v=q[1],r=q[2];this.fJ.push([v,r]);this.ZV.set(u,{Hva:v,tta:r})}}faa(u){return this.fJ[u]}pv(u){this.mw=u}Cn(u){this.zw=u;this.sj=null}aA(u,q,v,r,w,y){var z=this.FK;u=u+z-y;q=q+z-w;v=v+z+y;r=r+z+w;z=2*y;const E=2*w;this.gA(u+w,q-y,0,v+w,r-y,0,v-w-z,r+y-E,0,u-
w+z,q+y+E,0,p)}$z(u,q,v,r,w,y){const z=this.FK;u=u+z-y;q=q+z-w;v=v+z+y;r=r+z+w;this.gA(u+w,q-y,0,v+w,r-y,0,v-w,r+y,0,u-w,q+y,0,p)}Zz(u,q,v,r,w,y){const z=this.FK;u+=z;q+=z;v+=z;r+=z;this.gA(u+w,q-y,0,v+w,r-y,0,v-w,r+y,0,u-w,q+y,0,p)}W3(u,q,v,r){const w=.5*this.cga,y=this.bga;2===y?this.hba(u,q,v,r,w):1===y?this.gba(u,q,v,r,w):this.fba(u,q,v,r,w)}hba(u,q,v,r,w){this.aA(u,q,v,q,0,w);this.aA(v,q,v,r,w,0);this.aA(v,r,u,r,0,-w);this.aA(u,r,u,q,-w,0)}gba(u,q,v,r,w){this.$z(u,q,v,q,0,w);this.$z(v,q,v,r,
w,0);this.$z(v,r,u,r,0,-w);this.$z(u,r,u,q,-w,0)}fba(u,q,v,r,w){this.Zz(u,q,v,q,0,w);this.Zz(v,q,v,r,w,0);this.Zz(v,r,u,r,0,-w);this.Zz(u,r,u,q,-w,0)}vP(u){this.W3(u.R,u.O,u.ia,u.ba)}wu(){this.Ki();this.bi++}J2(){this.bi++}NG(u){this.Hs=!!u}U6(u){this.UJ=!!u}bv(){return!1}}}
{"use strict";const e=self.B;e.aa.jH=class{constructor(b,a,d,c,f){this.ya=b;this.Wc=0;this.jb=null;this.Fx="";this.Un=d;this.fb=e.D(e.eb);this.fb.set(c);this.jd=f;"string"===typeof a?this.Fx=a:(this.jb=a,this.Fx=this.jb.wa())}m(){if(0<this.Wc)throw Error("releasing state group still in use");this.jb=this.ya=null;this.Fx=""}EY(){const b=this.ya;b.Hn(this.jb);b.Gf(this.Un);b.An(this.fb);b.Cn(this.jd);b.Yda(this)}h1(){return e.aa.jH.BP(this.Fx,this.Un,this.fb,this.jd)}uY(){++this.Wc}RZ(){--this.Wc}Ml(){this.jb=
null}gG(b){this.jb=b.OO(this.Fx);if(!this.jb)throw Error("failed to restore shader program");}static BP(b,a,d,c){return("string"===typeof b?b:b.wa())+","+a+","+d.Xa+","+d.Ga+","+d.Za+","+d.Ya+","+c}}}
{"use strict";const e=self.B,b=e.D(e.Bd);function a(d,c,f){const k=f.Db,h=f.Eb;return[k+(f.wc-k)*d+(f.oc-k)*c,h+(f.xc-h)*d+(f.pc-h)*c]}e.aa.n4=class{constructor(d){this.NK=d;this.ph=this.nh=this.jd=this.N=this.T=0}ij(d,c,f,k){this.T=d;this.N=c;this.nh=f;this.ph=k}da(){return this.T}Nh(d){this.T!==d&&(this.T=d,this.NK.wI())}ea(){return this.N}Oh(d){this.N!==d&&(this.N=d,this.NK.wI())}$a(){return this.jd}Kf(d){this.jd!==d&&(this.jd=Math.max(d,0),this.NK.wI())}aH(d){this.nh=d}bH(d){this.ph=d}Xaa(d,c,
f){[this.T,this.N]=a(d.T,d.N,c);this.jd=d.jd;this.nh=e.te(f.R,f.ia,d.nh);this.ph=e.te(f.O,f.ba,d.ph)}Waa(d,c,f){[this.T,this.N]=a(d.T,d.N,c);this.jd=d.jd;[this.nh,this.ph]=a(d.nh,d.ph,f)}Dc(){return{x:this.da(),y:this.ea(),z:this.$a(),u:this.nh,v:this.ph}}lc(d){this.Nh(d.x);this.Oh(d.y);d.hasOwnProperty("z")&&this.Kf(d.z);this.aH(d.u);this.bH(d.v)}};e.aa.EP=class{constructor(d,c,f){if(2>d||2>c)throw Error("invalid mesh size");this.Mk=d;this.dl=c;this.Vb=f||null;this.vo=[];this.WV=this.VV=0;this.RV=
this.QV=1;this.SV=0;this.dL=!1;f=d-1;const k=c-1;for(let h=0;h<c;++h){const l=[];for(let n=0;n<d;++n){const p=e.D(e.aa.n4,this,n,h),u=n/f,q=h/k;p.ij(u,q,u,q);l.push(p)}this.vo.push(l)}}m(){e.F(this.vo)}wI(){this.dL=!0}Wv(){if(this.dL){var d=Infinity,c=Infinity,f=-Infinity,k=-Infinity,h=0;for(const l of this.vo)for(const n of l){const p=n.da(),u=n.ea();d=Math.min(d,p);c=Math.min(c,u);f=Math.max(f,p);k=Math.max(k,u);h=Math.max(h,n.$a())}this.VV=d;this.WV=c;this.QV=f;this.RV=k;this.SV=h;this.dL=!1}}s1(){this.Wv();
return this.VV}t1(){this.Wv();return this.WV}p1(){this.Wv();return this.QV}q1(){this.Wv();return this.RV}r1(){this.Wv();return this.SV}mr(d,c){d=Math.floor(d);c=Math.floor(c);return 0>d||d>=this.Mk||0>c||c>=this.dl?null:this.vo[c][d]}EE(d,c,f){const k=f instanceof e.Rect;if(d.Mk!==this.Mk||d.dl!==this.dl)throw Error("source mesh wrong size");d=d.vo;const h=this.vo;for(let l=0,n=h.length;l<n;++l){const p=d[l],u=h[l];for(let q=0,v=u.length;q<v;++q){const r=p[q],w=u[q];k?w.Xaa(r,c,f):w.Waa(r,c,f)}}}We(d){const c=
this.vo;let f=c[0];for(let k=1,h=c.length;k<h;++k){const l=c[k];let n=f[0],p=l[0];for(let u=1,q=l.length;u<q;++u){const v=f[u],r=l[u];b.set(n.nh,n.ph,v.nh,v.ph,r.nh,r.ph,p.nh,p.ph);d.gA(n.da(),n.ea(),n.$a(),v.da(),v.ea(),v.$a(),r.da(),r.ea(),r.$a(),p.da(),p.ea(),p.$a(),b);n=v;p=r}f=l}}n3(d){d=d.ee;const c=[],f=this.Mk-1,k=this.dl-1,h=1/f,l=1/k,n=f-1,p=k-1;let u=d[0],q=d[1],v=e.ca(Math.floor(u*f),0,n),r=e.ca(Math.floor(q*k),0,p),w=0,y=0,z=0;var E=-1;const G=()=>{u=e.ca(e.te(u,w,z),0,1);q=e.ca(e.te(q,
y,z),0,1);c.push(u,q)};for(let P=0,C=d.length;P<C;P+=2)for(u=d[P],q=d[P+1],c.push(u,q),v=e.ca(Math.floor(u*f),0,n),r=e.ca(Math.floor(q*k),0,p),E=(P+2)%C,w=d[E],y=d[E+1],E=-1;;){if(1E6<c.length)throw Error("Too many mesh poly points");const H=v*h,I=r*l,M=(v+1)*h,Q=(r+1)*l;if(0!==E&&(z=e.Cy(u,q,w,y,H,I,M,Q,-.001),0<=z&&.99999999>=z)){G();E=0;continue}if(0<r&&2!==E&&(z=e.Cy(u,q,w,y,H,I,M,I,.001),0<=z&&.99999999>=z)){G();r--;E=4;continue}if(v<n&&3!==E&&(z=e.Cy(u,q,w,y,M,I,M,Q,.001),0<=z&&.99999999>=z)){G();
v++;E=1;continue}if(0<v&&1!==E&&(z=e.Cy(u,q,w,y,H,I,H,Q,.001),0<=z&&.99999999>=z)){G();v--;E=3;continue}if(r<p&&4!==E&&(z=e.Cy(u,q,w,y,H,Q,M,Q,.001),0<=z&&.99999999>=z)){G();r++;E=2;continue}break}return e.D(e.$o,c)}f8(d,c){d=this.Oea(d);this.Gea(d);c.gE(d)}Oea(d){const c=[];d=d.ee;for(let f=0,k=d.length;f<k;f+=2){const [h,l]=this.zR(d[f],d[f+1]);c.push(h,l)}return c}zR(d,c){var f=this.Mk-1,k=this.dl-1;const h=1/f,l=1/k;f=e.ca(Math.floor(d*f),0,f-1);const n=e.ca(Math.floor(c*k),0,k-1);k=f*h;const p=
n*l,u=(f+1)*h,q=(n+1)*l,v=this.mr(f,n),r=this.mr(f+1,n+1),w=e.Iha(d,c,k,p,u,p,u,q);f=this.mr(f+(w?1:0),n+(w?0:1));const [y,z,E]=e.Gia(d,c,k,p,w?k+h:k,w?p:p+l,u,q);return e.Fia(y,z,E,v.da(),v.ea(),f.da(),f.ea(),r.da(),r.ea())}Gea(d){const c=[];let f=d[0],k=d[1],h=f-d.Se(-2),l=k-d.Se(-1);for(let p=0,u=d.length;p<u;p+=2){var n=(p+2)%u;const q=d[n];n=d[n+1];const v=q-f,r=n-k,w=1E-7>Math.abs(r)&&1E-7>Math.abs(l)&&Math.sign(v)===Math.sign(h);(!(1E-7>Math.abs(v)&&1E-7>Math.abs(h)&&Math.sign(r)===Math.sign(l)||
w)&&1E-7<Math.abs(v/h-r/l)||0==v&&0===r)&&c.push(f,k);f=q;k=n;h=v;l=r}6<=c.length&&c.length<d.length&&e.wd(d,c)}Dc(){return{cols:this.Mk,rows:this.dl,points:this.vo.map(d=>d.map(c=>c.Dc()))}}lc(d){const c=this.Mk,f=this.dl;if(d.cols!==c||d.rows!==f)throw Error("mesh data wrong size");d=d.points;for(let k=0;k<f;++k){const h=d[k];for(let l=0;l<c;++l)this.mr(l,k).lc(h[l])}}}}
{"use strict";const e=self.B,b=new Set(["rgba8","rgb8","rgba4","rgb5_a1","rgb565"]),a=new Set(["nearest","bilinear","trilinear"]),d=new Set(["default","low","high"]),c=new Set(["clamp-to-edge","repeat","mirror-repeat"]);function f(n,p){let u,q;switch(n){case "rgba8":n=p.RGBA8;q=u=p.RGBA;p=p.UNSIGNED_BYTE;break;case "rgb8":n=p.RGB8;q=u=p.RGB;p=p.UNSIGNED_BYTE;break;case "rgba4":n=p.RGBA4;q=u=p.RGBA;p=p.UNSIGNED_SHORT_4_4_4_4;break;case "rgb5_a1":n=p.RGB5_A1;q=u=p.RGBA;p=p.UNSIGNED_SHORT_5_5_5_1;break;
case "rgb565":n=p.RGB565;q=u=p.RGB;p=p.UNSIGNED_SHORT_5_6_5;break;default:throw Error("invalid pixel format");}return{ZM:n,Ot:u,format:q,type:p}}const k={hu:"clamp-to-edge",iu:"clamp-to-edge",uh:"trilinear",aX:0,IM:"rgba8",XD:!0,zy:"default",premultiplyAlpha:!0,wX:!1,width:-1,height:-1},h={premultiplyAlpha:!0,flipY:!1},l=new Set;e.aa.xA=class{constructor(n){this.ya=n;this.rb=null;this.P=this.S=0;this.ei=!0;this.Jm=this.Im="clamp-to-edge";this.gd="trilinear";this.VI=0;this.ro="rgba8";this.im=!1;this.zq=
"default";this.Wc=0}L9(n,p){if(!("undefined"!==typeof HTMLImageElement&&n instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&n instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&n instanceof ImageBitmap||"undefined"!==typeof OffscreenCanvas&&n instanceof OffscreenCanvas||n instanceof ImageData||n instanceof ArrayBuffer)&&null!==n)throw Error("invalid texture source");p=Object.assign({},k,p);if(this.rb)throw Error("already created texture");this.Im=p.hu;this.Jm=p.iu;
this.gd=p.uh;this.VI=p.aX;this.ro=p.IM;this.im=!!p.XD&&this.ya.Hs;this.zq=p.zy;if(!c.has(this.Im)||!c.has(this.Jm))throw Error("invalid wrap mode");if(!a.has(this.gd))throw Error("invalid sampling");if(!b.has(this.ro))throw Error("invalid pixel format");if(!d.has(this.zq))throw Error("invalid mipmap quality");this.ei=!0;if(n instanceof ArrayBuffer||null===n||p.wX){if(this.S=p.width,this.P=p.height,n instanceof ArrayBuffer&&n.byteLength!==this.S*this.P*4)throw Error("ArrayBuffer wrong size");}else this.S=
n.width,this.P=n.height;if(0>=this.S||0>=this.P)throw Error("invalid texture data size");if(p.wX){var u=e.Eg(this.S,this.P);u.getContext("2d").drawImage(n,0,0,this.S,this.P);n=u}var q=e.ol(this.S)&&e.ol(this.P);u=this.ya.OC;if(this.S>u||this.P>u)throw Error("texture data exceeds maximum texture size");u=this.ya.Y;var v=this.ya.Sd;this.rb=u.createTexture();u.bindTexture(u.TEXTURE_2D,this.rb);u.pixelStorei(u.UNPACK_PREMULTIPLY_ALPHA_WEBGL,p.premultiplyAlpha);u.pixelStorei(u.UNPACK_FLIP_Y_WEBGL,!1);
p=f(this.ro,u);if(this.ya.Ep()||q||!this.XH())2<=v?(u.texStorage2D(u.TEXTURE_2D,this.im?Math.floor(Math.log2(Math.max(this.S,this.P))+1):1,p.ZM,this.S,this.P),n instanceof ArrayBuffer?u.texSubImage2D(u.TEXTURE_2D,0,0,0,this.S,this.P,p.format,p.type,new Uint8Array(n)):null!==n&&u.texSubImage2D(u.TEXTURE_2D,0,0,0,p.format,p.type,n)):n instanceof ArrayBuffer?u.texImage2D(u.TEXTURE_2D,0,p.Ot,this.S,this.P,0,p.format,p.type,new Uint8Array(n)):null===n?u.texImage2D(u.TEXTURE_2D,0,p.Ot,this.S,this.P,0,p.format,
p.type,null):u.texImage2D(u.TEXTURE_2D,0,p.Ot,p.format,p.type,n);else{if(null===n)throw Error("cannot pass null data when creating a NPOT tiled texture without NPOT support");n instanceof ArrayBuffer&&(n=new ImageData(new Uint8ClampedArray(n),this.S,this.P));n instanceof ImageData&&(q=e.Eg(this.S,this.P),q.getContext("2d").putImageData(n,0,0),n=q);q=e.Eg(e.DM(this.S),e.DM(this.P));v=q.getContext("2d");v.imageSmoothingEnabled="nearest"!==this.gd;v.drawImage(n,0,0,this.S,this.P,0,0,q.width,q.height);
u.texImage2D(u.TEXTURE_2D,0,p.Ot,p.format,p.type,q)}null!==n&&this.$T(u);u.bindTexture(u.TEXTURE_2D,null);this.ya.nI();this.Wc=1;l.add(this)}y9(n,p,u){u=Object.assign({},k,u);if(this.rb)throw Error("already created texture");this.Im=u.hu;this.Jm=u.iu;this.gd=u.uh;this.ro=u.IM;this.im=!!u.XD&&this.ya.Hs;this.zq=u.zy;if(!c.has(this.Im)||!c.has(this.Jm))throw Error("invalid wrap mode");if(!a.has(this.gd))throw Error("invalid sampling");if(!b.has(this.ro))throw Error("invalid pixel format");if(!d.has(this.zq))throw Error("invalid mipmap quality");
this.ei=!1;this.S=Math.floor(n);this.P=Math.floor(p);n=e.ol(this.S)&&e.ol(this.P);p=this.ya.OC;if(0>=this.S||0>=this.P)throw Error("invalid texture size");if(this.S>p||this.P>p)throw Error("texture exceeds maximum texture size");if(!this.ya.Ep()&&this.XH()&&!n)throw Error("non-power-of-two tiled textures not supported");n=this.ya.Y;p=this.ya.Sd;this.rb=n.createTexture();n.bindTexture(n.TEXTURE_2D,this.rb);n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,u.premultiplyAlpha);n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,
!1);u=f(this.ro,n);n.texImage2D(n.TEXTURE_2D,0,2<=p?u.ZM:u.Ot,this.S,this.P,0,u.format,u.type,null);this.$T(n);n.bindTexture(n.TEXTURE_2D,null);this.ya.nI();this.Wc=1;l.add(this)}RH(n){if("default"===this.zq)return this.ei?n.NICEST:n.FASTEST;if("low"===this.zq)return n.FASTEST;if("high"===this.zq)return n.NICEST;throw Error("invalid mipmap quality");}XH(){return"clamp-to-edge"!==this.Im||"clamp-to-edge"!==this.Jm}JS(n,p){if("clamp-to-edge"===p)return n.CLAMP_TO_EDGE;if("repeat"===p)return n.REPEAT;
if("mirror-repeat"===p)return n.MIRRORED_REPEAT;throw Error("invalid wrap mode");}$T(n){var p=e.ol(this.S)&&e.ol(this.P);n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,this.JS(n,this.Im));n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,this.JS(n,this.Jm));"nearest"===this.gd?(n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,n.NEAREST),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.NEAREST),this.im=!1):(n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,n.LINEAR),(p||this.ya.Ep())&&this.im?(n.hint(n.GENERATE_MIPMAP_HINT,
this.RH(n)),n.generateMipmap(n.TEXTURE_2D),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,"trilinear"!==this.gd||this.ya.UJ?n.LINEAR_MIPMAP_NEAREST:n.LINEAR_MIPMAP_LINEAR)):(n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.LINEAR),this.im=!1));(p=this.ya.iw)&&0<this.VI&&"nearest"!==this.gd&&n.texParameterf(n.TEXTURE_2D,p.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(this.VI,this.ya.LK))}jU(n,p){if(!("undefined"!==typeof HTMLImageElement&&n instanceof HTMLImageElement||"undefined"!==typeof HTMLVideoElement&&
n instanceof HTMLVideoElement||"undefined"!==typeof HTMLCanvasElement&&n instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&n instanceof ImageBitmap||"undefined"!==typeof OffscreenCanvas&&n instanceof OffscreenCanvas||n instanceof ImageData))throw Error("invalid texture source");if(!this.rb||0>=this.Wc)throw Error("texture not created");if(this.ei)throw Error("cannot update static texture");p=Object.assign({},h,p);const u=n.width||n.videoWidth,q=n.height||n.videoHeight;var v=this.ya.Sd;
const r=this.ya.Y;r.bindTexture(r.TEXTURE_2D,this.rb);r.pixelStorei(r.UNPACK_PREMULTIPLY_ALPHA_WEBGL,p.premultiplyAlpha);r.pixelStorei(r.UNPACK_FLIP_Y_WEBGL,!!p.flipY);p=f(this.ro,r);v=2<=v?p.ZM:p.Ot;try{if(this.S===u&&this.P===q){const w=e.ol(this.S)&&e.ol(this.P);r.texSubImage2D(r.TEXTURE_2D,0,0,0,p.format,p.type,n);(w||this.ya.Ep())&&this.im&&(r.hint(r.GENERATE_MIPMAP_HINT,this.RH(r)),r.generateMipmap(r.TEXTURE_2D))}else{this.S=u;this.P=q;const w=e.ol(this.S)&&e.ol(this.P);if(!this.ya.Ep()&&this.XH()&&
!w)throw Error("non-power-of-two tiled textures not supported");r.texImage2D(r.TEXTURE_2D,0,v,p.format,p.type,n);(w||this.ya.Ep())&&this.im&&(r.hint(r.GENERATE_MIPMAP_HINT,this.RH(r)),r.generateMipmap(r.TEXTURE_2D))}}catch(w){console.error("Error updating WebGL texture: ",w)}r.bindTexture(r.TEXTURE_2D,null);this.ya.nI()}GH(){if(0<this.Wc)throw Error("texture still has references");if(!this.rb)throw Error("already deleted texture");l.delete(this);this.ya.Y.deleteTexture(this.rb);this.rb=null}qb(){return this.ya}Z7(){if(0>=
this.Wc)throw Error("no more references");this.Wc--}X(){return this.S}W(){return this.P}cF(){let n=this.S*this.P;switch(this.ro){case "rgba8":n*=4;break;case "rgb8":n*=3;break;case "rgba4":case "rgb5_a1":case "rgb565":n*=2}this.im&&(n+=Math.floor(n/3));return n}static Ml(){l.clear()}static Mga(){return l.values()}}}
{"use strict";const e=self.B,b=self.nl.To,a=new Set(["nearest","bilinear","trilinear"]),d={uh:"trilinear",alpha:!0,depth:!1,wM:!0,uX:!0,Wha:0},c=new Set;e.aa.qH=class{constructor(f){this.ya=f;this.vm=this.rb=this.zj=null;this.P=this.S=0;this.Sw=!0;this.gd="trilinear";this.os=!0;this.Ik=!1;this.Vw=!0;this.om=0;this.Dq=b.create()}v9(f,k,h){h=Object.assign({},d,h);const l=this.ya.Sd;if(this.rb||this.vm)throw Error("already created render target");this.gd=h.uh;this.os=!!h.alpha;this.Ik=!!h.depth;this.Vw=
!!h.wM;this.Sw=!!h.uX;this.om=h.Wha;if(!a.has(this.gd))throw Error("invalid sampling");if(0<this.om&&(2>l||this.Vw))throw Error("invalid use of multisampling");2>l&&(this.Vw=!0);this.S=f;this.P=k;if(0>=this.S||0>=this.P)throw Error("invalid render target size");this.VR();f=this.ya.Y;this.zj=f.createFramebuffer();f.bindFramebuffer(f.FRAMEBUFFER,this.zj);this.Vw?(this.rb=this.ya.PN(this.S,this.P,{uh:this.gd,IM:this.os?"rgba8":"rgb8",XD:!1}),f.framebufferTexture2D(f.FRAMEBUFFER,f.COLOR_ATTACHMENT0,f.TEXTURE_2D,
this.rb.rb,0)):(this.vm=f.createRenderbuffer(),f.bindRenderbuffer(f.RENDERBUFFER,this.vm),k=this.os?f.RGBA8:f.RGB8,0<this.om&&((h=f.getInternalformatParameter(f.RENDERBUFFER,k,f.SAMPLES))&&h[0]?(h=h[0],this.om>h&&(this.om=h)):this.om=0),0===this.om?f.renderbufferStorage(f.RENDERBUFFER,k,this.S,this.P):f.renderbufferStorageMultisample(f.RENDERBUFFER,this.om,k,this.S,this.P),f.framebufferRenderbuffer(f.FRAMEBUFFER,f.COLOR_ATTACHMENT0,f.RENDERBUFFER,this.vm),f.bindRenderbuffer(f.RENDERBUFFER,null));
k=this.ya.Yp;this.Ik&&k&&f.framebufferRenderbuffer(f.FRAMEBUFFER,f.DEPTH_STENCIL_ATTACHMENT,f.RENDERBUFFER,k);f.bindFramebuffer(f.FRAMEBUFFER,null);c.add(this)}BT(f,k){if(this.S!==f||this.P!==k)this.S=f,this.P=k,this.VR(),f=this.ya.Y,f.bindFramebuffer(f.FRAMEBUFFER,this.zj),this.rb?this.rb.jU(new ImageData(this.S,this.P)):(f.bindRenderbuffer(f.RENDERBUFFER,this.vm),f.renderbufferStorage(f.RENDERBUFFER,this.os?f.RGBA8:f.RGB8,this.S,this.P),f.bindRenderbuffer(f.RENDERBUFFER,null)),k=this.ya.Yp,this.Ik&&
k&&f.framebufferRenderbuffer(f.FRAMEBUFFER,f.DEPTH_STENCIL_ATTACHMENT,f.RENDERBUFFER,k),f.bindFramebuffer(f.FRAMEBUFFER,null)}GH(){if(!this.rb&&!this.vm)throw Error("already deleted render target");c.delete(this);const f=this.ya.Y;f.bindFramebuffer(f.FRAMEBUFFER,this.zj);this.rb?(f.framebufferTexture2D(f.FRAMEBUFFER,f.COLOR_ATTACHMENT0,f.TEXTURE_2D,null,0),this.ya.Xj(this.rb),this.rb=null):this.vm&&(f.framebufferRenderbuffer(f.FRAMEBUFFER,f.COLOR_ATTACHMENT0,f.RENDERBUFFER,null),f.deleteRenderbuffer(this.vm),
this.vm=null);f.bindFramebuffer(f.FRAMEBUFFER,null);2<=this.ya.Sd&&(f.bindFramebuffer(f.READ_FRAMEBUFFER,null),f.bindFramebuffer(f.DRAW_FRAMEBUFFER,null));f.deleteFramebuffer(this.zj);this.zj=this.ya.Hc.Po=null}VR(){this.ya.nu(this.Dq,this.S/this.P)}qb(){return this.ya}Id(){return this.rb}UF(){return"nearest"!==this.gd}X(){return this.S}W(){return this.P}w3(f){f=Object.assign({},d,f);return"nearest"!==f.uh!==this.UF()||!!f.alpha!==this.os||!!f.depth!==this.Ik||2<=this.ya.Sd&&!!f.wM!==this.Vw?!1:"number"===
typeof f.width||"number"===typeof f.height?!this.Sw&&this.X()===f.width&&this.W()===f.height:this.Sw}cF(){return this.rb?this.rb.cF():this.S*this.P*(this.os?4:3)}static async KZ(f,k){f=await f.K5(k);return await e.C2(f)}static Ml(){c.clear()}}}
{"use strict";const e=self.B;e.aa.Iv=class{static async tZ(b,a,d,c){const f=b.Y,k=f.createShader(f.FRAGMENT_SHADER);f.shaderSource(k,a);f.compileShader(k);a=f.createShader(f.VERTEX_SHADER);f.shaderSource(a,d);f.compileShader(a);const h=f.createProgram();f.attachShader(h,k);f.attachShader(h,a);f.bindAttribLocation(h,0,"aPos");f.bindAttribLocation(h,1,"aTex");f.bindAttribLocation(h,2,"aPoints");f.linkProgram(h);const l=b.aL;l?await b.dfa(()=>f.getProgramParameter(h,l.COMPLETION_STATUS_KHR)):await e.pH(5);
if(!f.getShaderParameter(k,f.COMPILE_STATUS))throw c=f.getShaderInfoLog(k),f.deleteShader(k),f.deleteShader(a),f.deleteProgram(h),Error("Error compiling fragment shader: "+c);if(!f.getShaderParameter(a,f.COMPILE_STATUS))throw c=f.getShaderInfoLog(a),f.deleteShader(k),f.deleteShader(a),f.deleteProgram(h),Error("Error compiling vertex shader: "+c);if(!f.getProgramParameter(h,f.LINK_STATUS))throw c=f.getProgramInfoLog(h),f.deleteShader(k),f.deleteShader(a),f.deleteProgram(h),Error("Error linking shader program: "+
c);(b=e.n0(f.getProgramInfoLog(h)||"").trim())&&!e.$F(b)&&console.info(`[WebGL] Shader program '${c}' compilation log: `,b);f.deleteShader(k);f.deleteShader(a);return h}static async Oa(b,a,d,c){d=await e.aa.Iv.tZ(b,a.src,d,c);return new e.aa.Iv(b,d,a,c)}constructor(b,a,d,c){const f=b.Y;var k=b.Hc;b.Ki();f.useProgram(a);this.Y=f;this.ya=b;this.Ia=c;this.jb=a;this.kC="<default-device-transform>"===c;c=f.getAttribLocation(a,"aPos");const h=f.getAttribLocation(a,"aTex");this.IK=f.getAttribLocation(a,
"aPoints");-1!==c&&(f.bindBuffer(f.ARRAY_BUFFER,b.FD),f.vertexAttribPointer(c,3,f.FLOAT,!1,0,0),f.enableVertexAttribArray(c));-1!==h&&(f.bindBuffer(f.ARRAY_BUFFER,b.sD),f.vertexAttribPointer(h,2,f.FLOAT,!1,0,0),f.enableVertexAttribArray(h));-1!==this.IK&&(f.bindBuffer(f.ARRAY_BUFFER,b.YC),f.vertexAttribPointer(this.IK,4,f.FLOAT,!1,0,0),f.enableVertexAttribArray(this.IK));f.bindBuffer(f.ARRAY_BUFFER,null);this.PL=new e.aa.Gc(this,"matP","mat4");this.OL=new e.aa.Gc(this,"matMV","mat4");this.Sq=new e.aa.Gc(this,
"color","vec4");this.Dga=new e.aa.Gc(this,"samplerFront","sampler");this.SL=new e.aa.Gc(this,"pointTexStart","vec2");this.RL=new e.aa.Gc(this,"pointTexEnd","vec2");this.VL=new e.aa.Gc(this,"zElevation","float");this.TL=new e.aa.Gc(this,"tileSize","vec2");this.UL=new e.aa.Gc(this,"tileSpacing","vec2");this.NL=new e.aa.Gc(this,"color2_","vec4");this.QL=new e.aa.Gc(this,"outlineThickness","float");this.It=new e.aa.Gc(this,"samplerBack","sampler");this.Dm=new e.aa.Gc(this,"destStart","vec2");this.Cm=
new e.aa.Gc(this,"destEnd","vec2");this.Qj=new e.aa.Gc(this,"srcStart","vec2");this.Em=new e.aa.Gc(this,"srcEnd","vec2");this.Gm=new e.aa.Gc(this,"srcOriginStart","vec2");this.Fm=new e.aa.Gc(this,"srcOriginEnd","vec2");this.oh=new e.aa.Gc(this,"pixelSize","vec2");this.Jo=new e.aa.Gc(this,"seconds","float");this.Go=new e.aa.Gc(this,"layerScale","float");this.Fo=new e.aa.Gc(this,"layerAngle","float");this.Io=new e.aa.Gc(this,"layoutStart","vec2");this.Ho=new e.aa.Gc(this,"layoutEnd","vec2");this.dV=
!!(this.oh.ga||this.Jo.ga||this.It.ga||this.Dm.ga||this.Cm.ga||this.Qj.ga||this.Em.ga||this.Gm.ga||this.Fm.ga||this.Go.ga||this.Fo.ga||this.Io.ga||this.Ho.ga);this.NU=d.QD||0;this.OU=d.RD||0;this.pJ=!!d.KD;this.hga=!!d.YD;this.ot=!!d.cE;this.iB=!!d.JD;b=d.parameters||[];this.Tq=[];this.ey=this.Dm.ga||this.Cm.ga;this.Gga=this.oh.ga||this.Qj.ga||this.Em.ga||this.Gm.ga||this.Fm.ga;this.jga=this.pJ||this.ey||0!==this.NU||0!==this.OU;this.RJ=this.SJ=!1;this.Sq.dP();this.NL.dP();this.Dga.cP(0);this.It.cP(1);
this.SL.Og(0,0);this.RL.Og(1,1);this.VL.tr(0);this.TL.Og(0,0);this.UL.Og(0,0);this.Dm.Og(0,0);this.Cm.Og(1,1);this.Qj.Og(0,0);this.Em.Og(0,0);this.Gm.Og(0,0);this.Fm.Og(0,0);this.oh.Og(0,0);this.Go.tr(1);this.Fo.tr(0);this.Jo.tr(0);this.Io.Og(0,0);this.Ho.Og(0,0);this.QL.tr(1);for(const l of b)b=l[2],a=new e.aa.Gc(this,l[0],b),"color"===b?a.K2():a.tr(0),this.Tq.push(a);this.kC?this.oU(k.my):(this.vA(k.my,!0),this.uA(k.ND,!0));k=k.xi;f.useProgram(k?k.jb:null)}m(){this.Y.deleteProgram(this.jb);this.jb=
null;this.ya.$ca(this);this.ya=this.Y=null}wa(){return this.Ia}qn(){return this.hga}Bz(b){return this.Tq[b].hk()}FY(b){for(let a=0,d=b.length;a<d;++a)if(!this.Tq[a].L3(b[a]))return!1;return!0}G6(b){for(let a=0,d=b.length;a<d;++a)this.Tq[a].B6(b[a])}GY(b,a,d,c,f,k,h,l,n){return this.It.ga||this.oh.ga&&!this.oh.Kl(f,k)||this.Dm.ga&&!this.Dm.Kl(b.R,b.O)||this.Cm.ga&&!this.Cm.Kl(b.ia,b.ba)||this.Go.ga&&!this.Go.YF(h)||this.Fo.ga&&!this.Fo.YF(l)||this.Qj.ga&&!this.Qj.Kl(a.R,a.O)||this.Em.ga&&!this.Em.Kl(a.ia,
a.ba)||this.Gm.ga&&!this.Gm.Kl(d.R,d.O)||this.Fm.ga&&!this.Fm.Kl(d.ia,d.ba)||this.Io.ga&&!this.Io.Kl(c.R,c.O)||this.Ho.ga&&!this.Ho.Kl(c.O,c.ba)||this.Jo.ga&&!this.Jo.YF(n)?!1:!0}e7(b,a,d,c,f,k,h,l,n){this.It.ga||(this.oh.ga&&this.oh.Ol(f,k),this.Dm.ga&&this.Dm.Ol(b.R,b.O),this.Cm.ga&&this.Cm.Ol(b.ia,b.ba),this.Go.ga&&this.Go.BG(h),this.Fo.ga&&this.Fo.BG(l),this.Qj.ga&&this.Qj.Ol(a.R,a.O),this.Em.ga&&this.Em.Ol(a.ia,a.ba),this.Gm.ga&&this.Gm.Ol(d.R,d.O),this.Fm.ga&&this.Fm.Ol(d.ia,d.ba),this.Io.ga&&
this.Io.Ol(c.R,c.O),this.Ho.ga&&this.Ho.Ol(c.O,c.ba),this.Jo.ga&&this.Jo.BG(n))}vA(b,a){this.SJ&&!a||this.kC||(this.PL.ga&&this.PL.wA(b),this.SJ=!0)}d7(){this.SJ=!1}uA(b,a){this.RJ&&!a||this.kC||(this.OL.ga&&this.OL.wA(b),this.RJ=!0)}c7(){this.RJ=!1}oU(b){if(!this.kC)throw Error("not device transform shader");this.PL.wA(b);b=this.ya;const a=b.X()/2,d=b.W()/2;b=b.mu(a,d,100*self.devicePixelRatio,a,d);this.OL.wA(b)}o8(b){this.Sq.ga&&this.Sq.tA(b[0],b[1],b[2],b[3])}static rz(b){b=b?"highmedp":"mediump";
return["#ifdef GL_FRAGMENT_PRECISION_HIGH\n#define highmedp highp\n#else\n#define highmedp mediump\n#endif\nattribute highp vec3 aPos;",`attribute ${b} vec2 aTex;`,`varying ${b} vec2 vTex;`,"uniform highp mat4 matP;\nuniform highp mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos, 1.0);\n\tvTex = aTex;\n}"].join("\n")}}}
{"use strict";const e=self.B,b=self.nl.To,a=new Map([["float",1],["percent",1],["sampler",1],["vec2",2],["vec3",3],["color",3],["vec4",4],["mat4",16]]);e.aa.Gc=class{constructor(d,c,f){if(!a.has(f))throw Error("invalid uniform type");this.Vb=d;this.Y=this.Vb.Y;this.Ia=c;this.Aa=f;this.gK="color"===this.Aa;this.hi=this.Y.getUniformLocation(this.Vb.jb,c);this.ga=!!this.hi;d=a.get(f);this.Ub=new Float32Array(d);this.Jj=new Float32Array(d)}m(){this.hi=this.Y=this.Vb=null}hk(){return this.Aa}tr(d){this.ga&&
(this.Ub[0]=d,this.Jj.set(this.Ub),this.Y.uniform1f(this.hi,d))}cP(d){this.ga&&(this.Ub[0]=d,this.Jj.set(this.Ub),this.Y.uniform1i(this.hi,d))}Og(d,c){this.ga&&(this.Ub[0]=d,this.Ub[1]=c,this.Jj.set(this.Ub),this.Y.uniform2f(this.hi,d,c))}K2(){this.ga&&(this.Ub[0]=0,this.Ub[1]=0,this.Ub[2]=0,this.Jj.set(this.Ub),this.Y.uniform3f(this.hi,0,0,0))}dP(){this.ga&&(this.Ub[0]=1,this.Ub[1]=1,this.Ub[2]=1,this.Ub[3]=1,this.Jj.set(this.Ub),this.Y.uniform4f(this.hi,1,1,1,1))}Zr(d){d=Math.fround(d);const c=
this.Ub;c[0]!==d&&(c[0]=d,this.Y.uniform1f(this.hi,d))}hf(d,c){d=Math.fround(d);c=Math.fround(c);const f=this.Ub;if(f[0]!==d||f[1]!==c)f[0]=d,f[1]=c,this.Y.uniform2f(this.hi,d,c)}m8(d,c,f){d=Math.fround(d);c=Math.fround(c);f=Math.fround(f);const k=this.Ub;if(k[0]!==d||k[1]!==c||k[2]!==f)k[0]=d,k[1]=c,k[2]=f,this.Y.uniform3f(this.hi,d,c,f)}tA(d,c,f,k){d=Math.fround(d);c=Math.fround(c);f=Math.fround(f);k=Math.fround(k);const h=this.Ub;if(h[0]!==d||h[1]!==c||h[2]!==f||h[3]!==k)h[0]=d,h[1]=c,h[2]=f,h[3]=
k,this.Y.uniform4f(this.hi,d,c,f,k)}wA(d){const c=this.Ub;b.Uj(c,d)||(e.Hia(c,d),this.Y.uniformMatrix4fv(this.hi,!1,d))}L3(d){const c=this.Jj;return this.gK?c[0]===Math.fround(d.Xa)&&c[1]===Math.fround(d.Ga)&&c[2]===Math.fround(d.Za):c[0]===Math.fround(d)}B6(d){const c=this.Jj;this.gK?(c[0]=d.Xa,c[1]=d.Ga,c[2]=d.Za):c[0]=d}YF(d){return this.Jj[0]===Math.fround(d)}Kl(d,c){const f=this.Jj;return f[0]===Math.fround(d)&&f[1]===Math.fround(c)}BG(d){this.Jj[0]=d}Ol(d,c){const f=this.Jj;f[0]=d;f[1]=c}}}
{"use strict";const e=self.B,b=self.nl,a=b.Jy,d=b.To;e.aa.MY=class{constructor(c){this.yf=c;this.ND=d.create();this.my=d.create();this.Po=null;this.MD=a.fg(1,1,1,1);this.xi=null;this.JM=new e.Rect;this.clearColor=e.D(e.eb,0,0,0,0)}};e.aa.B8=class{constructor(c){const f=new ArrayBuffer(96);this.Aa=0;this.Hc=c;this.Y=c.yf.Y;this.jq=this.lh=0;this.rf=null;this.Me=new Float32Array(f,0,16);this.Vp=new Float32Array(f,64,4);this.GW=new Float32Array(f,80,4);this.fD=[]}Z2(c){this.Aa=1;this.lh=c;this.jq=6}f_(){const c=
this.Y;c.drawElements(c.TRIANGLES,this.jq,c.UNSIGNED_SHORT,this.lh)}i3(c){this.Aa=2;this.rf=c}r_(){const c=this.Y,f=this.rf;c.bindTexture(c.TEXTURE_2D,f?f.rb:null)}KF(c){this.Aa=3;c.vh(this.Vp,0)}h_(){const c=this.Vp,f=this.Hc;a.Ba(f.MD,c);f.xi.o8(c)}k_(){const c=this.Vp,f=this.Hc.xi;f.NL.ga&&f.NL.tA(c[0],c[1],c[2],c[3])}a3(c,f){this.Aa=4;this.lh=c;this.jq=f}g_(){this.Y.blendFunc(this.lh,this.jq)}j3(c,f){this.Aa=5;const k=this.Vp;k[0]=0;k[1]=0;k[2]=c;k[3]=f}t_(){const c=this.Vp;this.Y.viewport(c[0],
c[1],c[2],c[3])}g3(c){this.Aa=6;d.Ba(this.Me,c)}p_(){const c=this.Hc,f=c.yf.Rp,k=c.xi,h=this.Me;for(let l=0,n=f.length;l<n;++l){const p=f[l];p===k?p.vA(h,!0):p.d7()}d.Ba(c.my,h)}d3(c){this.Aa=7;d.Ba(this.Me,c)}l_(){const c=this.Hc,f=c.yf.Rp,k=c.xi,h=this.Me;for(let l=0,n=f.length;l<n;++l){const p=f[l];p===k?p.uA(h,!0):p.c7()}d.Ba(c.ND,h)}h3(c){this.Aa=8;this.rf=c}q_(){const c=this.Y;var f=this.rf;const k=this.Hc;f?(f=f.zj,k.Po=f,c.bindFramebuffer(c.FRAMEBUFFER,f)):(k.Po=null,c.bindFramebuffer(c.FRAMEBUFFER,
null))}P2(c){this.Aa=9;c.vh(this.Me,0)}Q2(){this.Aa=9;const c=this.Me;c[0]=0;c[1]=0;c[2]=0;c[3]=0}ZZ(){const c=this.Y;var f=this.Me,k=this.Hc;const h=k.clearColor;(k=k.yf.qq&&e.Qt)&&c.disable(c.SCISSOR_TEST);const l=f[0],n=f[1],p=f[2];f=f[3];h.qy(l,n,p,f)||(c.clearColor(l,n,p,f),h.Xo(l,n,p,f));c.clear(c.COLOR_BUFFER_BIT);k&&c.enable(c.SCISSOR_TEST)}O2(c,f,k,h){this.Aa=10;const l=this.Me;l[0]=c;l[1]=f;l[2]=k;l[3]=h;l[4]=0;l[5]=0;l[6]=0;l[7]=0}YZ(){const c=this.Y;var f=this.Me,k=this.Hc;const h=k.yf;
k=k.clearColor;h.qq||c.enable(c.SCISSOR_TEST);c.scissor(f[0],f[1],f[2],f[3]);const l=f[4],n=f[5],p=f[6];f=f[7];k.qy(l,n,p,f)||(c.clearColor(l,n,p,f),k.Xo(l,n,p,f));c.clear(c.COLOR_BUFFER_BIT);h.qq?c.scissor(0,0,h.iy,h.hy):c.disable(c.SCISSOR_TEST)}m_(){const c=this.Me;this.Hc.JM.set(c[0],c[1],c[2],c[3])}e_(){const c=this.Y,f=this.Hc,k=f.yf.kD;c.useProgram(k.jb);k.vA(f.my,!1);k.uA(f.ND,!1);var h=f.JM;k.SL.ga&&k.SL.hf(h.R,h.O);k.RL.ga&&k.RL.hf(h.ia,h.ba);h=this.Me[0];k.VL.ga&&k.VL.Zr(h);k.Sq.ga&&(h=
f.MD,k.Sq.tA(h[0],h[1],h[2],h[3]));c.drawArrays(c.POINTS,this.lh/4,this.jq);c.useProgram(f.xi.jb)}e3(c){this.Aa=12;this.rf=c}n_(){var c=this.Y;const f=this.Hc,k=this.rf;f.xi=k;c.useProgram(k.jb);k.vA(f.my,!1);k.uA(f.ND,!1);k.Sq.ga&&(c=f.MD,k.Sq.tA(c[0],c[1],c[2],c[3]))}f3(){this.Aa=13}o_(){const c=this.Hc.xi;c.dV&&this.r$(c);c.Tq.length&&this.s$(c)}r$(c){const f=this.Y,k=this.Me,h=this.Vp,l=this.GW;if(c.It.ga){const n=this.Hc.yf,p=this.rf;n.fo!==p&&(f.activeTexture(f.TEXTURE1),f.bindTexture(f.TEXTURE_2D,
p?p.rb:null),n.fo=p,f.activeTexture(f.TEXTURE0))}c.oh.ga&&c.oh.hf(k[0],k[1]);c.Dm.ga&&c.Dm.hf(k[2],k[3]);c.Cm.ga&&c.Cm.hf(k[4],k[5]);c.Go.ga&&c.Go.Zr(k[6]);c.Fo.ga&&c.Fo.Zr(k[7]);c.Qj.ga&&c.Qj.hf(k[12],k[13]);c.Em.ga&&c.Em.hf(k[14],k[15]);c.Gm.ga&&c.Gm.hf(l[0],l[1]);c.Fm.ga&&c.Fm.hf(l[2],l[3]);c.Io.ga&&c.Io.hf(h[0],h[1]);c.Ho.ga&&c.Ho.hf(h[2],h[3]);c.Jo.ga&&c.Jo.Zr(this.lh)}s$(c){c=c.Tq;const f=this.fD;for(let k=0,h=c.length;k<h;++k){const l=c[k],n=f[k];l.gK?l.m8(n.Xa,n.Ga,n.Za):l.Zr(n)}}V2(c){this.Aa=
14;this.rf=c}d_(){const c=this.Y,f=this.rf,k=this.Hc.Po;f!==k&&c.bindFramebuffer(c.FRAMEBUFFER,f);c.invalidateFramebuffer(c.FRAMEBUFFER,[c.COLOR_ATTACHMENT0]);f!==k&&c.bindFramebuffer(c.FRAMEBUFFER,k)}L2(c,f){this.Aa=17;var k=this.Me;const h=this.Hc.yf;k[0]=c.X();k[1]=c.W();k[2]=f?f.X():h.X();k[3]=f?f.W():h.W();k[4]=c.UF()?1:0;k[5]=!0;k=this.fD;e.F(k);k.push(c.zj);k.push(f?f.zj:null)}WZ(){var c=this.Me,f=this.fD;const k=this.Y;var h=c[0],l=c[1],n=c[2];const p=c[3],u=0!==c[4];c=0!==c[5];const q=f[1];
k.bindFramebuffer(k.READ_FRAMEBUFFER,f[0]);k.bindFramebuffer(k.DRAW_FRAMEBUFFER,q);c?k.blitFramebuffer(0,0,h,l,0,0,n,p,k.COLOR_BUFFER_BIT,u?k.LINEAR:k.NEAREST):(f=Math.min(h,n),h=Math.min(l,p),n=Math.max(l-p,0),l=Math.max(p-l,0),k.blitFramebuffer(0,n,f,h+n,0,l,f,h+l,k.COLOR_BUFFER_BIT,k.NEAREST))}l3(c){this.Aa=18;this.rf=c}u_(){this.rf.AE();this.rf=null}U2(c){this.Aa=19;this.rf=c}c_(){this.rf.UE();this.rf=null}j_(){const c=this.Hc.xi,f=this.Me;c.oh.ga&&c.oh.hf(f[0],f[1]);c.QL.ga&&c.QL.Zr(f[2])}s_(){const c=
this.Hc.xi,f=this.Me;c.Qj.ga&&c.Qj.hf(f[0],f[1]);c.oh.ga&&c.oh.hf(f[4],f[5]);c.TL.ga&&c.TL.hf(f[6],f[7]);c.UL.ga&&c.UL.hf(f[8],f[9])}N2(){this.Aa=22}XZ(){const c=this.Y;c.clear(c.DEPTH_BUFFER_BIT)}b3(c){this.Aa=23;this.lh=c?1:0}i_(){const c=this.Y;0===this.lh?(c.disable(c.DEPTH_TEST),c.depthMask(!1)):(c.enable(c.DEPTH_TEST),c.depthMask(!0))}T2(){this.Aa=24}b_(){const c=this.Y;c.clear(c.STENCIL_BUFFER_BIT);c.enable(c.STENCIL_TEST);c.stencilFunc(c.ALWAYS,1,1);c.stencilOp(c.KEEP,c.KEEP,c.REPLACE);c.colorMask(!1,
!1,!1,!1)}S2(){this.Aa=25}a_(){const c=this.Y;c.colorMask(!0,!0,!0,!0);c.stencilFunc(c.EQUAL,1,1);c.stencilOp(c.KEEP,c.KEEP,c.KEEP)}R2(){this.Aa=26}$Z(){const c=this.Y;c.disable(c.STENCIL_TEST)}ra(){switch(this.Aa){case 1:this.f_();break;case 2:this.r_();break;case 3:this.h_();break;case 4:this.g_();break;case 5:this.t_();break;case 6:this.p_();break;case 7:this.l_();break;case 8:this.q_();break;case 9:this.ZZ();break;case 10:this.YZ();break;case 11:this.e_();break;case 12:this.n_();break;case 13:this.o_();
break;case 14:this.d_();break;case 15:this.m_();break;case 16:this.s_();break;case 17:this.WZ();break;case 18:this.u_();break;case 19:this.c_();break;case 20:this.j_();break;case 21:this.k_();break;case 22:this.XZ();break;case 23:this.i_();break;case 24:this.b_();break;case 25:this.a_();break;case 26:this.$Z()}}}}
{"use strict";const e=self.B,b={timeout:60},a=new e.eb(0,0,0,1),d=new Set(["left","center","right"]),c=new Set(["top","center","bottom"]),f=new Set(["word","character"]),k=new Set;e.q0&&e.q0.addEventListener("fontload",p=>{p=p.font.wa();for(const u of k)(u.ci||e.th(u.QB,p))&&u.Bk()});function h(p,u,q,v,r,w){u?"Gecko"===e.od.Py?p.strokeText(q,v,r,w):p.strokeText(q,v,r):"Gecko"===e.od.Py?p.fillText(q,v,r,w):p.fillText(q,v,r)}let l=!1,n=!1;e.aa.qG=class{constructor(p,u){u=Object.assign({},b,u);this.ya=
p;this.QB="Arial";this.RB=16;this.SB=1;this.xq=0;this.Rf=this.Qf=!1;this.wB="black";this.ci=!1;this.FM=null;this.UI=new Set;this.Pf="left";this.vf="top";this.rd="";this.pw=null;this.Oo=e.D(e.sH);this.aM="word";this.tK=this.tD=!1;this.Qw=!0;this.$p=-1;this.P=this.S=this.qJ=this.zs=this.Gs=0;this.wi=1;this.mJ=!1;this.ox=this.nm=this.pe=this.Mq=null;this.DV=this.EV=-1;this.FC=this.GV=this.yK="";this.zK=this.AK=1;this.TV=(q,v)=>this.iT(q,v);this.rb=null;this.Sx=this.Ux=0;this.vg=new e.Rect;this.Ex=1;
this.SK=!1;this.IL=new e.B2(()=>{this.Ih();this.ZT(8,8)},u.timeout);this.ZD=null;this.jy=!1;k.add(this)}m(){this.FM=null;this.UI.clear();this.TV=this.ox=this.nm=this.pe=this.Mq=this.pw=null;this.IL.m();this.ZD=null;this.Ih();this.Oo.Zc();this.ya=this.Oo=null;this.jy=!0;k.delete(this)}Np(){this.mJ=!0}Bk(){this.Np();this.Oo.Zc();this.tD=!0}ZQ(){this.Qw=!1}Pg(){return this.Qw}A6(p){p=!!p;this.ci!==p&&(p=(this.ci=p)?"alphabetic":"top",this.pe&&(this.pe.textBaseline=p),this.nm&&(this.nm.textBaseline=p),
this.Bk())}FG(p){p||(p="serif");this.QB!==p&&(this.QB=p,this.Bk())}pA(p){.1>p&&(p=.1);this.RB!==p&&(this.RB=p,this.Bk())}Q6(p){this.SB!==p&&(this.SB=p,this.Bk())}cR(p){this.xq!==p&&(this.xq=p,this.Np())}KQ(p){p=!!p;this.Qf!==p&&(this.Qf=p,this.Bk())}aR(p){p=!!p;this.Rf!==p&&(this.Rf=p,this.Bk())}EG(p){p=Math.floor(p);this.$p!==p&&(this.$p=p,this.Np())}gj(p,u){for(let q=p.length-1;0<=q;--q){const v=p[q];if(v.tag===u)return v}return null}gs(p,u){return!!this.gj(p,u)}zS(p,u){let q=[];(this.Qf||this.gs(u,
"b"))&&q.push("bold");(this.Rf||this.gs(u,"i"))&&q.push("italic");var v=this.gj(u,"size");v=(v?parseFloat(v.Bi):this.RB)*this.SB;p?q.push(v+"pt"):q.push(v*this.Ex*this.wi*self.devicePixelRatio+"pt");p=this.QB;(u=this.gj(u,"font"))&&u.Bi&&(p=u.Bi,this.FM&&!this.UI.has(p)&&(this.FM(p),this.UI.add(p)));p&&q.push('"'+p+'"');return q.join(" ")}An(p){p instanceof e.eb&&(p=p.sha());this.wB!==p&&(this.wB=p,this.Np())}MQ(p,u,q){a.$t(p,u,q);this.An(a)}XQ(p){if(!d.has(p))throw Error("invalid horizontal alignment");
this.Pf!==p&&(this.Pf=p,this.Np())}qR(p){if(!c.has(p))throw Error("invalid vertical alignment");this.vf!==p&&(this.vf=p,this.Np())}H7(p){if(!f.has(p))throw Error("invalid word wrap mode");this.aM!==p&&(this.aM=p,this.Bk())}Dv(p){this.rd!==p&&(this.rd=p,this.Bk())}Fc(p,u,q){"undefined"===typeof q&&(q=1);if(!(0>=p||0>=p||this.zs===p&&this.qJ===u&&this.wi===q)){1===this.wi!==(1===q)&&(this.SK=!0);var v=this.zs,r=this.wi;this.zs=p;this.qJ=u;this.wi=q;p=self.devicePixelRatio;this.S=this.zs*this.wi*p;this.P=
this.qJ*this.wi*p;p=Math.max(this.S,this.P);u=Math.min(this.ya.OC,2048);q=1;p>u&&(q=u/p,this.S=Math.min(this.S*q,u),this.P=Math.min(this.P*q,u));this.Ex=q;0<this.Ux&&0<this.Sx&&this.wi===r&&this.vg.set(0,0,this.S/this.Ux,this.P/this.Sx);this.zs!==v?this.Bk():this.Np()}}X(){return this.S}W(){return this.P}M1(){this.eI();return this.Oo.o1()}L1(){this.eI();return this.Oo.P1()+this.Oo.ho.length*(this.xq+4)-this.xq}Id(){this.IL.Nc();this.Lba();return this.rb}Lba(){this.rb&&!this.mJ&&!this.tD||this.tK||
0>=this.S||0>=this.P||(this.mJ=!1,this.tK=!0,this.Qw?e.ql(()=>this.jS()):this.jS())}jS(){this.jy||(this.ZT(Math.ceil(this.S),Math.ceil(this.P)),this.eI(),this.I$(),this.Zea(),this.IL.Nc(),this.tK=!1)}ZT(p,u){this.Mq||(this.Mq=e.Eg(16,16));let q=!1;if(this.EV!==p||this.DV!==u)this.EV=p,this.DV=u,this.Mq.width=p,this.Mq.height=u,q=!0;this.pe||(this.pe=this.Mq.getContext("2d"),q=!0);q?(this.pe.textBaseline=this.ci?"alphabetic":"top",this.pe.font=this.yK,this.pe.fillStyle=this.FC,this.pe.strokeStyle=
this.FC,this.pe.globalAlpha=this.AK,this.pe.lineWidth=this.zK):this.pe.clearRect(0,0,p,u)}cT(){this.nm||(this.nm=e.Eg(16,16).getContext("2d"),this.ox=e.Eg(16,16).getContext("2d"),this.nm.textBaseline=this.ci?"alphabetic":"top",this.ox.textBaseline="top")}rea(p){this.GV!==p&&(this.GV=p,this.nm.font=p,this.ox.font=p)}gU(){if(!l){l=!0;this.cT();const p=this.nm.measureText("test");n="number"===typeof p.fontBoundingBoxAscent&&"number"===typeof p.fontBoundingBoxDescent}return n}eI(){this.tD&&(this.cT(),
!this.ci||this.pw&&this.pw.toString()===this.rd||(this.pw=new e.Vm(this.rd,{Yha:!0})),this.Oo.sH(this.ci?this.pw.Aia():this.rd,this.TV,this.zs,this.aM,0),this.tD=!1)}iT(p,u){this.rea(this.zS(!0,u));u=this.gj(u,"size");u=(u?parseFloat(u.Bi):this.RB)*this.SB;const q=this.nm.measureText(p);let v=0;this.ci&&this.gU()&&(v=q.fontBoundingBoxAscent-this.ox.measureText(p).fontBoundingBoxAscent);return{width:q.width,height:4/3*u,zg:q.fontBoundingBoxAscent||0,eg:q.fontBoundingBoxDescent||0,gg:v}}bea(p){this.yK!==
p&&(this.yK=p,this.pe.font=p)}WA(p){this.FC!==p&&(this.FC=p,this.pe.fillStyle=p,this.pe.strokeStyle=p)}aea(p){this.AK!==p&&(this.AK=p,this.pe.globalAlpha=p)}PT(p){this.zK!==p&&(this.zK=p,this.pe.lineWidth=p)}I$(){this.Gs=0;const p=this.Ex*this.wi*self.devicePixelRatio,u=(4+this.xq)*p;var q=0;const v=this.Oo.ho;if(0!==v.length){var r=this.ci&&this.gU(),w=v[0].height*p;"center"===this.vf?(q=v.reduce((y,z)=>y+z.height*p+u,0)-u,q=Math.max(this.P/2-q/2,0),r&&(w=v[0].gg*p)):"bottom"===this.vf&&(q=v.reduce((y,
z)=>y+z.height*p+u,0)-this.xq*p,q=this.P-q-(r?v.Se(-1).eg*p:0)-2);for(let y=0,z=v.length;y<z;++y){r=v[y];const E=r.height*p,G=q;if(this.ci){if(q+=0===y?w:E,0<y&&q>this.P-4*p)break}else if(0<y&&q>=this.P-E)break;0<=G&&this.H$(r,q,p);this.ci||(q+=E);q+=u}}}H$(p,u,q){let v=0;"center"===this.Pf?v=(this.S-p.width*q)/2:"right"===this.Pf&&(v=this.S-p.width*q);for(const r of p.pX)this.G$(r,v,u,q,p.height),v+=r.width*q}G$(p,u,q,v,r){const w=this.pe;var y=r/16;r=p.width*v;const z=p.height*v,E=p.height/16;var G=
(4+this.xq)*v,P=p.xd,C=p.text;if(-1!==this.$p){if(this.Gs>=this.$p)return;this.Gs+C.length>this.$p&&(C=C.substr(0,this.$p-this.Gs),r=this.iT(C,P).width*v);this.Gs+=C.length}var H=this.gj(P,"background"),I=this.gs(P,"u");p=this.gs(P,"s");if((!e.$F(C)||H||I||p)&&!this.gs(P,"hide")){var M=this.gj(P,"offsetx");u+=M?parseFloat(M.Bi)*v:0;M=this.gj(P,"offsety");q+=M?parseFloat(M.Bi)*v:0;H&&(this.WA(H.Bi),w.fillRect(u,q-z,r,z+G));M=this.gj(P,"color");this.WA(M?M.Bi:this.wB);G=this.gj(P,"opacity");this.aea(G?
parseFloat(G.Bi)/100:1);G=(G=this.gj(P,"linethickness"))?parseFloat(G.Bi):1;(H=this.gs(P,"stroke"))&&this.PT(.5*E*G*this.Ex*this.wi*self.devicePixelRatio);this.bea(this.zS(!1,P));h(w,H,C,u,q,r);!H&&(this.PT(.5*E*G*this.Ex*this.wi*self.devicePixelRatio),P=this.gj(P,"outline"))&&(this.WA(P.Bi),h(w,!0,C,u,q,r));this.WA(M?M.Bi:this.wB);I&&(P=u,C=q+v*y,I=r,y=v*y*G,H?w.strokeRect(P,C,I,y):w.fillRect(P,C,I,y));p&&(v*=E,w.fillRect(u,q-z/4+v/2-v*G/2,r,v*G))}}Zea(){this.ya.sp()||(this.Ux=Math.ceil(this.S),
this.Sx=Math.ceil(this.P),this.vg.set(0,0,this.S/this.Ux,this.P/this.Sx),this.SK&&(this.Ih(),this.SK=!1),this.rb||(this.rb=this.ya.PN(this.Ux,this.Sx,{XD:1===this.wi,zy:"high"})),this.ya.r8(this.Mq,this.rb),this.ZD&&this.ZD())}gk(){return this.vg}Ih(){this.rb&&(this.ya.sp()||this.ya.Xj(this.rb),this.rb=null)}static Ml(){for(const p of k)p.Ih()}}}
{"use strict";const e=self.B;class b{constructor(a){this.Y=a.Y;this.Sd=a.Sd;this.Rd=a.Rd;this.li=null;this.Gw=this.Lb=!1;this.dD=0;this.li=1===this.Sd?this.Rd.createQueryEXT():this.Y.createQuery()}m(){this.fS();this.Rd=this.Y=null;this.Gw=!1}fS(){this.li&&(1===this.Sd?this.Rd.deleteQueryEXT(this.li):this.Y.deleteQuery(this.li),this.li=null)}AE(){if(this.Lb)throw Error("query already active");1===this.Sd?this.Rd.beginQueryEXT(this.Rd.TIME_ELAPSED_EXT,this.li):this.Y.beginQuery(this.Rd.TIME_ELAPSED_EXT,
this.li);this.Lb=!0}UE(){if(!this.Lb)throw Error("query not active");1===this.Sd?this.Rd.endQueryEXT(this.Rd.TIME_ELAPSED_EXT):this.Y.endQuery(this.Rd.TIME_ELAPSED_EXT);this.Lb=!1}GE(){if(this.li&&!this.Gw&&!this.Lb){var a=1===this.Sd?this.Rd.getQueryObjectEXT(this.li,this.Rd.QUERY_RESULT_AVAILABLE_EXT):this.Y.getQueryParameter(this.li,this.Y.QUERY_RESULT_AVAILABLE);var d=this.Y.getParameter(this.Rd.GPU_DISJOINT_EXT);a&&!d&&(this.dD=1===this.Sd?this.Rd.getQueryObjectEXT(this.li,this.Rd.QUERY_RESULT_EXT):
this.Y.getQueryParameter(this.li,this.Y.QUERY_RESULT),this.dD/=1E9,this.Gw=!0);(a||d)&&this.fS()}}Pz(){return this.Gw}Fz(){if(!this.Gw)throw Error("no result available");return this.dD}}e.aa.D8=class{constructor(a){this.ya=a;this.bi=a.bi;this.Lb=!1;this.qo=null;this.pq=!1;this.qt=null;this.Fq=[]}m(){for(const a of this.Fq)a instanceof b&&a.m();e.F(this.Fq);this.ya=this.qt=this.qo=null}AE(){if(this.Lb)throw Error("query already active");const a=this.ya.LW;0<a.length?(this.pq=!0,this.qo=a.Se(-1),this.qo.mS(),
this.qo.Fq.push(this)):(this.pq=!1,this.qo=null);this.Lb=!0;a.push(this);this.eU()}UE(){if(!this.Lb)throw Error("query not active");if(this.ya.LW.pop()!==this)throw Error("can only end most nested query");this.Lb=!1;this.mS();this.qo&&(this.qo.eU(),this.qo=null)}eU(){this.qt=e.D(b,this.ya);this.Fq.push(this.qt);this.qt.AE()}mS(){this.qt.UE();this.qt=null}GE(){for(const a of this.Fq)a.GE()}Pz(){return this.Fq.every(a=>a.Pz())}Fz(){return this.Fq.reduce((a,d)=>a+d.Fz(),0)}}}
{"use strict";const e=self.B;e.aa.JR=class{constructor(b,a=1E3){this.ya=b;this.gga=a;this.Ek=[];this.ya.W8(this)}m(){this.Zc();this.ya.Zca(this);this.ya=null}Zc(){for(const b of this.Ek)b.m();e.F(this.Ek)}xE(){const b=new e.aa.D8(this.ya);this.Ek.push(b);this.Ek.length>this.gga&&this.Ek.shift().m();return b}bZ(b){for(const a of this.Ek){if(a.bi>=b)break;if(a.pq)break;a.GE()}}vO(b,a){if(a<=b)return NaN;let d=0;for(const c of this.Ek){if(c.bi>=a)break;if(!(c.bi<b))if(c.Pz())d+=c.Fz();else return NaN}return d}TN(b){for(let a=
0,d=this.Ek.length;a<d;++a){const c=this.Ek[a];if(c.bi<b)c.m();else{0<a&&this.Ek.splice(0,a);break}}}}}
{"use strict";const e=self.B,b=self.nl,a=b.Jy,d=b.To,c={powerPreference:"default",nX:!0,alpha:!1,xM:!1,depth:!1,zX:2,failIfMajorPerformanceCaveat:!1},f=new Set(["default","low-power","high-performance"]),k=new e.Bd(0,0,1,0,1,1,0,1),h=d.create(),l=d.create(),n=new e.Bd,p=new e.Rect;let u=null;e.Qt&&(self.qta=function(){u?u.loseContext():console.warn("WEBGL_lose_context not supported")},self.rta=function(){u?u.restoreContext():console.warn("WEBGL_lose_context not supported")});const q=new Set;let v=
-1;function r(){v=-1;for(const w of q)w.Xq()&&(w.resolve(),q.delete(w));0<q.size&&(v=self.requestAnimationFrame(r))}e.aa.C8=class extends e.aa.a6{constructor(w,y){super();y=Object.assign({},c,y);if(!f.has(y.powerPreference))throw Error("invalid power preference");const z={alpha:!!y.alpha,depth:!1,antialias:!1,powerPreference:y.powerPreference,failIfMajorPerformanceCaveat:!!y.failIfMajorPerformanceCaveat};y.xM&&(z.desynchronized=!0,z.preserveDrawingBuffer=!0);let E=null,G=0;2<=y.zX&&(E=w.getContext("webgl2",
z),G=2);E||(E=w.getContext("webgl",z),G=1);if(!E)throw Error("failed to initialise WebGL context");this.Y=E;this.wU=E.getContextAttributes();y.xM&&!this.wU.desynchronized&&console.info("[WebGLRenderer] Low-latency mode specified but is not supported here");E.getParameter(E.VERSION);this.Sd=G;this.Zf=a.create();this.aJ=d.create();this.hK=this.Ko=!!y.depth;this.Yp=null;this.fK=!0;this.EU=this.FU=0;this.YC=this.oV=this.sD=this.FD=null;this.gy=new Float32Array(24E3);this.pV=new Uint16Array(12E3);this.Lq=
new Float32Array(16E3);this.hW=new Float32Array(32E3);this.HV=this.ZC=this.Re=this.vi=0;this.yo=this.vq=null;this.ow=[];this.vc=this.Qn=0;this.Md=null;this.Hc=e.D(e.aa.MY,this);this.cx=e.D(e.eb,1,1,1,1);this.fo=this.lm=null;this.vK=this.xK=0;this.qq=!1;this.hy=this.iy=-1;this.$fa=new e.Rect;this.OC=-1;this.MK=0;this.by="(unavailable)";this.kK=!1;this.iw=this.aL=null;this.LK=0;this.Xfa=!!y.nX;this.Rd=null;this.hB=new Set;this.LW=[];this.m0(this.pV)}bv(){return!0}async Qz(){super.Qz();var w=this.Y;
this.cx.Xo(1,1,1,1);this.fo=this.lm=null;this.ZC=this.vi=0;this.HV=23988;e.F(this.ow);this.vc=this.Qn=0;this.Md=this.vq=null;this.$fa.set(0,0,1,1);var y=this.Hc;y.xi=null;y.Po=null;a.set(y.MD,1,1,1,1);y.clearColor.Xo(0,0,0,0);y.JM.set(0,0,1,1);w.clearColor(0,0,0,0);w.clear(w.COLOR_BUFFER_BIT);w.enable(w.BLEND);w.blendFunc(w.ONE,w.ONE_MINUS_SRC_ALPHA);this.xK=w.ONE;this.vK=w.ONE_MINUS_SRC_ALPHA;this.Maa(w);w.disable(w.CULL_FACE);w.disable(w.STENCIL_TEST);w.disable(w.DITHER);this.Ko?(w.enable(w.DEPTH_TEST),
w.depthMask(!0),w.depthFunc(w.LEQUAL)):(w.disable(w.DEPTH_TEST),w.depthMask(!1));this.hK=this.Ko;this.YC=w.createBuffer();w.bindBuffer(w.ARRAY_BUFFER,this.YC);w.bufferData(w.ARRAY_BUFFER,this.hW.byteLength,w.DYNAMIC_DRAW);this.FD=w.createBuffer();w.bindBuffer(w.ARRAY_BUFFER,this.FD);w.bufferData(w.ARRAY_BUFFER,this.gy.byteLength,w.DYNAMIC_DRAW);this.sD=w.createBuffer();w.bindBuffer(w.ARRAY_BUFFER,this.sD);w.bufferData(w.ARRAY_BUFFER,this.Lq.byteLength,w.DYNAMIC_DRAW);this.oV=w.createBuffer();w.bindBuffer(w.ELEMENT_ARRAY_BUFFER,
this.oV);w.bufferData(w.ELEMENT_ARRAY_BUFFER,this.pV,w.STATIC_DRAW);w.activeTexture(w.TEXTURE0);w.bindTexture(w.TEXTURE_2D,null);this.OC=w.getParameter(w.MAX_TEXTURE_SIZE);this.MK=w.getParameter(w.ALIASED_POINT_SIZE_RANGE)[1];2048<this.MK&&(this.MK=2048);if(y=w.getExtension("WEBGL_debug_renderer_info"))w.getParameter(y.UNMASKED_VENDOR_WEBGL),this.by=w.getParameter(y.UNMASKED_RENDERER_WEBGL);this.aL=w.getExtension("KHR_parallel_shader_compile");e.Qt&&(u=w.getExtension("WEBGL_lose_context"));if(this.Xfa)if(1===
this.Sd){if("Chromium"!==e.od.Py||81<=e.od.DE||"undefined"!==typeof document)this.Rd=w.getExtension("EXT_disjoint_timer_query")}else this.Rd=w.getExtension("EXT_disjoint_timer_query_webgl2")||w.getExtension("EXT_disjoint_timer_query");this.LK=(this.iw=w.getExtension("EXT_texture_filter_anisotropic"))?w.getParameter(this.iw.MAX_TEXTURE_MAX_ANISOTROPY_EXT):0;w=e.aa.Iv;y=w.rz(!1);w=await Promise.all([["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nuniform lowp sampler2D samplerFront;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, vTex) * color;\n}",
y,"<default>"],["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nuniform lowp sampler2D samplerFront;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, vTex) * color;\n}",y,"<default-device-transform>"],["uniform lowp sampler2D samplerFront;\nvarying lowp float pointOpacity;\nuniform mediump vec2 pointTexStart;\nuniform mediump vec2 pointTexEnd;\nuniform lowp vec4 color;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, mix(pointTexStart, pointTexEnd, gl_PointCoord)) * color * pointOpacity;\n}",
"attribute vec4 aPoints;\nvarying float pointOpacity;\nuniform float zElevation;\nuniform mat4 matP;\nuniform mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPoints.xy, zElevation, 1.0);\n\tgl_PointSize = aPoints.z;\n\tpointOpacity = aPoints.w;\n}","<point>"],["uniform lowp vec4 color;\nvoid main(void) {\n\tgl_FragColor = color;\n}",y,"<fill>"],["precision lowp float;\nvarying mediump vec2 vTex;\nuniform vec4 color;\nuniform vec4 color2_;\nvec3 fromLinear(vec3 linearRGB)\n{\n\tbvec3 cutoff = lessThan(linearRGB, vec3(0.0031308));\n\tvec3 higher = vec3(1.055) * pow(abs(linearRGB), vec3(1.0/2.4)) - vec3(0.055);\n\tvec3 lower = linearRGB * vec3(12.92);\n\treturn mix(higher, lower, vec3(cutoff));\n}\nvec3 toLinear(vec3 sRGB)\n{\n\tbvec3 cutoff = lessThan(sRGB, vec3(0.04045));\n\tvec3 higher = pow(abs((sRGB + vec3(0.055))/vec3(1.055)), vec3(2.4));\n\tvec3 lower = sRGB/vec3(12.92);\n\treturn mix(higher, lower, vec3(cutoff));\n}\nvoid main(void) {\n\tvec3 linearGrad = mix(toLinear(color.rgb), toLinear(color2_.rgb), vTex.x);\n\tfloat a = mix(color.a, color2_.a, vTex.x);\n\tgl_FragColor = vec4(fromLinear(linearGrad) * a, a);\n}",
y,"<lineargradient>"],["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nvoid main(void) {\n\tmediump vec2 diff = vTex - vec2(0.5, 0.5);\n\tmediump vec2 diffSq = diff * diff;\n\tmediump float f = step(diffSq.x + diffSq.y, 0.25);\n\tgl_FragColor = color * f;\n}",y,"<hardellipse>"],["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nuniform mediump vec2 pixelSize;\nuniform mediump float outlineThickness;\nvoid main(void) {\n\tmediump vec2 diff = vTex - vec2(0.5, 0.5);\n\tmediump vec2 diffSq = diff * diff;\n\tmediump float distSq = diffSq.x + diffSq.y;\n\tmediump vec2 norm = normalize(diff);\n\tmediump vec2 halfNorm = norm * 0.5;\n\tmediump float innerF = step(distSq, 0.25);\n\tmediump vec2 innerEdge = halfNorm - pixelSize * norm * outlineThickness;\n\tmediump vec2 innerEdgeSq = innerEdge * innerEdge;\n\tmediump float outerF = step(innerEdgeSq.x + innerEdgeSq.y, distSq);\n\tgl_FragColor = color * innerF * outerF;\n}",
y,"<hardellipseoutline>"],["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nuniform mediump vec2 pixelSize;\nvoid main(void) {\n\tmediump vec2 diff = vTex - vec2(0.5, 0.5);\n\tmediump vec2 diffSq = diff * diff;\n\tmediump vec2 norm = normalize(diff);\n\tmediump vec2 halfNorm = norm * 0.5;\n\tmediump vec2 halfNormSq = halfNorm * halfNorm;\n\tmediump vec2 innerEdge = halfNorm - pixelSize * norm;\n\tmediump vec2 innerEdgeSq = innerEdge * innerEdge;\n\tmediump float f = smoothstep(halfNormSq.x + halfNormSq.y, innerEdgeSq.x + innerEdgeSq.y, diffSq.x + diffSq.y);\n\tgl_FragColor = color * f;\n}",
y,"<smoothellipse>"],["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nuniform mediump vec2 pixelSize;\nuniform mediump float outlineThickness;\nvoid main(void) {\n\tmediump vec2 diff = vTex - vec2(0.5, 0.5);\n\tmediump vec2 diffSq = diff * diff;\n\tmediump float distSq = diffSq.x + diffSq.y;\n\tmediump vec2 norm = normalize(diff);\n\tmediump vec2 halfNorm = norm * 0.5;\n\tmediump vec2 halfNormSq = halfNorm * halfNorm;\n\tmediump vec2 pxNorm = pixelSize * norm;\n\tmediump vec2 innerEdge1 = halfNorm - pxNorm;\n\tmediump vec2 innerEdge1Sq = innerEdge1 * innerEdge1;\n\tmediump float innerF = smoothstep(halfNormSq.x + halfNormSq.y, innerEdge1Sq.x + innerEdge1Sq.y, distSq);\n\tmediump vec2 innerEdge2 = halfNorm - pxNorm * outlineThickness;\n\tmediump vec2 innerEdge2Sq = innerEdge2 * innerEdge2;\n\tmediump vec2 innerEdge3 = halfNorm - pxNorm * (outlineThickness + 1.0);\n\tmediump vec2 innerEdge3Sq = innerEdge3 * innerEdge3;\n\tmediump float outerF = smoothstep(innerEdge3Sq.x + innerEdge3Sq.y, innerEdge2Sq.x + innerEdge2Sq.y, distSq);\n\tgl_FragColor = color * innerF * outerF;\n}",
y,"<smoothellipseoutline>"],["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nvoid main(void) {\n\tlowp float f = 1.0 - abs(vTex.y - 0.5) * 2.0;\n\tgl_FragColor = color * f;\n}",y,"<smoothline>"],["#ifdef GL_FRAGMENT_PRECISION_HIGH\n#define highmedp highp\n#else\n#define highmedp mediump\n#endif\nvarying highmedp vec2 vTex;\nuniform lowp vec4 color;\nuniform lowp sampler2D samplerFront;\nuniform highmedp vec2 srcStart;\nuniform highmedp vec2 pixelSize;\nuniform highmedp vec2 tileSize;\nuniform highmedp vec2 tileSpacing;\nvoid main(void) {\n\thighmedp vec2 tile = floor(vTex);\n\thighmedp vec2 tex = fract(vTex);\n\thighmedp vec2 tileOrigin = srcStart + tile * (tileSize + tileSpacing);\n\thighmedp vec2 lowerBound = tileOrigin + pixelSize / 2.0;\n\thighmedp vec2 upperBound = tileOrigin + tileSize - pixelSize / 2.0;\n\tgl_FragColor = texture2D(samplerFront, clamp(tex, lowerBound, upperBound), -16.0) * color;\n}",
w.rz(!0),"<tilemap>"]].map(z=>this.NE({src:z[0]},z[1],z[2])));this.lD=w[0];this.yo=w[1];this.kD=w[2];this.xL=w[3];this.cj()}async NE(w,y,z){w=await e.aa.Iv.Oa(this,w,y,z);this.X8(w);return w}h6(){this.vq=null}Fc(w,y,z){if(this.S!==w||this.P!==y||z){this.Ki();z=this.Y;var E=this.Hc;this.S=w;this.P=y;w=this.JO();y=this.tF();this.bU(w,y);this.nu(this.aJ,w/y);this.Vr(this.aJ);this.yo&&(z.useProgram(this.yo.jb),this.yo.oU(this.MC),this.vq=this.yo,this.Hc.xi=this.yo);z.bindTexture(z.TEXTURE_2D,null);z.activeTexture(z.TEXTURE1);
z.bindTexture(z.TEXTURE_2D,null);z.activeTexture(z.TEXTURE0);this.fo=this.lm=null;this.Ko&&this.fK&&this.vI(this.S,this.P);this.Md&&this.Md.BT(this.S,this.P);z.bindFramebuffer(z.FRAMEBUFFER,null);this.Md=null;E.Po=null}}vI(w,y){const z=this.Y;if(this.Yp){if(this.FU===w&&this.EU===y)return;z.deleteRenderbuffer(this.Yp)}this.Yp=z.createRenderbuffer();z.bindRenderbuffer(z.RENDERBUFFER,this.Yp);z.renderbufferStorage(z.RENDERBUFFER,2<=this.Sd?z.DEPTH24_STENCIL8:z.DEPTH_STENCIL,w,y);z.bindRenderbuffer(z.RENDERBUFFER,
null);this.FU=w;this.EU=y}O6(w,y){this.Ko&&(this.fK=!1,this.vI(w,y))}z6(){this.Ko&&(this.fK=!0,this.vI(this.S,this.P))}JO(){return this.qq?this.iy:this.X()}tF(){return this.qq?this.hy:this.W()}bU(w,y){const z=this.Zf;if(0!==z[0]||0!==z[1]||z[2]!==w||z[3]!==y)this.Mc().j3(w,y),a.set(z,0,0,w,y),this.vc=0}Vr(w){d.Uj(this.MC,w)||(this.Mc().g3(w),d.Ba(this.MC,w),this.vc=0)}QQ(){let w,y;var z=this.Md;null===z||z.Sw&&this.qq?(w=this.aJ,y=this.JO(),z=this.tF()):(w=z.Dq,y=z.X(),z=z.W());this.Vr(w);this.bU(y,
z)}Rr(w){d.Uj(this.KK,w)||(this.Mc().d3(w),d.Ba(this.KK,w),this.vc=0)}Mc(){const w=this.ow;this.Qn===w.length&&w.push(new e.aa.B8(this.Hc));return w[this.Qn++]}Ki(){0===this.Qn||this.sp()||(this.hfa(),this.L$(),this.vc=this.ZC=this.Re=this.vi=this.Qn=0)}hfa(){const w=this.Y;0<this.ZC&&(w.bindBuffer(w.ARRAY_BUFFER,this.YC),w.bufferSubData(w.ARRAY_BUFFER,0,this.hW.subarray(0,this.ZC)));0<this.vi&&(w.bindBuffer(w.ARRAY_BUFFER,this.FD),w.bufferSubData(w.ARRAY_BUFFER,0,this.gy.subarray(0,this.vi)),w.bindBuffer(w.ARRAY_BUFFER,
this.sD),w.bufferSubData(w.ARRAY_BUFFER,0,this.Lq.subarray(0,this.Re)))}L$(){const w=this.ow;for(let y=0,z=this.Qn;y<z;++y)w[y].ra()}Ud(){return this.cx.Ya}Hf(w,y,z,E){const G=this.cx;G.qy(w,y,z,E)||(G.Xo(w,y,z,E),this.Mc().KF(G),this.vc=0,this.sj=null)}ef(w){const y=this.cx;y.Ya!==w&&(y.Gy(w),this.Mc().KF(y),this.vc=0,this.sj=null)}An(w){const y=this.cx;y.vd(w)||(y.set(w),this.Mc().KF(y),this.vc=0,this.sj=null)}Ir(){this.Hf(1,1,1,1)}Jf(w){w!==this.lm&&(this.Mc().i3(w),this.lm=w,this.vc=0)}nI(){this.lm=
null}Gf(w){w=this.faa(w);this.tI(w[0],w[1])}tI(w,y){if(w!==this.xK||y!==this.vK)this.Mc().a3(w,y),this.xK=w,this.vK=y,this.vc=0,this.sj=null}AG(){this.tI(this.Y.ONE,this.Y.ONE_MINUS_SRC_ALPHA)}OQ(){this.tI(this.Y.ONE,this.Y.ZERO)}Rect(w){this.rQ(w.R,w.O,w.ia,w.ba)}rQ(w,y,z,E){this.G5(w,y,z,y,z,E,w,E)}Qv(){let w=this.vi;w>=this.HV&&(this.Ki(),w=0);1===this.vc?this.ow[this.Qn-1].jq+=6:(this.Mc().Z2(w),this.vc=1)}HI(w){w.Kia(this.gy,this.vi,this.mw+this.zw);this.vi+=12}Bd(w){this.Qv();this.HI(w);k.vh(this.Lq,
this.Re);this.Re+=8}G5(w,y,z,E,G,P,C,H){this.Qv();const I=this.gy;let M=this.vi;const Q=this.mw+this.zw;I[M++]=w;I[M++]=y;I[M++]=Q;I[M++]=z;I[M++]=E;I[M++]=Q;I[M++]=G;I[M++]=P;I[M++]=Q;I[M++]=C;I[M++]=H;I[M++]=Q;this.vi=M;k.vh(this.Lq,this.Re);this.Re+=8}un(w,y){this.Qv();this.HI(w);y.Jia(this.Lq,this.Re);this.Re+=8}oQ(w,y){this.Qv();this.HI(w);y.vh(this.Lq,this.Re);this.Re+=8}gA(w,y,z,E,G,P,C,H,I,M,Q,R,V){this.Qv();const Z=this.gy;let ca=this.vi;const Y=this.mw+this.zw;Z[ca++]=w;Z[ca++]=y;Z[ca++]=
Y+z;Z[ca++]=E;Z[ca++]=G;Z[ca++]=Y+P;Z[ca++]=C;Z[ca++]=H;Z[ca++]=Y+I;Z[ca++]=M;Z[ca++]=Q;Z[ca++]=Y+R;this.vi=ca;V.vh(this.Lq,this.Re);this.Re+=8}r0(w,y){d.Ba(h,this.MC);d.Ba(l,this.KK);this.QQ();if(this.qq){w=this.mu(0,0,100*self.devicePixelRatio,0,0);this.Rr(w);w=this.iy/2;var z=this.hy/2;p.set(-w,z,-w+this.iy,z-this.hy);n.Ci(p);p.set(0,0,this.iy/this.S,this.hy/this.P);this.un(n,p)}else{const [P,C]=this.HO(this.Md);z=this.mu(0,0,100*self.devicePixelRatio,0,0,C);this.Rr(z);if("crop"===w&&this.Md&&
y){w=this.S/2;z=this.P/2;const H=y.X();y=y.W();var E=this.Md.X(),G=this.Md.W();E=Math.min(E,H);const I=Math.min(G,y),M=Math.max(y-G,0);G=Math.max(G-y,0);p.set(-w,z-G,-w+E,z-I-G);n.Ci(p);p.set(0,M,E,I+M);p.Lm(H,y);this.un(n,p)}else w=P/2,z=C/2,this.rQ(-w,z,w,-z)}this.Vr(h);this.Rr(l)}Hn(w){this.vq!==w&&(this.Mc().e3(w),this.vq=w,this.vc=0,this.sj=null)}I6(){this.Hn(this.yo)}Ur(w,y,z,E,G,P,C,H,I,M,Q){const R=this.vq;var V=R.dV;const Z=!!Q.length;if(V&&!R.GY(y,z,E,G,P,C,H,I,M)||Z&&!R.FY(Q)){var ca=this.Mc();
ca.f3();V&&(R.e7(y,z,E,G,P,C,H,I,M),V=ca.Me,V[0]=P,V[1]=C,y.vh(V,2),V[6]=H,V[7]=I,z.vh(V,12),y=ca.Vp,G.vh(y,0),G=y[1],y[1]=y[3],y[3]=G,E.vh(ca.GW,0),ca.lh=M,ca.rf=R.It.ga?w?w.Id():null:null);Z&&(R.G6(Q),e.wd(ca.fD,Q));this.vc=0}}Uy(){this.Mc().Q2();this.vc=0}Zc(w){this.Mc().P2(w);this.vc=0}HE(w){this.gZ(w.R,w.O,w.width(),w.height())}gZ(w,y,z,E){0>z||0>E||(this.Mc().O2(w,y,z,E),this.vc=0)}In(){}wu(){super.wu();this.Y.flush()}cZ(){this.Ko&&this.Md&&this.Md.Ik&&(this.Mc().N2(),this.vc=0)}Dn(w){w=!!w;
this.hK!==w&&this.Ko&&(this.hK=w,this.Mc().b3(w),this.vc=0)}aZ(){for(const w of this.hB)w.bZ(this.bi)}sp(){return!this.Y||this.Y.isContextLost()||this.kK}Ml(){super.H4();e.aa.xA.Ml();e.aa.qH.Ml();e.aa.qG.Ml();for(const w of this.hB)w.Zc();this.iw=this.aL=this.Rd=null;this.LK=0;this.by="(unavailable)";this.Yp=this.yo=this.vq=null;for(const w of this.Nx.values())w.Ml()}async gG(){this.kK=!0;await this.Qz();this.kK=!1;for(const w of this.Nx.values())w.gG(this);this.Fc(this.S,this.P,!0)}Xy(w,y){if(this.sp())throw Error("context lost");
this.Ki();const z=e.D(e.aa.xA,this);z.L9(w,y);return z}Yy(w,y){if(this.sp())return Promise.reject("context lost");y=Object.assign({},y);const z=y.hu&&"clamp-to-edge"!==y.hu||y.iu&&"clamp-to-edge"!==y.iu;if(!e.Qb.ImageBitmapOptions||!this.Ep()&&z)return e.Qb.ImageBitmap?createImageBitmap(w).then(E=>e.ql(()=>this.Xy(E,y))):w instanceof Blob?e.sN(w,!0).then(E=>this.Yy(E,y)):"undefined"!==typeof HTMLImageElement&&w instanceof HTMLImageElement&&"function"===typeof w.decode?w.decode().then(()=>e.ql(()=>
this.Xy(w,y))):e.ql(()=>this.Xy(w,y));y.premultiplyAlpha=!1;return createImageBitmap(w,{premultiplyAlpha:"premultiply"}).then(E=>e.ql(()=>this.Xy(E,y)))}PN(w,y,z){this.Ki();const E=e.D(e.aa.xA,this);E.y9(w,y,z);return E}r8(w,y){this.Ki();y.jU(w,void 0)}Xj(w){w&&(w.Z7(),0<w.Wc||(this.Ki(),w===this.lm&&(this.Y.bindTexture(this.Y.TEXTURE_2D,null),this.lm=null),w===this.fo&&(this.Y.activeTexture(this.Y.TEXTURE1),this.Y.bindTexture(this.Y.TEXTURE_2D,null),this.Y.activeTexture(this.Y.TEXTURE0),this.fo=
null),w.GH()))}HZ(w){let y=this.S,z=this.P,E=!0;w&&("number"===typeof w.width&&(y=w.width,E=!1),"number"===typeof w.height&&(z=w.height,E=!1));if(0>=y||0>=z)throw Error("invalid size");this.Ki();const G=e.D(e.aa.qH,this);G.v9(y,z,Object.assign({uX:E},w));this.Md=null;this.Hc.Po=null;return G}gf(w){w!==this.Md&&(w&&w.Sw&&w.BT(this.S,this.P),this.Mc().h3(w),this.Md=w,this.vc=0,this.QQ())}Mu(){return this.Md}HO(w){return w?[w.X(),w.W()]:[this.S,this.P]}JE(w){2>this.Sd||this.Md&&0<this.Md.om?(this.OQ(),
this.Ir(),this.su(w,"stretch")):(this.Mc().L2(w,this.Md),this.vc=0)}su(w,y="stretch"){w=w.Id();if(!w)throw Error("not a texture-backed render target");this.Jf(w);this.r0(y,w)}rp(w){2>this.Sd||(this.Mc().V2(w.zj),this.vc=0)}VZ(w){this.gf(null);this.Ki();const y=w.Id();y===this.lm&&(this.Y.bindTexture(this.Y.TEXTURE_2D,null),this.lm=null);y===this.fo&&(this.Y.activeTexture(this.Y.TEXTURE1),this.Y.bindTexture(this.Y.TEXTURE_2D,null),this.Y.activeTexture(this.Y.TEXTURE0),this.fo=null);w.GH()}async K5(w){this.Ki();
const y=this.Md;if(w){var z=w.X();var E=w.W();w=w.zj}else z=this.X(),E=this.W(),w=null;const G=this.Y;G.bindFramebuffer(G.FRAMEBUFFER,w);w=new ImageData(z,E);G.readPixels(0,0,z,E,G.RGBA,G.UNSIGNED_BYTE,new Uint8Array(w.data.buffer));(()=>{G.bindFramebuffer(G.FRAMEBUFFER,null);this.Md=null;this.Hc.Po=null;this.gf(y)})();return w}MN(){this.Dn(!0);this.Mc().T2();this.vc=0}LN(){this.Dn(!1);this.Mc().S2();this.vc=0}KN(){this.Dn(!0);this.Mc().R2();this.vc=0}iH(w){this.uk()&&(this.Mc().l3(w),this.vc=0)}TE(w){this.uk()&&
(this.Mc().U2(w),this.vc=0)}dfa(w){const y=new Promise(z=>q.add({resolve:z,Xq:w}));-1===v&&(v=self.requestAnimationFrame(r));return y}z3(){return!!this.wU.desynchronized}I0(){let w=0;for(const y of e.aa.xA.Mga())w+=y.cF();return w}Ep(){return 2<=this.Sd}uk(){return!!this.Rd}W8(w){this.hB.add(w)}Zca(w){this.hB.delete(w)}Maa(w){this.Laa([["normal",w.ONE,w.ONE_MINUS_SRC_ALPHA],["additive",w.ONE,w.ONE],["xor",w.ONE,w.ONE_MINUS_SRC_ALPHA],["copy",w.ONE,w.ZERO],["destination-over",w.ONE_MINUS_DST_ALPHA,
w.ONE],["source-in",w.DST_ALPHA,w.ZERO],["destination-in",w.ZERO,w.SRC_ALPHA],["source-out",w.ONE_MINUS_DST_ALPHA,w.ZERO],["destination-out",w.ZERO,w.ONE_MINUS_SRC_ALPHA],["source-atop",w.DST_ALPHA,w.ONE_MINUS_SRC_ALPHA],["destination-atop",w.ONE_MINUS_DST_ALPHA,w.SRC_ALPHA]])}}}
{"use strict";let e=null;const b=new Set;let a=!1;self.v2=class{constructor(d){e=d;Object.defineProperties(this,{vha:{value:{},writable:!1},storage:{value:new self.x2(e),writable:!1},fua:{value:e.hm,writable:!1}});e.qe.addEventListener("keydown",c=>{b.has(c.key)?c.stopPropagation():b.add(c.key)});e.qe.addEventListener("keyup",c=>b.delete(c.key));e.zb().addEventListener("window-blur",()=>b.clear());e.hm&&(self.alert=c=>{a||(a=!0,console.warn("[Construct 3] alert() was called from a Web Worker, because the project 'Use worker' setting is enabled. This method is not normally available in a Web Worker. Construct has implemented the alert for you, but note that other features may be missing in worker mode. You may wish to disable 'Use worker', or use a more convenient function like console.log(). For more information please refer to the scripting section of the manual."));
return this.alert(c)})}Oaa(d){Object.defineProperties(this.vha,d)}addEventListener(d,c){e.qe.addEventListener(d,c)}removeEventListener(d,c){e.qe.removeEventListener(d,c)}get lX(){return e.Zj()}get Ota(){return e.Ye()}random(){return e.vn()}get Ag(){return e.Nb().Jw}get keyboard(){const d=e.vs.keyboard;if(!d)throw Error("runtime.keyboard used but Keyboard object missing - add it to your project first");return d}get AM(){const d=e.vs.AM;if(!d)throw Error("runtime.mouse used but Mouse object missing - add it to your project first");
return d}get cN(){const d=e.vs.cN;if(!d)throw Error("runtime.touch used but Touch object missing - add it to your project first");return d}alert(d){return e.Er("runtime","alert",{message:d+(e.hm?" [via Web Worker]":"")})}}}"use strict";self.n2=class{constructor(){}};{"use strict";const e=self.yh;self.x2=class{constructor(b){this.Px=b.waa()}getItem(b){e.xe(b);return this.Px.getItem(b)}setItem(b,a){e.xe(b);return this.Px.setItem(b,a)}removeItem(b){e.xe(b);return this.Px.removeItem(b)}clear(){return this.Px.clear()}keys(){return this.Px.keys()}}}
{"use strict";const e=self.yh,b=new WeakMap;self.Uu=class{constructor(a){b.set(this,a);Object.defineProperties(this,{name:{value:a.wa(),writable:!1}});a.I().aT(this,a)}addEventListener(a,d){e.xe(a);e.pk(d);b.get(this).qe.addEventListener(a,d)}removeEventListener(a,d){e.xe(a);e.pk(d);b.get(this).qe.removeEventListener(a,d)}*tX(){for(const a of b.get(this).na())yield a.Ch()}jM(a){e.og(void 0);e.og(void 0);if("number"!==typeof a&&"string"!==typeof a)throw new TypeError("invalid layer parameter");var d=
b.get(this),c=d.I();a=c.Nb().Z(a);if(!a)throw Error("invalid layer");d=c.LE(d,a,void 0,void 0,void 0);c=c.la();c.Ue(!0);d.bB();c.Ue(!1);return d.Ch()}}}
{"use strict";const e=self.yh,b=new WeakMap;self.t2=class{constructor(a){b.set(this,a);const d=[],c=a.Sa,f=c.Gg().length;for(let k=0;k<f;++k)d.push(new self.JF(c,k));Object.defineProperties(this,{name:{value:a.wa(),writable:!1},index:{value:a.Ha(),writable:!1},mX:{value:d,writable:!1}})}addEventListener(a,d){e.xe(a);e.pk(d);b.get(this).qe.addEventListener(a,d)}removeEventListener(a,d){e.xe(a);e.pk(d);b.get(this).qe.removeEventListener(a,d)}get width(){return b.get(this).X()}set width(a){b.get(this).dj(a)}get height(){return b.get(this).W()}set height(a){b.get(this).$i(a)}set scale(a){e.Zi(a);
b.get(this).TG(a)}get scale(){return b.get(this).hd}set angle(a){e.Zi(a);b.get(this).pd(a)}get angle(){return b.get(this).ua()}set scrollX(a){e.og(a);b.get(this).Lh(a)}get scrollX(){return b.get(this).kg()}set scrollY(a){e.og(a);b.get(this).Mh(a)}get scrollY(){return b.get(this).lg()}scrollTo(a,d){e.og(a);e.og(d);const c=b.get(this);c.Lh(a);c.Mh(d)}set FX(a){e.xe(a);const d=b.get(this);if("perspective"===a)d.iR();else if("orthographic"===a)d.fR();else throw Error("invalid projection");}get FX(){return b.get(this).Sf?
"orthographic":"perspective"}}}
{"use strict";const e=self.B,b=self.yh,a=new WeakMap;[...(new Map([["normal",0],["additive",1],["copy",3],["destination-over",4],["source-in",5],["destination-in",6],["source-out",7],["destination-out",8],["source-atop",9],["destination-atop",10]])).entries()].map(c=>[c[1],c[0]]);const d=e.D(e.eb);self.s2=class{constructor(c){a.set(this,c);const f=[],k=c.Sa,h=k.Gg().length;for(let l=0;l<h;++l)f.push(new self.JF(k,l));Object.defineProperties(this,{name:{value:c.wa(),writable:!1},index:{value:c.Ha(),
writable:!1},Ag:{value:c.kc().Jw,writable:!1},mX:{value:f,writable:!1}})}get isVisible(){return a.get(this).ad()}set isVisible(c){a.get(this).Ae(c)}get opacity(){return a.get(this).Ud()}set opacity(c){c=e.ca(+c,0,1);isNaN(c)||a.get(this).ef(c)}set scale(c){b.Zi(c);a.get(this).gR(c)}get scale(){return a.get(this).hd}set angle(c){b.Zi(c);a.get(this).pd(c)}get angle(){return a.get(this).Fe}set Ly(c){b.Zi(c);a.get(this).Kf(c)}get Ly(){return a.get(this).$a()}set backgroundColor(c){b.tG(c);if(3>c.length)throw Error("expected 3 elements");
d.$t(c[0],c[1],c[2]);c=a.get(this);const f=c.Wl;f.Nm(d)||(f.kl(d),c.I().M())}get backgroundColor(){const c=a.get(this).Wl;return[c.Xa,c.Ga,c.Za]}set scrollX(c){b.og(c);const f=a.get(this);f.vv(!0);f.Lh(c)}get scrollX(){return a.get(this).kg()}set scrollY(c){b.og(c);const f=a.get(this);f.vv(!0);f.Mh(c)}get scrollY(){return a.get(this).lg()}scrollTo(c,f){b.og(c);b.og(f);const k=a.get(this);k.vv(!0);k.Lh(c);k.Mh(f)}}}
{"use strict";const e=self.B,b=self.yh,a=new WeakMap,d=new WeakMap;function c(k){let h=d.get(k);if(h)return h;h=e.D(e.Event.zb);d.set(k,h);return h}let f=null;self.qp=class{constructor(){a.set(this,f);const k={ic:{value:f.I().Dj,writable:!1},EM:{value:f.J().Kw,writable:!1},uid:{value:f.hc,writable:!1}};f.naa(k);f.eaa(k);Object.defineProperties(this,k);f.I().aT(this,f)}static ij(k){f=k}static Mn(){return f}$v(){const k=d.get(this);k&&(k.m(),d.delete(this));a.delete(this)}addEventListener(k,h,l){b.xe(k);
b.pk(h);c(this).addEventListener(k,h,l)}removeEventListener(k,h,l){b.xe(k);b.pk(h);c(this).removeEventListener(k,h,l)}dispatchEvent(k){c(this).dispatchEvent(k)}}}
{"use strict";const e=self.B,b=self.yh,a=self.qp,d=new WeakMap;[...(new Map([["normal",0],["additive",1],["copy",3],["destination-over",4],["source-in",5],["destination-in",6],["source-out",7],["destination-out",8],["source-atop",9],["destination-atop",10]])).entries()].map(c=>[c[1],c[0]]);e.D(e.eb);self.Vu=class c extends a{constructor(){super();var f=a.Mn();d.set(this,f);const k=[];var h=f.A();if(f=h.Je){h=h.J().Sa.Gg().length;for(let l=0;l<h;++l)k.push(new self.JF(f,l))}Object.defineProperties(this,
{mX:{value:k,writable:!1}})}get Ag(){return d.get(this).A().kc().Jw}get ge(){return d.get(this).A().Z().Nfa}get x(){return d.get(this).A().da()}set x(f){f=+f;const k=d.get(this).A();isNaN(f)||k.da()===f||(k.Nh(f),k.Ca())}get y(){return d.get(this).A().ea()}set y(f){f=+f;const k=d.get(this).A();isNaN(f)||k.ea()===f||(k.Oh(f),k.Ca())}get Ly(){return d.get(this).A().$a()}set Ly(f){f=+f;const k=d.get(this),h=k.A();isNaN(f)||h.$a()===f||(h.Kf(f),k.I().M())}get width(){return d.get(this).A().X()}set width(f){f=
+f;const k=d.get(this).A();isNaN(f)||k.X()===f||(k.dj(f),k.Ca())}get height(){return d.get(this).A().W()}set height(f){f=+f;const k=d.get(this).A();isNaN(f)||k.W()===f||(k.$i(f),k.Ca())}get angle(){return d.get(this).A().ua()}set angle(f){f=e.kd(+f);const k=d.get(this).A();isNaN(f)||k.ua()===f||(k.pd(f),k.Ca())}qM(){d.get(this).A().Kc().zia()}get isVisible(){return d.get(this).A().ad()}set isVisible(f){f=!!f;const k=d.get(this),h=k.A();h.ad()!==f&&(h.Ae(f),k.I().M())}get opacity(){return d.get(this).A().Ud()}set opacity(f){f=
e.ca(+f,0,1);const k=d.get(this),h=k.A();isNaN(f)||h.Ud()===f||(h.ef(f),k.I().M())}get zIndex(){return d.get(this).A().ik()}dg(f,k){b.og(f);b.og(k);return d.get(this).A().qu(+f,+k)}getParent(){const f=d.get(this).Fa();return f?f.Ch():null}*Ay(){for(const f of d.get(this).Ay())yield f.Ch()}*children(){for(const f of d.get(this).children())yield f.Ch()}*il(){for(const f of d.get(this).il())yield f.Ch()}removeChild(f){b.uG(f,c);const k=d.get(this);f=d.get(f);k.nk(f)}}}
{"use strict";const e=new WeakMap;self.ula=class extends self.Vu{constructor(){super();e.set(this,self.qp.Mn())}focus(){e.get(this).ka.dO()}blur(){e.get(this).ka.uN()}}}
{"use strict";const e=self.B,b=self.yh,a=new WeakMap,d=new WeakMap;function c(k){let h=d.get(k);if(h)return h;h=e.D(e.Event.zb);d.set(k,h);return h}let f=null;self.aP=class{constructor(){a.set(this,f);const k={ic:{value:f.I().Dj,writable:!1},behavior:{value:f.Hg().Z0(),writable:!1}};Object.defineProperties(this,k)}static ij(k){f=k}static Mn(){return f}get instance(){return a.get(this).K.Ch()}$v(){const k=d.get(this);k&&(k.m(),d.delete(this));a.delete(this)}addEventListener(k,h,l){b.xe(k);b.pk(h);
c(this).addEventListener(k,h,l)}removeEventListener(k,h,l){b.xe(k);b.pk(h);c(this).removeEventListener(k,h,l)}dispatchEvent(k){c(this).dispatchEvent(k)}}}{"use strict";const e=new WeakMap;self.p2=class{constructor(b){e.set(this,b);Object.defineProperties(this,{ic:{value:b.I().Dj,writable:!1}})}}}
{"use strict";const e=self.B,b=self.yh,a=new WeakMap;self.JF=class{constructor(d,c){a.set(this,d);Object.defineProperties(this,{index:{value:c,writable:!1}})}get name(){return a.get(this).Gg()[this.index].wa()}getParameter(d){b.Zi(d);d=Math.floor(+d);const c=a.get(this).Kg(this.index);if(0>d||d>=c.length)throw new RangeError("invalid effect parameter index");d=c[d];return d instanceof e.eb?[d.Xa,d.Ga,d.Za]:d}}}
{"use strict";const e=self.B,b=new Set(["local","remote"]),a=new Map([["mp4","video/mp4"],["webm","video/webm"],["m4a","audio/mp4"],["mp3","audio/mpeg"],["js","application/javascript"],["wasm","application/wasm"],["svg","image/svg+xml"],["html","text/html"]]);e.JY=class extends e.ja{constructor(d,c){super();var f=c.exportType;this.j=d;this.KC=new Map;this.ct=new Map;this.ega=new Map;this.jC="cordova"===f;this.uK=!!c.isiOSCordova;this.Tw=!!c.isFileProtocol;this.Aga=c.supportedAudioFormats||{};this.$I=
new Map;this.jW=!1;this.jV=this.TU=this.UV="";this.AB="html5"===f||"scirra-arcade"===f||"instant-games"===f?"remote":"local";this.QI=[];this.ZI=new Map;this.$L=[];this.JC=[];this.eV=!1;this.EC=this.YI=this.Yx=0;this.TJ=!1;this.dga=e.D(e.J5,()=>this.sS(),50);this.jL=new e.gQ(Math.max(e.hardwareConcurrency,8));if(d=c.previewImageBlobs){(f=c.previewProjectFileBlobs)&&Object.assign(d,f);(f=c.projectData)&&(d["data.json"]=f);for(const [k,h]of Object.entries(d))this.KC.set(k.toLowerCase(),h)}if(c=c.previewProjectFileSWUrls)for(const [k,
h]of Object.entries(c))this.ega.set(k,h);new self.n2(this)}m(){this.KC.clear();for(const d of this.ct.values())d.startsWith("blob:")&&URL.revokeObjectURL(d);this.ct.clear();for(const d of this.QI)d.m();e.F(this.QI);this.ZI.clear();e.F(this.JC);this.j=null}I(){return this.j}sea(d){this.UV=d}fea(d){this.TU=d}lea(d){this.jV=d}KA(d){return this.KC.has(d.toLowerCase())}HA(d){return this.KC.get(d.toLowerCase())||null}mF(d){if(!this.KA(d))return d;d=d.toLowerCase();var c=this.ct.get(d);c||(c=this.HA(d),
c=URL.createObjectURL(c),this.ct.set(d,c));return c}xl(d,c){c=c||this.AB;const f=this.HA(d);if(f)return Promise.resolve(f);if(e.XF(d)){const k=d.toLowerCase();return this.jC&&this.Tw?this.ON(k):"local"===c?this.jL.yc(()=>e.xl(k)):e.xl(k)}return e.xl(d)}uu(d){const c=this.HA(d);if(c)return e.QY(c);if(e.XF(d)){const f=d.toLowerCase();return this.jC&&this.Tw?this.NN(f):"local"===this.AB?this.jL.yc(()=>e.uu(f)):e.uu(f)}return e.uu(d)}vu(d){const c=this.HA(d);if(c)return e.tN(c);if(e.XF(d)){const f=d.toLowerCase();
return this.jC&&this.Tw?this.BZ(f):"local"===this.AB?this.jL.yc(()=>e.vu(f)):e.vu(f)}return e.vu(d)}async bO(d){d=await this.vu(d);return JSON.parse(d)}yH(d,c){return this.j.Er("runtime","cordova-fetch-local-file",{filename:d,as:c})}BZ(d){return this.yH(d,"text")}async ON(d){const c=await this.yH(d,"buffer");d?(d=d.split("."),d=2>d.length?"":a.get(d.Se(-1).toLowerCase())||""):d="";return new Blob([c],{type:d})}async AZ(d){d=d.toLowerCase();var c=this.ct.get(d);if(c)return c;c=await this.ON(d);c=URL.createObjectURL(c);
this.ct.set(d,c);return c}NN(d){return this.yH(d,"buffer")}BO(d){return this.KA(d)?this.mF(d):this.UV+d.toLowerCase()}B1(d,c=""){if(e.LF(d)){if(c)throw Error("cannot specify subfolder with remote URL");return Promise.resolve(d)}return this.KA(d)?Promise.resolve(this.mF(d)):this.jC&&this.Tw?this.AZ(c+d):Promise.resolve(c+d.toLowerCase())}bA(d){if(d.xy&&!b.has(d.xy))throw Error("invalid load policy");let c=this.ZI.get(d.url);if(c)return c;c=e.D(e.bP,this,{url:d.url,size:d.size||0,xy:d.xy||this.AB});
this.QI.push(c);this.ZI.set(c.Rj,c);this.eV||(this.Yx+=c.gn(),this.JC.push(c.xP().then(()=>this.QR(c.gn()))));return c}async HR(){try{await Promise.all(this.JC),this.EC=1}catch(d){console.error("Error loading: ",d),this.TJ=!0,this.sS()}}W6(){this.eV=!0}QR(d){this.YI+=d;this.dga.XY()}sS(){const d=e.D(e.Event,"loadingprogress");this.EC=e.ca(this.YI/this.Yx,0,1);d.progress=this.EC;this.j.zb().dispatchEvent(d)}Aea(d){e.wd(this.$L,d);this.$L.length&&this.JC.push(this.Dba())}Dba(){if("undefined"===typeof FontFace)return Promise.resolve();
const d=[];for(const [c,f,k]of this.$L)this.Yx+=k,d.push(this.Cba(c,f).then(()=>this.QR(k)));return Promise.all(d)}async Cba(d,c){try{const f=await this.B1(c,this.TU),k=new FontFace(d,`url('${f}')`);this.j.hm?self.fonts.add(k):document.fonts.add(k);await k.load()}catch(f){console.warn(`[C3 runtime] Failed to load web font '${d}': `,f)}}fP(d){return!!this.Aga[d]}Sda(d,c){this.jW=!!c;for(const [f,k,h]of d)this.$I.set(f,{fileName:f,nha:k.map(l=>({type:l[0],yta:l[1],qX:f+l[1],fileSize:l[2]})),Hha:h})}EO(d){d=
this.$I.get(d.toLowerCase());if(!d)return null;let c=null;for(const f of d.nha)if(c||"audio/webm; codecs=opus"!==f.type||(c=f),this.fP(f.type))return f;return c}Mg(d){return(d=this.EO(d))?{url:this.BO(d.qX),type:d.type}:null}x0(){if(this.jW){const d=[];for(const c of this.$I.values()){if(c.Hha)continue;const f=this.EO(c.fileName);f&&d.push({bia:c.fileName,url:this.BO(f.qX),type:f.type,fileSize:f.fileSize})}return d}return[]}}}
{"use strict";const e=self.B;e.IY=class extends e.ja{constructor(b,a){super();this.xb=b;this.j=b.I();this.Rj=a.url;this.xt=a.size;this.GK=a.xy;this.qw=null;this.nK=!1;this.ko=null}m(){this.qw=this.j=this.xb=this.ko=null}gn(){return this.xt}xP(){return"local"===this.GK||this.qw?(this.nK=!0,Promise.resolve()):this.ko?this.ko:this.ko=this.xb.xl(this.Rj,this.GK).then(b=>{this.nK=!0;this.ko=null;return this.qw=b}).catch(b=>console.error("Error loading resource: ",b))}Vz(){return this.nK}kO(){return this.qw?
Promise.resolve(this.qw):this.ko?this.ko:this.xb.xl(this.Rj,this.GK)}}}
{"use strict";const e=self.B,b=new e.gQ,a=new Set;e.bP=class extends e.IY{constructor(d,c){super(d,c);this.fl=this.Nq=null;this.Wc=0;this.lV=this.nV=-1;a.add(this)}m(){this.Ih();if(0!==this.Wc)throw Error("released image asset which still has texture references");this.Nq=null;a.delete(this);super.m()}static Dr(){for(const d of a)d.Nq=null,d.fl=null,d.Wc=0}xp(d,c){c=c||{};this.Wc++;if(this.fl)return Promise.resolve(this.fl);if(this.Nq)return this.Nq;c.aX=this.j.fa.KW;return this.Nq=this.kO().then(f=>
b.yc(()=>d.Yy(f,c).then(k=>{this.Nq=null;if(0===this.Wc)return d.Xj(k),null;this.fl=k;this.nV=k.X();this.lV=k.W();return this.fl}))).catch(f=>{console.error("Failed to load texture: ",f);throw f;})}Ih(){if(0>=this.Wc)throw Error("texture released too many times");this.Wc--;0===this.Wc&&this.fl&&(this.fl.qb().Xj(this.fl),this.fl=null)}Id(){return this.fl}X(){return this.nV}W(){return this.lV}async e4(){const d=await this.kO();return e.Qb.ImageBitmapOptions?await createImageBitmap(d,{premultiplyAlpha:"none"}):
e.Qb.ImageBitmap?await createImageBitmap(d):await e.sN(d)}}}
{"use strict";const e=self.B;function b(a,d){return a.A().hl-d.A().hl}e.Y5=class extends e.ja{constructor(a,d,c){super();this.T=d;this.N=c;this.H=[];this.Ww=!0;this.Lj=new Set;this.Pw=!1}m(){e.F(this.H);this.Lj.clear()}Nc(){e.F(this.H);this.Ww=!0;this.Lj.clear();this.Pw=!1}E6(){this.Ww=!1}ln(){if(!this.H.length)return!0;if(this.H.length>this.Lj.size)return!1;this.MH();return!0}Xu(a){this.Lj.has(a)?(this.Lj.delete(a),0===this.Lj.size&&(this.Pw=!1)):(this.H.push(a),this.Ww=1===this.H.length)}Jh(a){this.Lj.add(a);
this.Pw=!0;50<=this.Lj.size&&this.MH()}MH(){this.Pw&&(this.H.length===this.Lj.size?this.Nc():(e.rh(this.H,this.Lj),this.Lj.clear(),this.Pw=!1))}K$(){this.Ww||(this.H.sort(b),this.Ww=!0)}RE(a){this.MH();this.K$();this.H.length&&a.push(this.H)}}}
{"use strict";const e=self.B;e.Z5=class extends e.ja{constructor(b,a){super();this.lJ=b;this.kJ=a;this.pj=e.D(e.dv)}m(){this.pj.m();this.pj=null}Xm(b,a,d){let c=this.pj.$(b,a);return c?c:d?(c=e.D(e.Y5,this,b,a),this.pj.Set(b,a,c),c):null}ej(b){return Math.floor(b/this.lJ)}fj(b){return Math.floor(b/this.kJ)}Pl(b,a,d){if(a)for(let c=a.R,f=a.ia;c<=f;++c)for(let k=a.O,h=a.ba;k<=h;++k){if(d&&d.dg(c,k))continue;const l=this.Xm(c,k,!1);l&&(l.Jh(b),l.ln()&&this.pj.rl(c,k))}if(d)for(let c=d.R,f=d.ia;c<=f;++c)for(let k=
d.O,h=d.ba;k<=h;++k)a&&a.dg(c,k)||this.Xm(c,k,!0).Xu(b)}hA(b,a){let d=this.ej(b.R);const c=this.fj(b.O),f=this.ej(b.ia);for(b=this.fj(b.ba);d<=f;++d)for(let k=c;k<=b;++k){const h=this.Xm(d,k,!1);h&&h.RE(a)}}j4(b){let a=b.R;const d=b.O,c=b.ia;for(b=b.ba;a<=c;++a)for(let f=d;f<=b;++f){const k=this.Xm(a,f,!1);k&&k.E6()}}}}
{"use strict";const e=self.B,b=new e.Rect,a=new e.Bd,d=[],c=new e.Rect,f=new e.Rect,k=self.nl,h=k.nE,l=k.Jy,n=k.To;n.create();const p=h.create(),u=l.create(),q=h.create(),v=h.create(),r=h.create(),w=e.D(e.Hv);function y(C,H){return C.A().hl-H.A().hl}function z(C,H){return C.A().$a()-H.A().$a()}const E=[],G=[],P=[];e.aG=class extends e.ja{constructor(C,H,I){super();this.Kj=C;this.j=C.I();this.Ia=I[0];this.Ua=H;this.hb=I[2];this.BC=!!I[3];this.Wl=e.D(e.eb);this.Wl.Rm(I[4].map(M=>M/255));this.eo=!!I[5];
this.le=I[6];this.me=I[7];this.fb=e.D(e.eb,1,1,1,I[8]);this.$C=e.D(e.eb);this.iK=I[9];this.vga=I[17];this.QW=I[18];this.Fga=I[10];this.Nj=I[11];this.Un=I[12];this.Gk=null;this.hd=1;this.jd=I[16];this.oi=this.ni=this.Fe=0;this.em=!1;this.Zf=e.D(e.Rect);this.WW=e.D(e.Rect);this.Lo=e.D(e.Rect);this.Dq=n.create();this.rK=!0;this.YV=n.create();this.oK=!0;this.VW=e.D(e.aa.v8);this.AC=!0;this.IW=[];this.Nk=[];this.yB=[];this.qV=new Map;this.H=[];this.Sp=this.bM=!1;this.Sa=e.D(e.ul,this,I[15]);this.tt=null;
this.wK=[];this.sC=!1;this.aga=e.D(e.Rect,0,0,-1,-1);this.Bfa=e.D(e.Rect,0,0,-1,-1);this.Nfa=new self.s2(this);this.qU();this.Fp()&&(this.tt=e.D(e.Z5,this.j.jh,this.j.ih));for(const M of I[14])C=this.j.Cf(M[1]),this.Kj.OR(C),C.Cs||C.PQ(M),this.Nk.push(M),this.qV.set(M[2],M);e.wd(this.IW,this.Nk)}static Oa(C,H,I){return e.D(e.aG,C,H,I)}m(){this.j=this.Kj=null}b1(C){return this.qV.get(C)}EZ(C){const H=this.Kj.oq;let I=0;const M=this.Nk;for(let R=0,V=M.length;R<V;++R){var Q=M[R];const Z=this.j.Cf(Q[1]);
let ca=!0;if(!Z.FF()||H)Q=this.j.Ji(Q,this,!0),C.push(Q),Z.Rg()&&(ca=!1,this.yB.push(Q.hc));ca&&(M[I]=M[R],++I)}e.Te(M,I);this.j.he();this.Wg()}Yg(C,H){const I=C.A();if(I.Z()!==this)throw Error("instance added to wrong layer");this.H.push(C);0!==I.$a()&&(this.Sp=!0);H&&this.Fp()&&C.A().Ca();this.Wg()}Hba(C){this.H.includes(C)||(this.H.push(C),0!==C.A().$a()&&(this.Sp=!0),this.Wg())}Fca(C){const H=C.A();if(H.Z()!==this)throw Error("instance added to wrong layer");this.H.unshift(C);0!==H.$a()&&(this.Sp=
!0);this.Wg()}Mp(C,H){const I=this.H.indexOf(C);0>I||(H&&this.Fp()&&C.A().yT(),this.H.splice(I,1),this.Wg(),this.eT())}OT(){this.Sp=!0}eT(){0===this.H.length&&(this.Sp=!1)}AI(C){if(C){C=new Set;for(var H of this.H){var I=H.A().hl;0<=I&&C.add(I)}H=-1;for(const M of this.H)if(I=M.A(),!(0<=I.hl)){for(++H;C.has(H);)++H;I.$A(H)}}this.H.sort(y)}J$(){for(const C of this.H)C.J().Rg()||this.j.sl(C);this.j.he();e.F(this.H);this.Sp=!1;this.Wg()}jv(C,H,I,M,Q){const R=this.j.la(),V=this.j.bd,Z=C.Wa,ca=[];for(const ka of this.Nk){var Y=
ka[0];if(H.dg(Y[0],Y[1])){Y=V[ka[1]];if(Y!==C)if(Z){if(!C.aO(Y))continue}else continue;Y=this;var ha=this.j.Ma();this.kc()!==ha&&((Y=ha.zO(this.wa()))||(Y=ha.Iu(this.Ha())));ha=this.j.Ji(ka,Y,!1,void 0,void 0,!1,Q);Y.eH(ha);Y=ha.A();Y.rn(I,M);Y.Ca();R.Ue(!0);ha.bB();R.Ue(!1);ca.push(ha)}}return ca}kc(){return this.Kj}wa(){return this.Ia}Ha(){return this.Ua}I(){return this.j}zl(){return this.j.zl()}Fp(){return this.Fga&&!this.QW}m7(){this.sC=!1}ad(){return this.BC}Ae(C){C=!!C;this.BC!==C&&(this.BC=
C,this.j.M())}vv(C){C=!!C;if(this.em!==C){if(this.em=C)C=this.kc(),this.ni=C.kg(),this.oi=C.lg();this.Ak();this.j.M()}}Lh(C){var H=this.kc();const I=H.LO();H=H.MO();C>H&&(C=H);C<I&&(C=I);this.ni!==C&&(this.ni=C,this.em&&(this.Ak(),this.j.M()))}Mh(C){var H=this.kc();const I=H.NO();H=H.KO();C>H&&(C=H);C<I&&(C=I);this.oi!==C&&(this.oi=C,this.em&&(this.Ak(),this.j.M()))}kg(){return this.em?this.ni:this.kc().kg()}lg(){return this.em?this.oi:this.kc().lg()}VH(){const C=this.kc();return[C.zF(),C.AF()]}WO(C,
H){var I=this.WW;if(0===C)H.Ba(I);else{let V=I.Vt(),Z=I.Wt();var M=this.fO(C);const ca=I.width()/M;I=I.height()/M;const [Y,ha]=this.VH();if(.5!==Y||.5!==ha){const ka=this.mz();var Q=this.j,R=100/ka;M=(Y-.5)*Q.ag/R;Q=(ha-.5)*Q.$f/R;R=this.ua();0!==R&&(w.set(M,Q),w.rotate(R),M=w.T,Q=w.N);C=e.mE(ka,0,C);V+=e.te(M,0,C);Z+=e.te(Q,0,C)}H.set(V-ca/2,Z-I/2,V+ca/2,Z+I/2)}}Ud(){return this.fb.Ya}ef(C){C=e.ca(C,0,1);this.fb.Ya!==C&&(this.fb.Gy(C),this.qU(),this.j.M())}qU(){this.$C.Ba(this.fb);this.$C.MM()}qF(){return this.$C}hn(){return this.fb.qy(1,
1,1,1)}n7(C){this.Nj!==C&&(this.Nj=C,this.Ak(),this.j.M())}g7(C,H){if(this.le!==C||this.me!==H)if(this.le=C,this.me=H,this.Ak(),this.j.M(),1!==this.le||1!==this.me)for(const I of this.H)I.J().sI(!0)}Kf(C){this.jd!==C&&(this.jd=C,this.j.M())}$a(){return this.jd}pd(C){C=e.kd(C);this.Fe!==C&&(this.Fe=C,this.Ak(),this.j.M())}ua(){return e.kd(this.Kj.ua()+this.Fe)}f2(){return 0<this.H.length}QH(){return this.rG()&&this.QW?(e.wd(P,this.H),P.sort((C,H)=>this.Hea(C,H)),P):this.H}Hea(C,H){var I=this.kc().AU,
M=I[0],Q=I[1];I=I[2];var R=C.A();const V=H.A();H=R.da()-M;C=R.ea()-Q;R=R.$a()-I;M=V.da()-M;Q=V.ea()-Q;I=V.$a()-I;return M*M+Q*Q+I*I-(H*H+C*C+R*R)}B7(C){C=!!C;this.eo!==C&&(this.eo=C,this.j.M())}R6(C){C=!!C;this.iK!==C&&(this.iK=C,this.j.M())}uQ(){return!this.I().Hm||!this.vga}rG(){return!this.uQ()}qr(){return this.rG()&&this.kc().Tfa}Gf(C){this.Un!==C&&(this.Un=C,this.j.M())}Li(){return this.Un}Q3(C){return this===C||this.le===C.le&&this.me===C.me&&this.hd===C.hd&&this.Nj===C.Nj&&this.Fe===C.Fe&&
this.kg()===C.kg()&&this.lg()===C.lg()}Sca(C){0!==C.size&&0<e.rh(this.H,C)&&(this.eT(),this.Wg())}Wg(){this.sC=this.bM=!1}gw(){if(!this.bM){this.H.sort(z);if(this.Fp())for(let C=0,H=this.H.length;C<H;++C){const I=this.H[C].A();I.$A(C);this.tt.j4(I.Ax)}else for(let C=0,H=this.H.length;C<H;++C)this.H[C].A().$A(C);this.bM=!0}}o4(C,H,I){var M=C.A();H=H.A();if(M.Z()!==this||H.Z()!==this)throw Error("can't arrange Z order unless both objects on this layer");M=M.ik();H=H.ik();if(M===H+(I?1:-1))return!1;
e.Tga(this.H,M);M<H&&H--;I&&H++;H===this.H.length?this.H.push(C):this.H.splice(H,0,C);this.Wg();return!0}Pba(C,H){const I=[];let M=0,Q=0,R=C.length,V=H.length;for(;M<R&&Q<V;){const Z=C[M],ca=H[Q];Z.A().hl<ca.A().hl?(I.push(Z),++M):(I.push(ca),++Q)}for(;M<R;++M)I.push(C[M]);for(;Q<V;++Q)I.push(H[Q]);return I}Oba(C){const H=[],I=C.length;for(let M=0;M<I-1;M+=2)H.push(this.Pba(C[M],C[M+1]));1===I%2&&H.push(C[I-1]);return H}Nba(C){for(;1<C.length;)C=this.Oba(C);return C[0]}zaa(){this.gw();e.F(d);this.tt.hA(this.Zf,
d);return d.length?1===d.length?d[0]:this.Nba(d):[]}bba(){return!this.$r()&&!this.eo}rR(){return this.ad()&&0<this.Ud()&&(this.f2()||!this.eo)}$r(){return this.iK||!this.hn()||0!==this.Li()||this.Sa.Tu()}Mu(){return this.Gk}m9(C){if(0===C.length)return!0;if(2<=C.length)return!1;C=C[0].jb;return!C.qn()&&!C.ey&&!C.pJ&&this.hn()}fO(C){if(this.Kj.Sf)return 1;{const H=this.mz();return H/(H-C)}}mz(){return 100/this.$j()}Ak(){this.AC=this.oK=!0}IA(C){this.oK&&(this.k9(C,this.YV),this.oK=!1);return this.YV}k9(C,
H){const I=this.j;var M=this.kc();const Q=I.Fl();var R=I.ZK,V=I.$K,Z=(this.kg()-R)*this.le+R,ca=(this.lg()-V)*this.me+V;this.j.Gj&&(Z=Math.round(Z),ca=Math.round(ca));if(this.qr())h.Ba(q,M.AU),h.Ba(v,M.xfa),h.Ba(r,M.yfa),M=v[0]-q[0],ca=v[1]-q[1],Z=v[2]-q[2],q[0]=(q[0]-R)*this.le+R,q[1]=(q[1]-V)*this.me+V,q[2]*=Math.max(this.le,this.me),v[0]=q[0]+M,v[1]=q[1]+ca,v[2]=q[2]+Z,h.set(p,Q,Q,1),h.multiply(q,q,p),h.multiply(v,v,p);else{R=(Z+0)*Q;V=(ca+0)*Q;M=M.Sf?100:this.mz();ca=this.ua();const [ha,ka]=this.VH();
if(.5!==ha||.5!==ka){var Y=100/M;Z=(ha-.5)*I.ag*Q/Y;Y=(ka-.5)*I.$f*Q/Y;0!==ca&&(w.set(Z,Y),w.rotate(ca),Z=w.T,Y=w.N);R+=Z;V+=Y}h.set(q,R,V,M);h.set(v,R,V,M-100);0===ca?h.set(r,0,1,0):h.set(r,Math.sin(ca),Math.cos(ca),0)}C.zN(H,q,v,r,I.fa.ig());1!==Q&&(h.set(p,Q,Q,1),n.scale(H,H,p))}tea(){this.AC=this.rK=!0}JA(C){this.rK&&(this.l9(C),this.rK=!1);return this.Dq}l9(C){const H=this.j.fa,[I,M]=this.VH();this.Kj.Sf?C.UY(this.Dq,H.Jg(),H.ig()):.5===I&&.5===M?n.Ba(this.Dq,H.BB):C.nu(this.Dq,H.Jg()/H.ig(),
I,M)}ZA(C){C.Vr(this.JA(C));let H;H=this.IA(C);C.Rr(H)}x5(C){this.ZA(C);C.pv(this.$a())}We(C,H,I){var M=this.j.fa;const Q=this.$r();var R=null;let V=null;if(this.j.RF()&&C.bv()){const Z=M.AO(this);Z&&(V=Z.xE(),C.iH(V))}Q?(R={uh:this.j.gd},"low"===M.Bj&&(R.width=M.Jg(),R.height=M.ig()),R=this.j.zu(R),C.gf(R),this.eo?C.Uy():C.Zc(this.Wl)):(C.gf(H),this.eo||I||C.Zc(this.Wl));this.Gk=R||H;this.ZA(C);C.pv(this.$a());C.Dn(this.rG());this.$j()>Number.EPSILON&&(this.gw(),M=this.Fp()&&0===this.$a()&&!this.Sp,
this.qr()?this.z$(C):M?this.A$(C):this.kS(C,this.QH()));C.pv(0);C.Cn(0);Q&&(C.Dn(!1),this.B$(C,R,H,I));V&&C.TE(V);this.Gk=null}kS(C,H){const I=this.Zf,M=this.Gk,Q=this.kc().Sf,R=this.kc().ZO();let V=null;for(let Z=0,ca=H.length;Z<ca;++Z){const Y=H[Z];if(Y===V)continue;V=Y;const ha=Y.A();ha.ad()&&ha.oP(I,R,Q)&&this.Sl(Y,ha,C,M)}}z$(C){const H=this.Gk,I=this.Sv(),M=this.QH();for(let Z=0,ca=M.length;Z<ca;){var Q=M[Z],R=Q.A();if(!R.ad()||!R.ur(I)){++Z;continue}(!Q.Gr()||0<R.yl())&&G.push(Q);var V=Q.A().$e();
E.push(Q);let Y=Z+1;for(;Y<ca;++Y){const ha=M[Y],ka=ha.A();if(ka.ad()&&ka.ur(I)){if(ka.$e()!==V)break;ha.Gr()?(0<ka.yl()&&G.push(ha),E.push(ha)):G.push(ha)}}if(1!==E.length||E[0].FP()){this.v$(C,E);for(let ha=0,ka=G.length;ha<ka;++ha)Q=G[ha],R=Q.A(),R.XA(!0),this.Sl(Q,R,C,H),R.XA(!1)}else{this.Sl(Q,R,C,H);for(let ha=0,ka=G.length;ha<ka;++ha)R=G[ha],R!==Q&&(V=R.A(),V.Z().Sl(R,V,C,H))}Z=Y;e.F(E);e.F(G)}}v$(C,H){const I=this.Gk;C.MN();for(let R=0,V=H.length;R<V;++R){var M=H[R],Q=M.A();Q.VA(!0);this.JH(M,
Q,C)}C.LN();for(let R=0,V=H.length;R<V;++R)M=H[R],Q=M.A(),this.Sl(M,Q,C,I),Q.VA(!1);C.KN()}A$(C){var H=this.tt;const I=this.Bfa,M=this.aga,Q=this.Zf;I.set(H.ej(Q.R),H.fj(Q.O),H.ej(Q.ia),H.fj(Q.ba));this.sC&&I.vd(M)?H=this.wK:(H=this.zaa(),this.sC=!0,M.Ba(I));this.kS(C,H);H!==this.wK&&e.wd(this.wK,H)}Sl(C,H,I,M){H.Tu()?this.x$(C,H,I,M):this.JH(C,H,I)}JH(C,H,I){H=H.Kq;I.sj!==H&&H.EY();C.We(I)}x$(C,H,I,M){this.w$(C,H,I,M)&&this.ZA(I)}w$(C,H,I,M){const Q=H.Je.kj;if(1===Q.length){const R=Q[0],V=R.jb;if(!V.jga&&
H.hn()&&!C.qn())return this.y$(C,H,R,V,I),!1}C=e.pG(I,this.j,C,M,Q,null);I.pv(this.$a());return C}y$(C,H,I,M,Q){Q.Hn(M);Q.Gf(H.Li());M.iB&&this.j.M();let R=0,V=0;if(M.Gga){const [Z,ca]=C.pz();R=1/Z;V=1/ca;(M=C.qz())?f.Ba(M):f.set(0,0,0,0)}I=H.Je.Kg(I.Ha());Q.Cn(H.$a());Q.Ur(null,c,f,f,H.Kc(),R,V,this.hd,this.ua(),this.j.Ye(),I);C.We(Q)}B$(C,H,I,M){const Q=this.Sa.kj,R=this.j;if(this.m9(Q)){C.gf(I);if(1===Q.length){var V=Q[0];I=V.jb;C.Hn(I);f.set(0,0,1,1);V=this.Sa.Kg(V.Ha());C.Ur(null,c,f,f,this.Zf,
1/R.Jg(),1/R.ig(),this.$j(),this.ua(),R.Ye(),V);I.iB&&R.M()}else C.cj();M&&0===this.Un&&this.hn()&&0===Q.length?C.JE(H):(C.Gf(this.Un),C.An(this.$C),C.su(H));C.rp(H);R.wn(H)}else e.pG(C,R,this,I,Q)}gR(C){this.hd!==C&&(this.hd=C,this.Kj.Oy(),this.Ak(),this.j.M())}Fl(){return this.$j()*this.j.Fl()}Al(){return this.$j()*this.j.Al()}$j(){return(this.hd*this.Kj.hd-1)*this.Nj+1}oH(){var C=this.j.ZK,H=this.j.$K,I=(this.kg()-C)*this.le+C,M=(this.lg()-H)*this.me+H;C=this.$j();H=this.j.ag/C;C=this.j.$f/C;I-=
H/2;let Q=M-C/2;this.j.Gj&&(I=Math.round(I),Q=Math.round(Q));M=this.WW;M.set(I,Q,I+H,Q+C);H=this.ua();0!==H&&(b.Ba(M),b.offset(-M.Vt(),-M.Wt()),a.XM(b,H),a.qM(b),b.offset(M.Vt(),M.Wt()),M.Ba(b));H=this.jd;this.WO(H,this.Zf);this.qr()?this.WY(H,this.Lo):this.Lo.Ba(this.Zf)}WY(C,H){var I=this.j.fa,M=I.cd;I=I.Sc;const [Q,R]=this.Dg(0,0,C),[V,Z]=this.Dg(M,0,C),[ca,Y]=this.Dg(M,I,C),[ha,ka]=this.Dg(0,I,C);C=Math.min(Q,V,ca,ha);M=Math.min(R,Z,Y,ka);I=Math.max(Q,V,ca,ha);let za=Math.max(R,Z,Y,ka);isFinite(C)||
(C=-Infinity);isFinite(M)||(M=-Infinity);isFinite(I)||(I=Infinity);isFinite(za)||(za=Infinity);H.set(C,M,I,za)}Dg(C,H,I=0){return this.q9(C,H,I,this.Al())}q9(C,H,I,M){const Q=this.j;var R=Q.qb();const V=this.$j();l.set(u,0,0,Q.ag/V,Q.$f/V);C/=M;H=u[3]-H/M;M=this.JA(R);R=this.IA(R);return e.aa.l8(C,H,I,R,M,u,p)?[p[0],p[1]]:[NaN,NaN]}CN(C,H){const I=this.hd,M=this.Nj,Q=this.le,R=this.me,V=this.Fe;this.me=this.le=this.Nj=this.hd=1;this.Fe=0;this.Ak();C=this.Dg(C,H);this.hd=I;this.Nj=M;this.le=Q;this.me=
R;this.Fe=V;this.Ak();return C}wp(C,H){return this.YS(C,H,0,this.Al())}mk(C,H,I=0){return this.YS(C,H,I,this.Fl()*this.zl())}YS(C,H,I,M){var Q=this.j,R=Q.qb();const V=this.$j();l.set(u,0,0,Q.ag/V,Q.$f/V);Q=this.JA(R);R=this.IA(R);return e.aa.z5(C,H,I,R,Q,u,p)?[p[0]*M,(u[3]-p[1])*M]:[NaN,NaN]}Sv(){this.AC&&(this.cfa(),this.AC=!1);return this.VW}cfa(){var C=this.j.qb();const H=this.JA(C);C=this.IA(C);this.VW.VY(C,H)}ma(){return{s:this.hd,a:this.Fe,vl:this.Zf.R,vt:this.Zf.O,vr:this.Zf.ia,vb:this.Zf.ba,
v:this.ad(),bc:this.Wl.toJSON(),t:this.eo,sx:this.ni,sy:this.oi,hosp:this.em,px:this.le,py:this.me,c:this.fb.toJSON(),sr:this.Nj,fx:this.Sa.Dc(),cg:this.yB}}pa(C){this.hd=C.s;this.Fe=C.a;this.Zf.set(C.vl,C.vt,C.vr,C.vb);this.BC=!!C.v;this.Wl.Rm(C.bc);this.eo=!!C.t;C.hasOwnProperty("sx")&&(this.ni=C.sx);C.hasOwnProperty("sy")&&(this.oi=C.sy);C.hasOwnProperty("hosp")&&(this.em=!!C.hosp);this.le=C.px;this.me=C.py;this.fb.Rm(C.c);this.Nj=C.sr;e.wd(this.yB,C.cg);e.wd(this.Nk,this.IW);const H=new Set(this.yB);
let I=0;for(let M=0,Q=this.Nk.length;M<Q;++M)H.has(this.Nk[M][2])||(this.Nk[I]=this.Nk[M],++I);e.Te(this.Nk,I);this.Sa.lc(C.fx);this.AI(!1);this.Wg()}eH(C){C.A();if(!this.H.includes(C))if(C.Df()){var H=[...C.il()];H.push(C);H.sort((M,Q)=>{M=M.A().Iq;Q=Q.A().Iq;return M-Q});for(var I of H)if(I.Zb())for(const M of I.Od)H.includes(M)||(C=[...M.il()],C.push(M),C.sort((Q,R)=>{Q=Q.A().Iq;R=R.A().Iq;return Q-R}),C&&C.length&&H.splice(H.length,0,...C));for(const M of H)this.Yg(M,!0)}else if(this.Yg(C,!0),
C.Zb())for(H of C.Od)if(I=[...H.il()],I.push(H),I.sort((M,Q)=>{M=M.A().Iq;Q=Q.A().Iq;return M-Q}),I&&I.length)for(const M of I)this.Yg(M,!0)}}}
{"use strict";const e=self.B,b=self.xh,a=e.D(e.Rect),d=e.D(e.Rect),c=e.D(e.Rect),f=e.D(e.eb),k=self.nl.nE,h=[],l=[],n=[],p=[],u=[];let q=null;function v(r,w){q!==r&&(r.x5(w),q=r)}e.uP=class extends e.ja{constructor(r,w,y){super();this.cb=r;this.j=r.I();this.Ia=y[0];this.rga=y[1];this.qga=y[2];this.S=y[1];this.P=y[2];this.zC=!!y[3];this.Sf=!!y[4];this.DD=y[5];this.ED=y[6];this.MU=y[7];this.dd=null;this.hb=y[8];this.Ua=w;this.oi=this.ni=0;this.hd=1;this.Fe=0;this.Rs=new Set;this.mh=new Set;this.Tx=
new Set;this.ys=[];this.ZJ=[];this.Tfa=!1;this.AU=k.create();this.xfa=k.create();this.yfa=k.create();this.ec=[];this.KV=new Map;this.LV=new Map;this.Sa=e.D(e.ul,this,y[11]);this.Gk=null;this.Bq={};this.oq=!0;this.Jw=new self.t2(this);this.qe=e.D(e.Event.zb);for(const z of y[9])r=e.aG.Oa(this,this.ec.length,z),this.ec.push(r),this.KV.set(r.wa().toLowerCase(),r),this.LV.set(r.hb,r);for(const z of y[10]){y=this.j.Cf(z[1]);if(!y)throw Error("missing nonworld object class");y.Cs||y.PQ(z);this.ZJ.push(z);
this.OR(y)}}m(){for(const r of this.ec)r.m();e.F(this.ec);this.Tx.clear();this.j=this.cb=this.dd=null}I(){return this.j}wa(){return this.Ia}Ha(){return this.Ua}CO(){let r=this.ec[0].$j();for(let w=1,y=this.ec.length;w<y;++w){const z=this.ec[w];if(0!==z.le||0!==z.me)r=Math.min(r,z.$j())}return r}GS(){return.5*this.j.ag/this.CO()}HS(){return.5*this.j.$f/this.CO()}LO(){return this.zC?-Infinity:this.GS()}MO(){return this.zC?Infinity:this.X()-this.GS()}NO(){return this.zC?-Infinity:this.HS()}KO(){return this.zC?
Infinity:this.W()-this.HS()}Lh(r){const w=this.LO(),y=this.MO();r>y&&(r=y);r<w&&(r=w);this.ni!==r&&(this.ni=r,this.zk(),this.j.M())}kg(){return this.ni}Mh(r){const w=this.NO(),y=this.KO();r>y&&(r=y);r<w&&(r=w);this.oi!==r&&(this.oi=r,this.zk(),this.j.M())}lg(){return this.oi}Oy(){this.Lh(this.kg());this.Mh(this.lg());for(const r of this.ec)r.em&&(r.Lh(r.kg()),r.Mh(r.lg()))}E7(r,w){if(this.DD!==r||this.ED!==w)this.DD=r,this.ED=w,this.H3()&&(this.ls(),this.zk(),this.j.M())}zF(){return this.Sf?.5:this.DD}AF(){return this.Sf?
.5:this.ED}ZO(){const r=this.zF(),w=this.AF();return 0>r||1<r||0>w||1<w}iR(){this.Sf&&(this.Sf=!1,this.ls(),this.zk(),this.j.M())}fR(){this.Sf||(this.Sf=!0,this.ls(),this.zk(),this.j.M())}H3(){return!this.Sf}TG(r){this.hd!==r&&(this.hd=r,this.zk(),this.Oy(),this.j.M())}pd(r){r=e.kd(r);this.Fe!==r&&(this.Fe=r,this.zk(),this.j.M())}ua(){return this.Fe}X(){return this.S}dj(r){!isFinite(r)||1>r||(this.S=r)}W(){return this.P}$i(r){!isFinite(r)||1>r||(this.P=r)}Z(r){return"number"===typeof r?this.Iu(r):
this.zO(r.toString())}Iu(r){r=e.ca(Math.floor(r),0,this.ec.length-1);return this.ec[r]}zO(r){return this.KV.get(r.toLowerCase())||null}zz(r){return this.LV.get(r)||null}ls(){for(const r of this.ec)r.tea()}zk(){for(const r of this.ec)r.Ak()}m1(){for(const r of this.ec)if(r.rR()&&r.bba())return f.kl(r.Wl),f.Gy(1),f;f.Xo(0,0,0,0);return f}BS(){return[...this.Rs]}OR(r){if(r.Zb())for(const w of r.dh.qm)this.Rs.add(w);else this.Rs.add(r)}Daa(){return[...this.mh]}YH(r,w){if(r===this||!w)return Promise.resolve();
r&&(e.zZ(this.mh,r.mh),r.mh.clear());r=[];for(const y of this.Rs)this.mh.has(y)||(r.push(y.yp(w)),this.mh.add(y));return Promise.all(r)}async CP(r){if(r.Wa)throw Error("cannot load textures for family");var w=this.j.qb();!w||w.sp()||this.mh.has(r)||(this.mh.add(r),w=r.yp(w),this.V8(w),await w,r.cA(),this.j.M())}V8(r){this.Tx.add(r);r.then(()=>this.Tx.delete(r)).catch(()=>this.Tx.delete(r))}y8(){return Promise.all([...this.Tx])}m4(r){if(r.Wa||0<r.H.length)throw Error("cannot unload textures");this.j.qb()&&
this.mh.has(r)&&(this.mh.delete(r),r.xn())}Sea(r,w){if(r!==this&&w)for(const y of this.mh)y.Rg()||r.Rs.has(y)||(y.xn(),this.mh.delete(y))}Zv(){this.mh.clear()}async fU(r){const w=this.j,y=this.cb,z=w.la();this.MU&&(this.dd=z.sO(this.MU),this.dd.FI());y.XT(this);this.S=this.rga;this.P=this.qga;this.ni=w.jh/2;this.oi=w.ih/2;this.Oy();this.Rba(r);this.F9();this.oq||this.H9();this.$R(this.ys);this.G9();y.fZ();w.he();const E=this.j.ifa;await Promise.all(E);e.F(E);if(!w.Qk){for(const G of this.ys)G.I7();
for(const G of this.ys)G.hU()}e.F(this.ys);await Promise.all([...this.Rs].map(G=>G.lG(this.j.qb())));r&&(w.zb().dispatchEvent(new e.Event("beforefirstlayoutstart")),await w.bp(new e.Event("beforeprojectstart")));await this.bp(new e.Event("beforelayoutstart"));w.Qk||await w.Be(e.C.Ta.G.UP,null,null);await this.bp(new e.Event("afterlayoutstart"));r&&(w.zb().dispatchEvent(new e.Event("afterfirstlayoutstart")),await w.bp(new e.Event("afterprojectstart")));z.oda(y);await this.y8();this.ls();this.zk();
this.oq=!1}Rba(r){for(const y of this.j.bd)if(!y.Wa&&y.Tf)for(const z of y.na()){const E=z.A();var w=E.Z();w=e.ca(w.Ha(),0,this.ec.length-1);w=this.ec[w];E.cw(w);w.Hba(z)}if(!r)for(const y of this.ec)y.AI(!1)}F9(){for(const r of this.ec)r.EZ(this.ys),r.oH()}H9(){let r=!1;for(const [y,z]of Object.entries(this.Bq)){const E=this.j.Az(parseInt(y,10));if(E&&!E.Wa&&E.FF()){for(const G of z){var w=null;if(E.Tf&&(w=this.zz(G.w.l),!w))continue;w=this.j.Ji(E,w,!1,0,0,!0);w.lc(G);r=!0;this.ys.push(w)}e.F(z)}}for(const y of this.ec)y.AI(!0),
y.Wg();r&&(this.j.he(),this.j.sT())}$R(r){for(const y of r){if(!y.Zb())continue;const z=y.A(),E=y.ip();for(const G of y.J().dh.qm)if(G!==y.J()){var w=G.na();w.length>E?y.cs(w[E]):(w=z?this.j.Ji(G,z.Z(),!0,z.da(),z.ea(),!0):this.j.Ji(G,null,!0,0,0,!0),this.j.he(),G.cB(),y.cs(w),r.push(w))}}}G9(){for(const r of this.ZJ)this.j.Cf(r[1]).Zb()||this.j.Ji(r,null,!0)}D9(){const r=[],w=this.ZJ;let y=0;for(let z=0,E=w.length;z<E;++z){const G=w[z],P=this.j.Cf(G[1]);P.Rg()?P.Zb()&&P.dh.b2()||r.push(this.j.Ji(G,
null,!0)):(w[y]=G,++y)}e.Te(w,y);this.j.he();this.$R(r)}jv(r,w,y,z,E,G){if(y)return y.jv(r,w,z,E,G);y=[];for(const P of this.ec)y.push(P.jv(r,w,z,E,G));return y.flat()}async Kea(){const r=this.cb;this.j.Qk||await this.j.Be(e.C.Ta.G.T4,null,null);r.$Q(!0);this.j.la().Ry();this.oq||this.Bda();for(const w of this.ec)w.J$();for(const w of this.j.bd)if(!(w.Rg()||w.Tf||w.Gb().bo||w.Wa)){for(const y of w.na())this.j.sl(y);this.j.he()}r.$Q(!1);r.Nb()===this&&r.XT(null)}zda(r){const w=r.J().hb.toString();
this.Bq.hasOwnProperty(w)||(this.Bq[w]=[]);this.Bq[w].push(r.Dc())}Bda(){for(const r of this.ec){r.gw();for(const w of r.H){const y=w.J();!y.Rg()&&y.FF()&&this.zda(w)}}}i6(){this.Bq={};this.oq=!0}Mu(){return this.Gk}$r(){return"low"===this.j.fa.Bj||this.j.WL||"low-latency"===this.j.xs||this.Sa.Tu()||this.j.qb().bv()&&this.j.Hm}n9(r){return 0===r.length?!0:2<=r.length?!1:!r[0].jb.qn()}We(r){var w=this.j.fa;const y=this.$r();var z=null;y?("low-latency"!==this.j.xs&&(r.gf(null),r.Uy()),z={uh:this.j.gd,
wM:this.j.WL||this.Sa.Tu()},"low"===w.Bj&&(z.width=w.Jg(),z.height=w.ig()),z=this.j.zu(z),r.gf(z)):r.gf(null);r.Zc(this.m1());this.j.Hm&&r.cZ();this.Gk=z;for(var E of this.ec)E.oH(),E.rR()&&h.push(E);for(let G=0,P=h.length;G<P;){w=h[G];if(w.qr()&&!w.$r()){l.push(w);for(E=G+1;E<P;++E){const C=h[E];if(C.qr()&&!C.$r())l.push(h[E]);else break}if(2<=l.length){this.t$(r,z,l);G+=l.length;e.F(l);continue}e.F(l)}w.We(r,z,0===G);++G}e.F(h);y&&(r.Dn(!1),this.C$(r,z));this.Gk=null}C$(r,w){const y=this.Sa.kj,
z=this.j;if(this.n9(y)){r.gf(null);if(1===y.length){var E=y[0];const G=E.jb;r.Hn(G);d.set(0,0,1,1);c.set(0,0,z.ag,z.$f);E=this.Sa.Kg(E.Ha());r.Ur(null,a,d,d,c,1/z.Jg(),1/z.ig(),this.hd,this.ua(),z.Ye(),E);G.iB&&z.M()}else r.cj();0===y.length?r.JE(w):(r.AG(),r.Ir(),r.su(w));r.rp(w);z.wn(w)}else e.pG(r,z,this,null,y)}t$(r,w,y){var z=this.j.fa;r.Dn(!0);for(var E of y)E.gw(),e.Km(n,E.QH());E=y[0];y=null;this.j.RF()&&r.bv()&&(z=z.AO(E))&&(y=z.xE(),r.iH(y));for(let H=0,I=n.length;H<I;){E=n[H];var G=E.A(),
P=G.Z();if(G.ad()&&G.ur(P.Sv())){(!E.Gr()||0<G.yl())&&u.push(E);var C=E.A().$e();p.push(E);for(z=H+1;z<I;++z){const M=n[z],Q=M.A();if(Q.ad()&&Q.ur(Q.Z().Sv())){if(Q.$e()!==C)break;M.Gr()?(0<Q.yl()&&u.push(M),p.push(M)):u.push(M)}}if(1!==p.length||p[0].FP()){this.u$(r,w,p);for(let M=0,Q=u.length;M<Q;++M)E=u[M],G=E.A(),P=G.Z(),G.XA(!0),v(P,r),P.Sl(E,G,r,w),G.XA(!1)}else{v(P,r);P.Sl(E,G,r,w);for(let M=0,Q=u.length;M<Q;++M)G=u[M],G!==E&&(P=G.A(),C=P.Z(),v(C,r),C.Sl(G,P,r,w))}H=z;e.F(p);e.F(u)}else++H}y&&
r.TE(y);e.F(n);q=null}u$(r,w,y){r.MN();for(let P=0,C=y.length;P<C;++P){var z=y[P],E=z.A(),G=E.Z();E.VA(!0);v(G,r);G.JH(z,E,r)}r.LN();for(let P=0,C=y.length;P<C;++P)z=y[P],E=z.A(),G=E.Z(),v(G,r),G.Sl(z,E,r,w),E.VA(!1);r.KN()}ma(){const r={sx:this.kg(),sy:this.lg(),s:this.hd,a:this.ua(),w:this.X(),h:this.W(),ortho:this.Sf,vpX:this.zF(),vpY:this.AF(),fv:this.oq,persist:this.Bq,fx:this.Sa.Dc(),layers:{}};for(const w of this.ec)r.layers[w.hb.toString()]=w.ma();return r}pa(r){this.ni=r.sx;this.oi=r.sy;
this.hd=r.s;this.Fe=r.a;this.S=r.w;this.P=r.h;this.Sf=!!r.ortho;r.hasOwnProperty("vpX")&&(this.DD=r.vpX);r.hasOwnProperty("vpY")&&(this.ED=r.vpY);this.oq=!!r.fv;this.Bq=r.persist;this.Sa.lc(r.fx);for(const [w,y]of Object.entries(r.layers))(r=this.zz(parseInt(w,10)))&&r.pa(y);this.ls();this.zk()}zh(r){r.Ag=this.Jw;var w=this.j;(w=w.Cb&&!w.la().Tz())&&b.hH();this.qe.dispatchEvent(r);w&&b.wE()}bp(r){r.Ag=this.Jw;return this.qe.mM(r)}}}
{"use strict";const e=self.B;e.V3=class extends e.ja{constructor(b){super();this.j=b;this.mj=[];this.DK=new Map;this.EK=new Map;this.nx=null;this.nL=[];this.PB=null;this.mC=0;this.vx=null}m(){this.vx=this.PB=this.nx=this.j=null;e.F(this.mj);this.DK.clear();this.EK.clear();e.F(this.nL)}Oa(b){b=e.D(e.uP,this,this.mj.length,b);this.mj.push(b);this.DK.set(b.wa().toLowerCase(),b);this.EK.set(b.hb,b)}I(){return this.j}N6(b){this.PB=b}U0(){if(this.PB)return this.PB;if(this.mj.length)return this.mj[0];throw Error("no first layout");
}lr(b){return this.DK.get(b.toLowerCase())||null}lF(b){return this.EK.get(b)||null}n1(b){b=e.ca(Math.floor(b),0,this.mj.length-1);return this.mj[b]}kc(b){return"number"===typeof b?this.n1(b):this.lr(b.toString())}XT(b){this.nx=b}Nb(){return this.nx}*Fy(){this.nx&&(yield this.nx);this.nL.length&&(yield*this.nL)}$Q(b){if(b)this.mC++;else{if(0>=this.mC)throw Error("already unset");this.mC--}}lP(){return 0<this.mC}Qy(b){this.vx=b}fZ(){this.vx=null}xr(){return!!this.vx}Lr(){const b=this.Nb();b&&b.ls()}Kr(){const b=
this.Nb();b&&b.zk()}}}
{"use strict";const e=self.B;class b{constructor(){this.ic=this.yf=null;this.bu=this.cu=this.yi=this.Mm=0;this.Ut=new e.Rect;this.Om=new e.Rect;this.Vo=new e.Rect;this.Dy=new e.Rect;this.Yt=new e.Rect;this.clearRect=new e.Rect;this.jE=new e.Rect;this.rX=[null,null];this.So=0;this.Yq=1;this.St=this.Tt=this.Lt=this.Kt=0;this.Pm=this.hg=this.fe=this.ge=this.Ag=null;this.OD=this.KM=this.bE=!1;this.$D=null}Zc(){this.$D=this.Pm=this.hg=this.fe=this.ge=this.Ag=this.ic=this.yf=null}L7(h){h=h.jb;if(h.qn())return!0;
if(this.fe)return h.ey&&(0!==this.hg.ua()||0>this.hg.X()||0>this.hg.W())||0!==this.Kt||0!==this.Lt||!this.hg.hn()||this.fe.qn();if(this.ge)return!this.ge.hn()}K7(h){h=h.jb;return h.ey||h.pJ||this.Ag&&"low"===this.ic.fa.Bj}kr(h){if(0!==h&&1!==h)throw Error("invalid effect target");const l=this.rX;if(!l[h]){var n=this.ic;const p=n.fa;n={uh:n.gd};"low"===p.Bj&&(n.width=p.Jg(),n.height=p.ig());l[h]=p.zu(n)}return l[h]}P5(){const h=this.rX,l=this.ic.fa;h[0]&&(l.wn(h[0]),h[0]=null);h[1]&&(l.wn(h[1]),h[1]=
null)}}const a=[];let d=0;const c=new e.Bd;let f=!1;async function k(h,l,n){l=await e.aa.qH.KZ(l,n);l=URL.createObjectURL(l);console.log("[FX] "+h+" "+(n?"":" [to display]")+": ",l)}e.pG=function(h,l,n,p,u,q){d===a.length&&a.push(new b);var v=a[d++];v.yf=h;v.ic=l;if(n instanceof e.Instance)v.fe=n,v.hg=v.fe.A();else if(n instanceof e.aG)v.ge=n;else if(n instanceof e.uP)v.Ag=n;else throw Error("invalid effects object");n=l.fa;v.Pm=p;v.Mm=n.Jg();v.yi=n.ig();v.cu=v.Mm;v.bu=v.yi;v.So=0;v.Yq=1;v.Kt=0;v.Lt=
0;v.Yt.set(0,0,v.Mm,v.yi);v.clearRect.set(0,0,v.Mm,v.yi);v.OD=!1;v.$D=q;v.fe?(p=v.hg,v.Tt=p.Z().Fl(),v.St=p.Z().ua(),v.Ut.Ba(p.Kc())):v.ge?(p=v.ge,v.Tt=p.Fl(),v.St=p.ua(),v.Ut.Ba(p.Zf)):(p=v.Ag,v.Tt=p.hd,v.St=p.ua(),v.Ut.set(0,0,v.Mm,v.yi));if(v.fe){{for(let H=0,I=u.length;H<I;++H)p=u[H].jb,v.Kt+=p.NU,v.Lt+=p.OU;var r=v.hg;p=r.Z();n=p.ua();q=r.Kc();var w=r.$e();r=r.yl();let [E,G]=p.mk(q.R,q.O,w),[P,C]=p.mk(q.ia,q.ba,w);if(0!==n||0<r){const [H,I]=p.mk(q.ia,q.O,w),[M,Q]=p.mk(q.R,q.ba,w);if(0<r){n=w+
r;const [R,V]=p.mk(q.R,q.O,n),[Z,ca]=p.mk(q.ia,q.O,n),[Y,ha]=p.mk(q.ia,q.ba,n),[ka,za]=p.mk(q.R,q.ba,n);p=Math.min(E,P,H,M,R,Z,Y,ka);P=Math.max(E,P,H,M,R,Z,Y,ka);E=p;p=Math.min(G,C,I,Q,V,ca,ha,za);C=Math.max(G,C,I,Q,V,ca,ha,za);G=p}else p=Math.min(E,P,H,M),P=Math.max(E,P,H,M),E=p,p=Math.min(G,C,I,Q),C=Math.max(G,C,I,Q),G=p}p=v.Yt;q=v.Dy;n=v.Vo;w=v.clearRect;r=v.Om;p.set(E,G,P,C);p.YM(v.yi);q.Ba(p);q.Lm(v.cu,v.bu);q.Zq();p.VD(v.Kt,v.Lt);n.Ba(p);n.Lm(v.cu,v.bu);n.Zq();w.Ba(p);w.mia();w.VD(v.Kt+1,v.Lt+
1);p.ca(0,0,v.Mm,v.yi);w.ca(0,0,v.Mm,v.yi);r.Ba(p);r.Lm(v.cu,v.bu);r.Zq()}}else v.Om.set(0,0,v.Mm/v.cu,v.yi/v.bu),v.Vo.Ba(v.Om),v.Dy.Ba(v.Om),v.Om.Zq(),v.Vo.Zq(),v.Dy.Zq();h.AG();h.Ir();h.pv(0);h.Cn(0);v.bE=v.L7(u[0]);v.bE&&(p=v.yf,p.cj(),q=v.kr(v.So),p.gf(q),(n=v.$D)&&n.LM&&n.LM(),p.HE(v.clearRect),v.fe?(p.An(v.hg.qF()),p.Cn(v.hg.$e()),v.fe.We(p),p.Cn(0)):(n=(v.ge||v.Ag).Mu(),v.ge?p.An(v.ge.qF()):p.Ir(),p.su(n),p.rp(n),v.ic.fa.wn(n)),v.Vo.fX(),v.So=1,v.Yq=0,f&&k("Pre-draw",p,q));h.Ir();p=u.length-
1;v.KM=v.K7(u[p]);for(let E=0,G=u.length;E<G;++E){n=u[E];q=n.jb;h.Hn(q);q.iB&&l.M();if(0!==E||v.bE){h.OQ();var y=void 0,z=void 0;q=v;y=n;z=E===p&&!v.KM;n=E;w=q.yf;r=q.ic;0===n&&q.bE&&q.fe&&q.Yt.YM(q.yi);z?(q.fe?w.Gf(q.hg.Li()):q.ge&&w.Gf(q.ge.Li()),z=q.Pm,w.gf(z)):(z=q.kr(q.So),w.gf(z),w.HE(q.clearRect));y=q.fe?q.hg.Je.Kg(y.Ha()):(q.ge||q.Ag).Sa.Kg(y.Ha());w.Ur(q.Pm,q.Vo,q.Om,q.Dy,q.Ut,1/q.cu,1/q.bu,q.Tt,q.St,r.Ye(),y);y=q.kr(q.Yq);w.Jf(y.Id());r.fa.DG(w);q.OD=!0;c.Ci(q.Yt);w.un(c,q.Om);q.fe||w.rp(y);
f&&k("Bounce "+n,w,z)}else{q=v;z=n;n=q.yf;w=q.ic;r=q.kr(q.So);n.gf(r);(y=q.$D)&&y.LM&&y.LM();n.HE(q.clearRect);if(q.fe){const [P,C]=q.fe.pz();(y=q.fe.qz())?q.jE.Ba(y):q.jE.set(0,0,0,0);z=q.hg.Je.Kg(z.Ha());n.Ur(q.Pm,q.Vo,q.jE,q.jE,q.Ut,1/P,1/C,q.Tt,q.St,w.Ye(),z);n.Cn(q.hg.$e());q.fe.We(n);n.Cn(0);q.Vo.fX();q.Yt.YM(q.yi)}else z=(q.ge||q.Ag).Sa.Kg(z.Ha()),n.Ur(q.Pm,q.Vo,q.Om,q.Dy,q.Ut,1/q.Mm,1/q.yi,q.Tt,q.St,w.Ye(),z),q=(q.ge||q.Ag).Mu(),f&&k("Layer target",n,q),n.su(q),n.rp(q),w.fa.wn(q);f&&k("First bounce",
n,r)}0===v.So?(v.So=1,v.Yq=0):(v.So=0,v.Yq=1)}v.KM&&(h=v.yf,v.Ag?(h.cj(),h.gf(v.Pm),l=v.kr(v.Yq),h.JE(l),h.rp(l)):(l=v.ic.fa,"low"===l.Bj?(h.cj(),l.DG(h,l.Jg(),l.ig()),v.OD=!0):h.I6(),v.fe?h.Gf(v.hg.Li()):v.ge&&h.Gf(v.ge.Li()),h.gf(v.Pm),l=v.kr(v.Yq),h.Jf(l.Id()),c.Ci(v.Yt),h.un(c,v.Om),v.fe||h.rp(l),f&&k("Post-draw",h,v.Pm)));h=v.OD;v.P5();v.Zc();d--;f=!1;return h}}
{"use strict";const e=self.B;e.b8=class extends e.ja{constructor(b){super();this.j=b;this.Wx=e.D(e.Xg);this.sga=null;this.Co=[];this.Xx=new Map;this.pm=new Map;this.Do=new Map;this.pf=[];this.Xf=[];this.Xw=this.us=this.hq=!1;this.Bm=()=>this.sca();this.Am=()=>this.hI();this.bJ=()=>this.NA();this.CK=()=>this.Tba();this.bK=a=>this.kT(a.instance);this.Qp=()=>this.Kp();this.Aw=[]}m(){this.V5();this.Qp=this.bK=this.CK=this.bJ=this.Am=this.Bm=null;for(const b of this.Co)b.Jd(),b.m();e.F(this.Co);this.Co=
null;this.Wx.m();this.Wx=null;e.F(this.pf);this.pf=null;e.F(this.Xf);this.Xf=null;this.Xx.clear();this.Xx=null;this.pm.clear();this.pm=null;this.Do.clear();this.Do=null;e.F(this.Aw);this.j=this.Aw=null}vY(){const b=this.j.zb();b.addEventListener("pretick",this.Bm);b.addEventListener("tick2",this.Am);b.addEventListener("beforelayoutchange",this.bJ);b.addEventListener("layoutchange",this.CK);b.addEventListener("instancedestroy",this.bK);b.addEventListener("afterload",this.Qp)}V5(){const b=this.j.zb();
b.removeEventListener("pretick",this.Bm);b.removeEventListener("tick2",this.Am);b.removeEventListener("beforelayoutchange",this.bJ);b.removeEventListener("layoutchange",this.CK);b.removeEventListener("instancedestroy",this.bK);b.removeEventListener("afterload",this.Qp)}Oa(b){this.Wx.yc(b);b=e.Ld.DZ(b,this);this.yc(b);this.t7(b);this.Do.set(b.wa(),0)}KE(b){b=b.SO();var a=this.Wx.$(b);a=e.Ld.KE(`${b}:${this.Do.get(b)}`,a,this);this.PS(b);this.yc(a);return a}PS(b){this.Do.set(b,this.Do.get(b)+1)}Xda(){for(const b of this.Co)b.Us||
this.PS(b.SO())}t9(){for(const b of this.Do.keys())this.Do.set(b,0)}yc(b){this.Co.push(b);this.Xx.set(b.wa().toLowerCase(),b)}Jh(b){b.Us||(e.Wq(this.Co,b),e.Wq(this.pf,b),e.Wq(this.Xf,b),this.Xx.delete(b.wa().toLowerCase()),this.W5(b),b.ne||b.m())}U(b){this.j.U(b,this.sga,null)}I(){return this.j}oR(b,a){this.pm.has(b)||this.pm.set(b,new Set);this.pm.get(b).add(a)}t7(b){for(const a of b.pF())this.oR(a,b)}W5(b){for(const [a,d]of this.pm.entries())d.has(b)&&(d.delete(b),0===d.size&&this.pm.delete(a))}O1(b){if(this.pm.has(b))return this.pm.get(b)}Iz(b){return this.Xx.get(b.toLowerCase())||
null}G1(b){for(const a of this.pf)if(a.wa()===b)return a;for(const a of this.Xf)if(a.wa()===b)return a;return null}wY(b){this.pf.includes(b)||this.pf.push(b);this.cI()}U5(b){e.Wq(this.Xf,b);this.Xv()}JQ(b){this.Xf.includes(b)?(b.wv(!0),b.yv(!1),b.KG(!1)):(b.wv(!1),b.yv(!0),b.KG(!1),this.pf.includes(b)||this.pf.push(b));this.cI()}$y(b){b.wv(!1);b.yv(!1);b.vG();e.Wq(this.pf,b);this.Xv()}Wy(b){b.wv(!1);b.yv(!1);b.KG(!0)}uZ(b){this.Wy(b);b.vG()}sca(){if(!this.I().Qk&&this.hq&&!this.us){var b=!1;for(this.Xw=
!0;this.pf.length;){var a=this.pf.pop();a.Cd();this.Xf.push(a)}a=this.j.Zj();var d=this.j.Qd;for(const c of this.Xf){if(c.gt)continue;const f=c.Kd(a,d);!b&&f&&(b=!0)}this.Xw=!1;b&&this.I().M()}}hI(){if(!this.I().Qk&&this.hq&&!this.us){var b;for(const a of this.Xf)a.gt&&(b||(b=new Set),this.dT(a),b.add(a));b&&e.rh(this.Xf,b);this.Xv()}}dT(b){b.ne||b.YO()&&b.Of&&b.ao&&b.cO()}cI(){this.hq||(this.hq=!0)}Xv(){this.Xf.length||this.pf.length||this.Xw||(this.hq=!1)}NA(){for(this.us=!0;this.pf.length;)this.$y(this.pf.pop());
const b=new Set;for(const a of this.Xf)a.NA()&&b.add(a);e.rh(this.Xf,b);this.Xv();for(const a of this.Co)a.Wj()}Tba(){this.us=!1}kT(b){var a=b.J();if(a=this.O1(a))if(this.j.Qk)this.Aw.push(b);else for(const d of a)d.Us||(d.ne?this.Jh(d):d.YO()||(this.dT(d),this.Jh(d)))}Kp(){for(const b of this.Aw)this.kT(b);e.F(this.Aw)}ma(){return{timelinesJson:this.Gda(),scheduledTimelinesJson:this.Eda(),playingTimelinesJson:this.Cda(),hasRuntimeListeners:this.hq,changingLayout:this.us,isTickingTimelines:this.Xw}}pa(b){b&&
(this.t9(),this.yba(b.timelinesJson),this.vba(b.scheduledTimelinesJson),this.tba(b.playingTimelinesJson),this.hq=!b.hasRuntimeListeners,this.us=!!b.changingLayout,this.Xw=!!b.isTickingTimelines,this.Xda(),this.cI(),this.Xv())}Gda(){return this.Co.map(b=>b.ma())}yba(b){for(const a of b){b=this.Iz(a.name);if(!b){b=this.Aaa(a);if(!b)continue;b=this.Iz(b);b=this.KE(b)}b.pa(a);b.k2()||this.Jh(b)}}Aaa(b){return(b=b.name.split(":"))&&2===b.length?b[0]:null}Eda(){return this.LT(this.pf)}vba(b){this.$S(b,
this.pf)}Cda(){return this.LT(this.Xf)}tba(b){this.$S(b,this.Xf)}eba(b,a){for(const d of a)if(d===b.wa())return!0;return!1}LT(b){return b.map(a=>a.wa())}$S(b,a){var d=new Set;for(const c of a)this.eba(c,b)||d.add(c);e.rh(a,d);d=c=>f=>f.wa()===c;for(const c of b)(b=this.Iz(c))&&(a.find(d(c))||a.push(b))}}}
{"use strict";const e=self.B;e.Ld=class extends e.ja{constructor(b,a,d){super();this.j=d.I();this.yb=d;this.sd=a;this.Ia=b;this.wb=[];for(const c of this.sd.Qu().Bia())this.wb.push(e.mH.Oa(this,c));this.XC=this.Cq=null;this.so=e.D(e.Ar);this.so.Set(0);this.rm=1;this.ji=0;this.rj=1;this.ao=this.Hj=this.qC=!1;this.Of=!0;this.gt=this.ne=!1;this.ws=-1;this.Zn=this.fq=this.Us=this.cC=!1;this.FV=NaN;this.Qe=[""];this.rD="";this.Rx=!1}static DZ(b,a){const d=a.Wx.$(b[0]);b=e.D(e.Ld,b[0],d,a);b.b7();return b}static KE(b,
a,d){return e.D(e.Ld,b,a,d)}static get w8(){return 1}static get Ll(){return e.DM(1)}m(){if(!this.ne){this.yb.$y(this);this.yb.uZ(this);for(const b of this.wb)b.m();e.F(this.wb);this.wb=null;this.so.m();this.sd=this.yb=this.j=this.so=null;this.ne=!0;this.XC=this.Cq=null}}I(){return this.j}uF(b,a,d){const c=[];for(const f of this.wb){if(b!==f.Ea())continue;const k=f.ek(d);k&&a.constructor===k.nd().constructor&&c.push(k)}return c}k2(){return!!this.wb.length}sA(b){this.Ia=b}wa(){return this.Ia}SO(){return this.sd.wa()}Lc(){return this.sd.Lc()}Ev(b){this.sd.Ev(b)}Nu(){return this.sd.Nu()}ZG(b){this.sd.ZG(b)}Ni(){return this.sd.Ni()}aj(b){this.sd.aj(b)}Ti(){return this.sd.Ti()}rk(){}df(b){for(const a of this.wb)a.df(b)}bn(){return this.sd.bn()}JG(b){return this.sd.JG(b)}cn(){return this.sd.cn()}SG(b){return this.sd.SG(b)}dn(){return this.sd.dn()}Gn(b){return this.rm=
b}Ff(){return this.IsPlaying()?0<this.rm:!0}Ju(){return this.Cq?this.Cq:this.Cq=new Promise(b=>{this.XC=b})}vG(){this.Cq&&(this.XC(),this.XC=this.Cq=null)}Cv(b){this.Qe=e.Ld.IS(b);this.Rx=!0}K1(){this.Rx&&(this.rD=this.Qe.join(" "));this.Rx=!1;return this.rD}GF(b){return this.Qe&&this.Qe.length?(b=e.Ld.IS(b))&&b.length?b.every(e.Ld.Haa,this):!1:!1}ZP(){e.C.Pc.G.Dp(this);this.yb.U(e.C.Pc.G.zna);this.yb.U(e.C.Pc.G.Ana);this.yb.U(e.C.Pc.G.Bna);this.yb.U(e.C.Pc.G.rna);e.C.Pc.G.Dp(null)}NP(){this.ws=this.j.$k}cO(){this.fq||
(this.fq=!0,e.C.Pc.G.Dp(this),this.yb.U(e.C.Pc.G.wna),this.yb.U(e.C.Pc.G.xna),this.yb.U(e.C.Pc.G.yna),this.yb.U(e.C.Pc.G.qna),e.C.Pc.G.Dp(null))}wv(b){this.qC=b}iP(){return this.ws===this.j.$k}IsPlaying(b=!1){return this.iP()||this.Hj&&!b?!0:this.qC}Jp(){return this.IsPlaying(!0)}av(){return this.cba()}cba(){return this.ne||this.Hj||this.Jp()||this.Of?!1:!0}yv(b){this.Hj=b}NQ(b){this.Of=b;b=this.xa();if(0>=b||b>=this.Lc())this.Of=!0}KG(b){this.gt=b}GG(b){this.cC=b}b7(){this.Us=!0}xa(){return this.so.$()}Vg(b){const a=
this.xa();this.Zd(b);this.NQ(!1);this.Of||this.GG(!0);if(this.Jp()||this.Hj||!this.ao)this.Jp()||this.Hj||this.ao?this.Jp()?this.Jd():this.Hj&&(this.yb.$y(this),this.HG()):this.HG();this.LA(b,!1,!0,!0,a)&&this.I().M();this.nT()}Zd(b){0>b?this.so.Set(0):b>=this.Lc()?this.so.Set(this.Lc()):this.so.Set(b)}nT(){e.C.Pc&&this.constructor===e.Ld&&(e.C.Pc.G.Dp(this),this.yb.U(e.C.Pc.G.tna),this.yb.U(e.C.Pc.G.una),this.yb.U(e.C.Pc.G.vna),e.C.Pc.G.Dp(null))}o9(){if(!this.bn())if(this.cn()&&1===this.ji)if(this.Ff()){if(this.xa()>=
this.Lc())return!1}else{if(0>=this.xa())return!1}else if(!this.bn()&&!this.cn())if(this.Ff()){if(this.xa()>=this.Lc())return!1}else if(0>=this.xa())return!1;return!0}wG(){this.ne||this.o9()&&this.Play(!0)}Play(b=!1){return this.ne||this.Hj?!1:this.Jp()&&this.iP()?this.Lda():this.Jp()||!this.Of&&!b&&!this.cC?!1:this.Mda()}Lda(){this.GG(!1);this.yb.U5(this);this.yb.JQ(this);this.Ju();return!0}Mda(){this.GG(!1);this.yb.JQ(this);this.Ju();return!0}Jd(b=!1){this.ne||(this.NQ(b),this.yb.Wy(this),this.Of&&
this.vG())}Nc(b=!0,a=!1){if(!this.ne)if(!this.Jp()&&this.Hj)this.yb.$y(this);else if(!this.Of){this.Jd(!0);this.Ff()?this.Zd(0):this.Zd(this.Lc());var d=this.xa();a=a?this.Vaa(d):this.LA(d,!1,!1,!0);b&&this.nT();a&&b&&this.I().M()}}DQ(){this.Nc(!1,!0)}Vaa(b){this.LA(b,!1,!1,!0,NaN,!1,!0)}NA(){if(this.ne)return!0;if(this.l2())return!1;this.yb.Wy(this);this.DQ();return!0}HG(){this.Cd(!0)}Cd(b){if(!this.gt)if(b){this.Zn=this.ao=!0;for(const a of this.wb)a.Cd()}else if(this.wv(!0),this.yv(!1),this.ZP(),
this.Of){this.ws=-1;this.ji=0;this.rj=1;this.fq=this.Of=!1;this.Zn=this.ao=!0;this.Ff()?this.Zd(0):this.Zd(this.Lc());for(const a of this.wb)a.Cd()}else{this.Zn=!0;for(const a of this.wb)a.pg()}}Kd(b,a){if(0!==b||0!==this.FV){this.FV=b;var d=this.xa();this.Zd(d+b*a*this.rm);var c;this.bn()||this.cn()?this.bn()&&!this.cn()?c=this.Eba():!this.bn()&&this.cn()?c=this.Dca():this.bn()&&this.cn()&&(c=this.Fba()):c=this.Fea();if(c){for(const f of this.wb)f.M6();this.Jd(!0);this.NP();return!0}return this.LA(this.xa(),
!0,!1,!1,d,!0)}}LA(b,a=!1,d=!1,c=!1,f=NaN,k=!1,h=!1){let l=!1;for(var n of this.wb)n.ku();for(const p of this.wb){n=b;if("number"===typeof f){const u=this.xa()-p.mg(),q=f-p.mg();0>u&&0<q&&(n=p.mg(),this.Zd(n))}n=p.nb(n,a,d,c,this.Zn,h);!l&&n&&(l=!0)}for(const p of this.wb)p.ju();this.Zn&&k&&(this.Zn=!1);return l}Fea(){if(this.Ff()){if(this.xa()>=this.Lc())if(this.rj<this.dn())this.rj++,this.Zd(0);else return this.Zd(this.Lc()),!0}else if(0>=this.xa())if(this.rj<this.dn())this.rj++,this.Zd(this.Lc());
else return this.Zd(0),!0;return!1}Eba(){this.Ff()?this.xa()>=this.Lc()&&this.Zd(0):0>=this.xa()&&this.Zd(this.Lc());return!1}Dca(){if(this.Ff()){if(this.xa()>=this.Lc())if(this.Zd(this.Lc()),this.Gn(-1*this.rm),1===this.ji)if(this.rj<this.dn())this.rj++,this.ji=0;else return!0;else 0===this.ji&&(this.ji=1)}else if(0>=this.xa())if(this.Zd(0),this.Gn(-1*this.rm),1===this.ji)if(this.rj<this.dn())this.rj++,this.ji=0;else return!0;else 0===this.ji&&(this.ji=1);return!1}Fba(){this.Ff()?this.xa()>=this.Lc()&&
(this.Zd(this.Lc()),this.Gn(-1*this.rm)):0>=this.xa()&&(this.Zd(0),this.Gn(-1*this.rm));return!1}yY(){var b=this.sd.Qu().kY();b=e.mH.Oa(this,b);this.wb.push(b);return b}Wj(){for(const b of this.wb)b.Wj()}hZ(){for(const b of this.wb)b.eZ()}u7(b,a){if(a)for(const d of this.wb)if(d.Gh()){if(b){if(d.Lg()!==b)continue}else if(d.e2())continue;d.Y6(a);this.yb.oR(a.J(),this);break}}YO(){return this.wb.some(b=>b.Gh()?b.FE():!0)}l2(){return this.wb.some(b=>b.Gh()?b.FE()?(b=b.J())?b.Rg():!1:!1:!1)}ek(b){for(const a of this.wb)for(const d of a.fc)if(d.Da.ed===
b)return d}TO(b){for(const a of this.wb)if(b===a.Ea())return a;return null}pF(){const b=[];for(const a of this.wb)b.push(a.J());return b.filter(a=>a)}ma(){return{tracksJson:this.Ida(),name:this.Ia,playheadTime:this.xa(),playbackRate:this.rm,pingPongState:this.ji,currentRepeatCount:this.rj,isPlaying:this.qC,isScheduled:this.Hj,initialStateSet:this.ao,finishedTriggers:this.fq,complete:this.Of,released:this.ne,markedForRemoval:this.gt,completedTick:this.ws,implicitPause:this.cC,isTemplate:this.Us,tags:this.Qe.join(" "),
stringTags:this.rD,tagsChanged:this.Rx,firstTick:this.Zn}}pa(b){b&&(this.zba(b.tracksJson),this.Ia=b.name,this.so.Set(b.playheadTime),this.rm=b.playbackRate,this.ji=b.pingPongState,this.rj=b.currentRepeatCount,this.qC=!!b.isPlaying,this.Hj=!!b.isScheduled,this.ao=!!b.initialStateSet,this.fq=b.hasOwnProperty("finishedTriggers")?!!b.finishedTriggers:!1,this.Of=!!b.complete,this.ne=!!b.released,this.gt=!!b.markedForRemoval,this.ws=b.completedTick,this.cC=!!b.implicitPause,this.Us=!!b.isTemplate,this.Qe=
b.tags.split(" "),this.rD=b.stringTags,this.Rx=!!b.tagsChanged,this.Zn=!!b.firstTick)}Ida(){return this.wb.map(b=>b.ma())}zba(b){b.forEach((a,d)=>{this.wb[d].pa(a)});this.wb.filter(a=>a.FE())}static Haa(b){const a=this.Qe;return""===b?1===a.length&&""===a[0]:a.includes(b)}static IS(b){if(e.kn(b))return b.slice(0);if(e.Hh(b))return b.split(" ")}}}
{"use strict";const e=self.B;e.mH=class extends e.ja{constructor(b,a){super();this.Bo=b;this.ob=a;this.sf=a.Qu();this.Uk=this.Ok=NaN;this.lb=this.fh=null;this.pq=0<a.mg();this.aq=this.Ss=!1;this.tq=null;this.Uc=this.ob.Pi().Uc;this.fc=[];for(const d of this.ob.Vd().fia())this.fc.push(e.ab.Oa(this,d))}static Oa(b,a){return e.D(e.mH,b,a)}m(){this.Uc=null;for(const b of this.fc)b.m();e.F(this.fc);this.tq=this.ob=this.lb=this.fh=this.Bo=this.fc=null}Wj(){for(const b of this.fc)b.Wj();this.lb=this.fh=
null}Bc(){return this.Bo}I(){return this.Bo.I()}l1(){return this.Uc?this.Uc:this.Uc=this.ob.Pi().Uc}ek(b){for(const a of this.fc)if(a.Da.ed===b)return a}Br(){this.fh||this.Ea()}Jb(){return this.fh?!this.fh.Yu():!1}FE(){if(!this.Gh())return!1;const b=this.I().Bh(this.Gu());return b?!b.Yu():!1}J(){if(this.Gh()){var b=this.oF();if(-1!==b)return this.I().Cf(b)}}eZ(){this.fh=null;this.Ok=-1;this.lb=null;this.Uk=-1}e2(){return!!this.fh}Ea(){return this.fh&&this.Jb()?this.fh:this.fh=this.I().Bh(this.Gu())}Y6(b){if(this.fh!==
b){this.Wj();this.fh=b;this.Uk=b.J().Ha();this.Ok=b.hc;this.lb=b.A();for(const k of this.gia()){const h=k.tia;switch(k.eia.Wd()){case "instance-variable":var a=b.J(),d=a.e1(k.name),c=a.xO(d);a=a.Hu(d);c===k.name&&a===k.type&&h.q8(d);break;case "behavior":var f=k.eM;d=this.J();c=b.J();a=h.Ig(c);f&&a&&(f=f.wa(),d.Bu(f),c.Bu(f),h.n8(a.hb))}}}}*gia(){for(const d of this.fc){var b=d.nd(),a=this.J();const c={eia:d,tia:b};switch(d.Wd()){case "world-instance":c.xf=d.Da.ed;break;case "instance-variable":b=
b.jr();c.name=a.xO(b);c.type=a.Hu(b);break;case "effect":a=b.bF(a.Sa);c.vta=a;break;case "behavior":a=b.Ig(a);c.eM=a;break;case "plugin":c.Uua=a.Gb()}yield c}}A(){if(this.lb&&this.Jb())return this.lb;const b=this.Ea();b&&(this.lb=b.A());return this.lb}Gu(){return this.Ok?this.Ok:this.ob.Gu()}IG(b){this.ob.IG(b)}Ni(){return this.ob.Ni()}aj(b){this.ob.aj(b)}Ti(){return this.ob.Ti()}Lg(){return this.ob.Lg()}mg(){return this.ob.mg()}El(){return this.ob.El()}rA(b){this.ob.rA(b)}rk(b){this.ob.rk(b)}df(b){for(const a of this.l1())a.df(b);
for(const a of this.fc)a.df(b)}Dl(){return this.ob.Dl()}If(b){this.ob.If(b)}oF(){return isNaN(this.Uk)?this.ob.oF():this.Uk}OG(b){this.ob.OG(b)}QG(b){this.ob.QG(b)}Ri(){const b=this.Ea();return b&&b.ka.kk()?b.ka.Ri():this.ob.Ri()}PG(b){this.ob.PG(b)}Qi(){const b=this.Ea();return b&&b.ka.kk()?b.ka.Qi():this.ob.Qi()}hk(){return this.ob.hk()}wa(){return this.ob.wa()}Gh(){return 0===this.hk()}Cd(){this.Br();if(this.Jb()||!this.Gh()){for(var b of this.fc)b.Cd();b=this.Bc().Ff()?0:this.El();this.tq=this.kF(b);
this.aq=this.Ss=!1;this.nb(b)}}pg(){this.Br();if(this.Jb()||!this.Gh()){this.Bo.Ff();var b=this.Bo.xa()-this.mg();this.tq=this.kF(b);for(const a of this.fc)a.pg()}}M6(){if(!(this.Bc().Of||(this.Br(),!this.Jb()&&this.Gh()||this.pq))){const b=this.Bo.xa();b>=this.mg()+this.El()?this.nb(this.El(),!0,!1,!0):0>=b&&this.nb(0,!0,!1,!0)}}ku(){for(const b of this.fc)b.ku()}nb(b,a=!1,d=!1,c=!1,f=!1,k=!1){this.Br();if(!this.Jb()&&this.Gh()||k&&this.Gh()&&this.J().Rg())return!1;b-=this.mg();if(0>b)return!1;this.l4(b,
a);this.DP(b,a,f);f=k=!1;for(const h of this.fc){const l=h.nb(b,d,!1,c);k||0===(l&e.Ld.w8)||(k=!0);f||0===(l&e.Ld.Ll)||(f=!0)}this.k4(b,a);k&&(b=this.A())&&b.Ca();return f}ju(){for(const b of this.fc)b.ju()}l4(b,a){if(a&&this.pq&&!this.Ss){if(this.Bc().Ff()){if(0>b)return;for(const d of this.fc)d.nb(0,!1,!1,!0)}else{if(b>this.El())return;for(const d of this.fc)d.nb(this.El(),!1,!1,!0)}for(const d of this.fc)d.Cd();this.Ss=!0}}k4(b,a){if(a&&this.pq&&!this.aq)if(this.Bc().Ff()){if(b>=this.El()){for(const d of this.fc)d.nb(this.El(),
!1,!1,!0);this.aq=!0}}else if(0>=b){for(const d of this.fc)d.nb(0,!1,!1,!0);this.aq=!0}}DP(b,a,d){!d&&a&&(b=this.kF(b),b!==this.tq&&this.TP(b),this.tq=b)}kF(b){const a=this.Bc();let d=this.sf.i1(b,this.ob);return d?d:a.Ff()?this.sf.T0(b,this.ob):this.sf.S0(b,this.ob)}TP(b){if(e.C.Pc&&this.Bc().constructor===e.Ld){var a=this.Bc();e.C.Pc.G.Dp(a);e.C.Pc.G.C7(b);b=a.yb;b.U(e.C.Pc.G.pna);b.U(e.C.Pc.G.TP);e.C.Pc.G.Dp(null);e.C.Pc.G.C7(null)}}tE(){return this.ob.Pi().hY()}tY(){var b=this.ob.Vd().jY();b=
e.ab.Oa(this,b);this.fc.push(b);return b}TZ(b){this.ob.Pi().SZ(b)}PE(b){for(const a of this.fc)a.PE(b)}Cp(){for(const b of this.fc)b.Cp()}Hi(){this.Br();if(this.Jb()||!this.Gh())for(const b of this.fc)b.Hi()}Ii(){this.Br();if(this.Jb()||!this.Gh()){var b=!1;for(const a of this.fc){const d=a.Ii();!b&&d&&(b=!0)}b&&(b=this.tE(),b.Vg(this.Bc().xa()),b.df("noease"),b.If(!0),b.Cv(""))}}ma(){var b=this.Ea();b=b?b.hc:this.Gu();return{propertyTracksJson:this.Dda(),lastKeyframeDataItemJson:this.Ada(),initialStateOfNestedSet:this.Ss,
endStateOfNestedSet:this.aq,instanceUid:b}}pa(b){b&&(this.uba(b.propertyTracksJson),this.sba(b.lastKeyframeDataItemJson),this.pba(b.instanceUid),this.Ss=!1,b.hasOwnProperty.initialStateOfNestedSet&&(this.Ss=b.initialStateOfNestedSet),this.aq=!1,b.hasOwnProperty.endStateOfNestedSet&&(this.aq=b.endStateOfNestedSet))}Ada(){return this.ob.Pi().k1(this.tq)}Dda(){return this.fc.map(b=>b.ma())}uba(b){b.forEach((a,d)=>{this.fc[d].pa(a)})}pba(b){if(e.Wi(b)&&(b=this.I().Bh(b))){var a=this.Bc();a.hZ();a.u7(this.ob.Lg(),
b)}}sba(b){this.tq=this.ob.Pi().j1(b)}}}
{"use strict";const e=self.B;e.ab=class extends e.ja{constructor(b,a){super();this.ud=b;this.Da=a;this.Fd=a.Vd();this.Oj=this.nd();this.Vc=this.Da.Si().Vc}static Oa(b,a){return e.D(e.ab,b,a)}m(){this.ud=null;this.Oj&&(this.Oj.m(),this.Oj=null);this.Fd=this.Da=this.Vc=null}Vd(){return this.Fd}Bc(){return this.ud.Bc()}I(){return this.ud.I()}Ea(){return this.ud.Ea()}nd(){if(this.Oj)return this.Oj;let b;switch(this.Da.Wd()){case "behavior":b=new e.ab.OY(this);break;case "effect":b=new e.ab.Z_(this);break;
case "instance-variable":b=new e.ab.p3(this);break;case "plugin":b=new e.ab.u5(this);break;case "world-instance":b=new e.ab.F8(this);break;case "value":b=new e.ab.u8(this)}return this.Oj=b}Wd(){return this.Da.Wd()}XG(b){this.Da.XG(b)}o7(b){this.Da.p7(b)}I1(){return this.nd().Yb()}k7(b){this.Da.j7(b)}Lu(){return this.Da.hk()}l7(b){this.Da.Fv(b)}sF(){return this.Vd().Fu(this.Da).hk()}MG(b){this.Da.MG(b)}LG(b){this.Da.LG(b)}Dl(){return this.Da.Dl()}If(b){this.Da.If(b)}Ni(){return this.Da.Ni()}aj(b){this.Da.aj(b)}Ti(){return this.Da.Ti()}rk(b){this.Da.rk(b)}df(b){for(const a of this.FO())a.df(b)}FO(){return this.Vc?
this.Vc:this.Vc=this.Da.Si().Vc}Wj(){this.nd().Wj()}ve(){return this.nd().ve()}Cd(){this.nd().Cd()}pg(){this.nd().pg()}ku(){this.nd().ku()}nb(b,a=!1,d=!1,c=!1){var f=this.Da;let k=this.Fd.rF(b,f);k?f=this.Fd.uO(b,f):(k=this.Fd.gF(b,f),f=this.Fd.fF(b,f));return this.nd().nb(b,k,f,a,d,c)}ju(){this.nd().ju()}static RO(b,a){const d=a.Da;a=a.Fd;let c=a.rF(b,d);c||(c=a.gF(b,d));return c}static H0(b,a){const d=a.Da;a=a.Fd;return a.rF(b,d)?a.uO(b,d):a.fF(b,d)}uE(){return this.Da.Si().iY()}PE(b){this.Da.Si().UZ(b)}Cp(){this.nd().Cp()}Hi(){if(this.nd().Hi()){const b=
this.Fd.Fu(this.Da),a=this.nd().ve();b.Jr(a)}}Ii(){const b=this.nd().Ii();b&&this.sY();this.nd().Vy();return b}sY(){const b=this.Bc().xa(),a=this.nd(),d=e.ab.RO(b,this),c=this.uE();c.Fv(d.hk());c.Vg(b);c.df(d.Ym());c.If(!0);c.ye(a.Mz());c.Jr(a.ve())}ma(){return{sourceAdapterJson:this.nd().ma()}}pa(b){b&&this.nd().pa(b.sourceAdapterJson)}}}
{"use strict";const e=self.B.ab;e.Xi=class{constructor(b){this.oa=b;this.tm=null}m(){this.tm&&(this.tm.m(),this.tm=null);this.oa=null}ek(){return this.oa}Wj(){this.tm&&this.tm.Wj()}Ng(){return this.tm?this.tm:this.tm=this.I9()}jr(){}Ha(){return this.jr()}Pu(){}Cd(){this.Ng().Cd()}pg(){this.Ng().pg()}ku(){this.Ng().dr()}nb(b,a,d,c,f,k){const h=e.Xi.yO(this.oa)(b,a,d,this.oa);return f?h:this.Ng().Zo(b,h,a,d,c,k)}ju(){this.Ng().cr()}Cp(){var b=this.Ng();b.mi=b.ve()}Vy(){this.Ng().Vy()}ve(){return this.Ng().ve()}Hi(){return this.Ng().Hi()}Ii(){return this.Ng().Ii()}Mz(){return e.Xi.Mz(this.oa)}I9(){const b=
this.oa.Lu();switch(this.oa.sF()){case "combo":case "boolean":case "text":case "string":return new e.ng.GP(this);case "numeric":case "number":case "angle":return"combo"===b?new e.ng.GP(this):new e.ng.r4(this);case "color":case "offsetColor":return new e.ng.kZ(this)}}ma(){return{propertyAdapterJson:this.Ng().ma()}}pa(b){b&&this.Ng().pa(b.propertyAdapterJson)}static Mz(b){const a=b.ud.Bc().xa(),d=e.RO(a,b),c=e.H0(a,b);return e.Xi.yO(b)(a,d,c,b)}static Yb(){let b=(void 0).Ti();"combo"===(void 0).Lu()&&
(b="absolute");switch(b){case "relative":return NaN}}static yO(b){switch(b.sF()){case "numeric":return e.dG.nb;case "angle":return e.nN.nb;case "boolean":return e.vN.nb;case "color":return e.IN.nb;case "text":return e.wR.nb}}static T1(b){switch(b.sF()){case "numeric":return e.dG.Ql;case "angle":return e.nN.Ql;case "boolean":return e.vN.Ql;case "color":return e.IN.Ql;case "text":return e.wR.Ql}}}}{"use strict";const e=self.B;class b extends e.ab.Xi{constructor(a){super(a)}}e.ab.F8=b}
{"use strict";const e=self.B;class b extends e.ab.Xi{constructor(a){super(a);this.cy=NaN}jr(){return this.oa.Da.xg[0]}Ha(){return this.cy?this.cy:super.Ha()}Pu(){return this.oa.ud.Ea()}q8(a){this.oa.Da.xg[0]!==a&&(this.cy=a)}nb(a,d,c,f,k,h){if(this.Ng().BN(d.Yb()))return super.nb(a,d,c,f,k,h)}ma(){return Object.assign(super.ma(),{index:this.cy})}pa(a){a&&(super.pa(a),this.cy=a.index)}}e.ab.p3=b}
{"use strict";const e=self.B;class b extends e.ab.Xi{constructor(a){super(a);this.hb=NaN}jr(){return this.oa.Da.xg[1]}Pu(){var a=this.oa.Da,d=this.hb?this.hb:a.xg[0];a=this.oa.ud.Ea();d=a.jO(d);return a.Ic[d].ka}Ig(a){return a.kz(this.oa.Da.xg[2])}n8(a){this.oa.Da.xg[0]!==a&&(this.hb=a)}nb(a,d,c,f,k,h){const l=this.oa.ud.Ea();if(this.Ig(l.J()))return super.nb(a,d,c,f,k,h)}ma(){return Object.assign(super.ma(),{sid:this.hb})}pa(a){a&&(super.pa(a),this.hb=a.sid)}}e.ab.OY=b}
{"use strict";const e=self.B;class b extends e.ab.Xi{constructor(a){super(a)}jr(){return this.oa.Da.xg[1]}Pu(){const a=this.oa.ud.A().Je,d=this.bF(a.Sa).Ha();return a.Zu(d)?a.Kg(d):null}bF(a){return a.Cl(this.oa.Da.xg[0])}nb(a,d,c,f,k,h){if(this.Zaa())return super.nb(a,d,c,f,k,h)}Zaa(){const a=this.oa.ud.A().Je,d=this.bF(a.Sa);if(d)return a.Zu(d.Ha())}}e.ab.Z_=b}
{"use strict";const e=self.B;class b extends e.ab.Xi{constructor(a){super(a)}jr(){return this.oa.Da.xg[0]}Pu(){return this.oa.ud.Ea().ka}nb(a,d,c,f,k,h){var l=this.oa.ud;const n=l.J().Gb();l=l.Ea().J().Gb();if(n===l)return super.nb(a,d,c,f,k,h)}}e.ab.u5=b}
{"use strict";const e=self.B;class b extends e.ab.Xi{constructor(a){super(a);this.Gd=0;this.dC=!1}Cd(){const a=this.oa.Vd();let d=this.oa.Da;d=a.Fu(d);this.Gd=d.Cc()}pg(){}Yb(){this.dC||this.oa.nb(0);return this.Gd}nb(a,d,c){const f=e.ab.dG.nb;this.Gd=f(a,d,c,this.oa);this.dC=!0}Cp(){}Vy(){}ve(){return this.Gd}Hi(){return!1}Ii(){return!1}ma(){return{value:this.Gd,init:this.dC}}pa(a){a&&(this.Gd=a.value,this.dC=a.hasOwnProperty("init")?a.init:!0)}}e.ab.u8=b}"use strict";
function ic(e,b,a){return e.oa.Bc().Ff()?b():a()}function jc(e,b,a){return"relative"===e.oa.Ti()?b():a()}function kc(e,b,a){e.Ks?(e.Ks=!1,b()):a()}function lc(e){if(e.Ct)return e.Ct;e.Ct=e.Oj.Pu();return e.Ct}function mc(e,b,a,d,c,f){switch(e.oa.Wd()){case "behavior":return b();case "effect":return a();case "instance-variable":return d();case "plugin":return c();case "world-instance":return f()}}
function nc(e,b=!1){const a=[];for(const d of e){e=d.ud.mg();for(const c of d.FO())b&&0===c.xa()?a.push({time:e+c.xa(),value:c.Rh}):b||a.push({time:e+c.xa(),value:c.Rh})}return a.sort((d,c)=>d.time-c.time)}function oc(e,b){for(let a=b.length-1;0<=a;a--)if(b[a].time<=e)return b[a];return null}
self.B.ab.ng=class{constructor(e){this.Oj=e;this.oa=e.ek();this.lb=this.oa.ud.A();this.ed=this.oa.Da.ed;this.Ks=!1;this.Ct=this.mi=null}m(){this.Ct=this.mi=this.lb=this.oa=this.Oj=null}Wj(){this.Ct=this.mi=this.lb=null}ek(){return this.oa}A(){return this.lb?this.lb:this.lb=this.oa.ud.A()}Cd(){}pg(){}Vy(){this.mi=null}ve(){}Hi(){}Ii(){}BN(e){return typeof this.Tl()===typeof e}dr(){}Zo(){}cr(){}Hp(){return ic(this,()=>{const e=this.oa.Da;return this.oa.Vd().Fu(e)},()=>{const e=this.oa.Da;return this.oa.Vd().an(e)}).Rh}AA(){const e=
this.oa.Bc().xa()-this.oa.ud.mg();return ic(this,()=>{const b=this.oa.Da;return this.oa.Vd().gF(e,b)},()=>{const b=this.oa.Da,a=this.oa.Vd(),d=a.fF(e,b);return d?d:a.an(b)}).Rh}DA(){}Ph(){return this.Oj.Ha()}ma(){return{firstAbsoluteUpdate:this.Ks,saveState:this.mi}}pa(e){e&&(this.Ks=e.firstAbsoluteUpdate,this.mi=e.saveState)}};
{"use strict";const e=self.B,b=new Map,a=[0,0,0];class d extends e.ab.ng{constructor(c){super(c)}Cd(){}pg(){}ve(){const c=this.oa.Wd(),f=lc(this),k=this.Ph();switch(c){case "behavior":return this.aB(f.Xb(k));case "effect":return this.aB(f[k]);case "plugin":return this.aB(f.Xb(k));case "world-instance":return this.aB(this.Tl())}}Hi(){const c=this.Hp();return!this.ZR(c,this.Tl())}Ii(){return e.we(this.mi)?!1:!this.ZR(this.mi,this.Tl())}ZR(c,f){return c.Nm(f)}Hp(){const c=super.Hp();return this.EA(c)}AA(){const c=
super.AA();return this.EA(c)}DA(){}aB(c){return e.mn(c,e.eb)?c.toArray().slice(0,3):c.slice(0,3)}EA(c){return e.mn(c,e.eb)?c:new e.eb(c[0],c[1],c[2],1)}BN(){return!0}dr(){var c=this.oa.Ea();b.has(c)||b.set(c,new Map);c=b.get(c);const f=this.oa.Wd();c.has(f)||c.set(f,new Map);c=c.get(f);c.has(this.ed)||c.set(this.ed,{Iy:!1,color:new e.eb(0,0,0,1)})}LS(c,f,k){c=b.get(c).get(f).get(k);c.Iy=!0;return c.color}Zo(c,f){var k=this.oa.Bc(),h=this.oa.ud;c=this.oa.Ea();var l=this.oa.nd();const n=this.oa.Wd();
l=k.uF(c,l,this.ed);if(1<l.length){if(l=nc(l,!0),k=k.xa(),k=oc(k,l))if(l=k.time-h.mg(),0===l)this.LS(c,n,this.ed).YW(f[0],f[1],f[2]);else{if(0>l)return;k=f[0];h=f[1];f=f[2];l=this.oa.nb(l,!1,!0);k=e.eb.QE(k,l[0]);h=e.eb.QE(h,l[1]);f=e.eb.QE(f,l[2]);this.LS(c,n,this.ed).YW(k,h,f)}}else this.Ck(f[0],f[1],f[2]);return e.Ld.Ll}cr(){const c=this.oa.Ea();if(b.has(c)){var f=b.get(c),k=this.oa.Wd();if(f.has(k)){var h=f.get(k);if(h.has(this.ed)){var l=h.get(this.ed),n=l.color;l.Iy&&this.Ck(n.Xa,n.Ga,n.Za);
0===h.size&&f.delete(k);0===f.size&&b.delete(c)}}}}Tl(){const c=this.oa.Wd(),f=lc(this),k=this.Ph();switch(c){case "behavior":return this.EA(f.Xb(k));case "effect":return f[k].clone();case "plugin":return this.EA(f.Xb(k));case "world-instance":return this.A().fb.clone()}}Ck(c,f,k){const h=this.oa.Wd(),l=lc(this),n=this.Ph();switch(h){case "behavior":a[0]=c;a[1]=f;a[2]=k;l.ff(n,a);break;case "effect":l[n].$t(c,f,k);break;case "plugin":a[0]=c;a[1]=f;a[2]=k;l.ff(n,a);break;case "world-instance":this.A().D7(c,
f,k)}}ma(){}pa(){}}e.ab.ng.kZ=d}
{"use strict";const e=self.B;class b extends e.ab.ng{constructor(a){super(a)}Cd(){}pg(){}ve(){return this.Tl()}Hi(){return this.Hp()!==this.ve()}Ii(){return e.we(this.mi)?!1:this.mi!==this.ve()}Zo(a,d){const c=e.ab.Xi.T1(this.oa);var f=this.oa;const k=f.ud,h=f.Wd();var l=f.Bc();const n=k.Ea();f=f.nd();l=l.uF(n,f,this.ed);1<l.length&&(l=nc(l),a=oc(a+k.mg(),l))&&(d=a.value);if(c(this.Ph(),lc(this),d,h))switch(this.Ck(d),h){case "plugin":return e.Ld.Ll}}Tl(){const a=this.oa.Wd(),d=lc(this),c=this.Ph();
switch(a){case "behavior":return d.Xb(c);case "effect":return d[c];case "instance-variable":return d.Ze(c);case "plugin":return d.Xb(c)}}Ck(a){const d=this.oa.Wd(),c=lc(this),f=this.Ph();switch(d){case "behavior":c.ff(f,a);break;case "effect":c[f]=a;break;case "instance-variable":c.En(f,a);break;case "plugin":c.ff(f,a)}}}e.ab.ng.GP=b}
{"use strict";const e=self.B,b=new Map,a=(c,f,k,h,l)=>b.set(c,{ria:f,Jga:k,uha:h,round:l});a("offsetX",(c,f)=>c.y4(f),(c,f)=>c.Nh(f),c=>c.da(),!0);a("offsetY",(c,f)=>c.z4(f),(c,f)=>c.Oh(f),c=>c.ea(),!0);a("offsetWidth",(c,f)=>c.JP(f),(c,f)=>c.dj(f),c=>c.X(),!0);a("offsetHeight",(c,f)=>c.IP(f),(c,f)=>c.$i(f),c=>c.W(),!0);a("offsetAngle",(c,f)=>c.u4(f),(c,f)=>c.pd(f),c=>c.ua(),!1);a("offsetOpacity",(c,f,k,h)=>{k=c.Ud()+f;0===h.Tc?(1<k?h.Tc+=k-1:0>k&&(h.Tc+=k),c.v4(f)):(c=c.Ud()+f,0<f&&0<h.Tc?1<c&&(h.Tc+=
c-1):0<f&&0>h.Tc?(h.Tc+=f,0<h.Tc&&(h.Tc=0)):0>f&&0<h.Tc?(h.Tc+=f,0>h.Tc&&(h.Tc=0)):0>f&&0>h.Tc&&0>c&&(h.Tc+=c))},(c,f)=>{c.ef(f)},c=>c.Ud(),!1);a("offsetOriginX",(c,f)=>c.w4(f),(c,f)=>c.Sr(f),c=>c.ak(),!1);a("offsetOriginY",(c,f)=>c.x4(f),(c,f)=>c.Tr(f),c=>c.bk(),!1);a("offsetZElevation",(c,f)=>c.A4(f),(c,f)=>c.Kf(f),c=>c.$a(),!0);a("offsetScaleX",(c,f,k)=>{const h=0>c.X()?-1:1;c.JP(k.Ri()*h*f)},(c,f,k)=>{c.dj(k.Ri()*f)},(c,f)=>{const k=0>c.X()?-1:1;if(c.mp()){var h=c.Fa(),l=f.Bc().TO(h.Ea());l?h=
h.X()/l.Ri():(l=h.Ea().ka,h=l.kk()?h.X()/l.Ri():1);return c.X()*k/(f.Ri()*h)}return c.X()*k/f.Ri()},!1);a("offsetScaleY",(c,f,k)=>{const h=0>c.W()?-1:1;c.IP(k.Qi()*h*f)},(c,f,k)=>{c.$i(k.Qi()*f)},(c,f)=>{const k=0>c.W()?-1:1;if(c.lp()){var h=c.Fa(),l=f.Bc().TO(h.Ea());l?h=h.W()/l.Qi():(l=h.Ea().ka,h=l.kk()?h.W()/l.Qi():1);return c.W()*k/(f.Qi()*h)}return c.W()*k/f.Qi()},!1);class d extends e.ab.ng{constructor(c){super(c);this.Tc=this.Ub=0;this.cK=this.eK=this.dK=null;this.uW=!1;this.Rq=e.mn(this.oa.Bc(),
e.ac)?new e.ab.ng.t4(this):new e.ab.ng.s4(this);c=this.oa.Da.ed;"world-instance"===this.oa.Wd()&&(c=b.get(c),this.dK=c.uha,this.eK=c.ria,this.cK=c.Jga,this.uW=c.round)}m(){this.cK=this.eK=this.dK=this.Rq=null;super.m()}bR(c){this.Ub=c}Cd(){const c=this.Rq.Cd();"number"===typeof c&&(this.Ub=c);this.Tc=0}pg(){const c=this.Rq.pg();"number"===typeof c&&(this.Ub=c)}ve(){return this.Tl()}Hi(){return this.Hp()!==this.ve()}Ii(){return e.we(this.mi)?!1:this.mi!==this.ve()}dr(){this.Rq.dr()}Zo(c,f,k,h,l,n,
p){return this.Rq.Zo(c,f,k,h,l,n,p)}cr(){this.Rq.cr()}Tl(){const c=lc(this),f=this.Ph(),k=this.oa.ud,h=this.A();return mc(this,()=>c.Xb(f),()=>c[f],()=>c.Ze(f),()=>c.Xb(f),()=>this.dK(h,k))}Ck(c){const f=lc(this),k=this.Ph(),h=this.oa.ud,l=this.A();mc(this,()=>f.fG(k,c),()=>f[k]+=c,()=>f.a7(k,c),()=>f.fG(k,c),()=>this.eK(l,c,h,this))}cU(c){const f=lc(this),k=this.Ph(),h=this.oa.ud,l=this.A();mc(this,()=>f.ff(k,c),()=>f[k]=c,()=>f.En(k,c),()=>f.ff(k,c),()=>this.cK(l,c,h))}js(c,f,k,h,l,n){this.Rq.js(c,
f,k,h,l,n)}Rl(c,f,k){c=(c.toString().split(".")[1]||"").length;const h=this.Tl();this.Ck((0===c?this.uW?Math.round(h):h:e.toFixed(h,c))-h,f,k)}ma(){return Object.assign(super.ma(),{v:this.Ub,a:this.Tc})}pa(c){c&&(super.pa(c),this.Ub=c.v,this.Tc=c.a)}}e.ab.ng.r4=d}
{"use strict";const e=self.B,b=new Map;class a{constructor(d){this.Ne=d}m(){this.Ne=null}Cd(){const d=this.Ne,c=this.Ne.ek();return jc(d,()=>ic(d,()=>0,()=>e.ab.Xi.Mz(c)),()=>{})}pg(){}dr(){const d=this.Ne,c=this.Ne.ek(),f=c.Da.ed;jc(d,()=>{},()=>{var k=c.Ea();b.has(k)||b.set(k,new Map);k=b.get(k);const h=c.Wd();k.has(h)||k.set(h,new Map);k=k.get(h);k.has(f)||k.set(f,{Iy:!1,value:0})})}KS(d,c,f){d=b.get(d).get(c).get(f);d.Iy=!0;return d}Zo(d,c,f,k,h,l){const n=this.Ne,p=this.Ne.ek(),u=p.Da.ed;jc(n,
()=>{const q=n.Ub;n.Ck(c-q,f,k);l&&this.js(d,f,k,h,q,c);n.bR(c)},()=>{var q=p.Bc(),v=p.ud;const r=p.Ea();var w=p.nd();const y=p.Wd();w=q.uF(r,w,u);if(1<w.length){if(w=nc(w,!0),q=q.xa(),q=oc(q,w))v=q.time-v.mg(),0===v?this.KS(r,y,u).value+=c:0>v||(v=p.nb(v,!1,!0),this.KS(r,y,u).value+=c-v)}else n.cU(c)});return mc(n,()=>{},()=>e.Ld.Ll,()=>{},()=>e.Ld.Ll,()=>e.Ld.Ll)}cr(){const d=this.Ne,c=this.Ne.ek(),f=c.Da.ed;jc(d,()=>{},()=>{const k=c.Ea();if(b.has(k)){var h=b.get(k),l=c.Wd();if(h.has(l)){var n=
h.get(l);if(n.has(f)){var p=n.get(f),u=p.value;p.Iy&&d.cU(u);n.delete(f);0===n.size&&h.delete(l);0===h.size&&b.delete(k)}}}})}js(d,c,f,k,h,l){const n=this.Ne;k||(c&&d===c.xa()?n.Rl(c.Cc(),c,f):f&&d===f.xa()?n.Rl(f.Cc(),c,f):0===l-h&&n.Rl(c.Cc(),c,f))}}e.ab.ng.s4=a}
{"use strict";const e=self.B;class b{constructor(a){this.Ne=a}m(){this.Ne=null}Cd(){const a=this.Ne;a.Ks=!0;return this.DA(a.Hp())}pg(){const a=this.Ne;if(a.Hp()!==a.AA())return a.Ks=!0,this.DA(a.AA())}dr(){}Zo(a,d,c,f,k,h){const l=this.Ne,n=l.Ub;jc(l,()=>{l.Ck(d-n,c,f);h&&this.js(a,c,f,k,n,d)},()=>{kc(l,()=>{l.Ck(n,c,f)},()=>{l.Ck(d-n,c,f);h&&this.js(a,c,f,k,n,d)})});l.bR(d);return mc(l,()=>{},()=>e.Ld.Ll,()=>{},()=>e.Ld.Ll,()=>e.Ld.Ll)}cr(){}DA(a){return a-this.Ne.ve()}js(a,d,c,f,k,h){const l=this.Ne;
f?d&&a===d.xa()?l.Rl(d.Cc(),d,c):c&&a===c.xa()?l.Rl(c.Cc(),d,c):c||l.Rl(d.Cc(),d,c):d&&a===d.xa()?l.Rl(d.Cc(),d,c):c&&a===c.xa()?l.Rl(c.Cc(),d,c):0===h-k&&l.Rl(d.Cc(),d,c)}}e.ab.ng.t4=b}
{"use strict";const e=self.B,b=self.cp;e.ab.dG=class{constructor(){}static Ql(a,d,c,f){let k;switch(f){case "behavior":k=d.Xb(a);break;case "effect":k=d[a];break;case "instance-variable":k=d.Ze(a);break;case "plugin":k=d.Xb(a)}return k===c?!1:!0}static nb(a,d,c,f){if(!c)return c=f.Da,c=f.Vd().an(c),c.Cc();var k=f.Ni();"default"===k&&(k="continuous");"combo"===f.Lu()&&(k="discrete");if("discrete"===k)return d.Cc();if("continuous"===k||"step"===k){"step"===k&&(k=f.Bc().Nu(),0!==k&&(k=1/k,a=Math.floor(a*
k)/k));var h=d.xa();const l=c.xa();k=d.Cc();const n=c.Cc();if(k===n)return k;a=e.normalize(a,h,l);const p=d.Ym();d=d.XE("cubic-bezier");c=c.XE("cubic-bezier");d&&d.Mx&&c&&c.JB?(h=l-h,h=b.kp(p)(h*a,0,1,h),h=b.kp("cubicbezier")(h,k,k+d.BL,n+c.AJ,n)):h=b.kp(p)((l-h)*a,k,n-k,l-h);return"integer"===f.Lu()?Math.floor(h):h}}}}
{"use strict";const e=self.B;e.ab.nN=class{constructor(){}static Ql(b,a,d,c){let f;switch(c){case "behavior":f=a.Xb(b);break;case "effect":f=a[b];break;case "instance-variable":f=a.Ze(b);break;case "plugin":f=a.Xb(b)}return f===d?!1:!0}static nb(b,a,d,c){if(!d)return a=c.Da,a=c.Vd().an(a),a.Cc();var f=c.Ni();"default"===f&&(f="continuous");"combo"===c.Lu()&&(f="discrete");if("discrete"===f)return a.Cc();if("continuous"===f||"step"===f){"step"===f&&(c=c.Bc().Nu(),0!==c&&(c=1/c,b=Math.floor(b*c)/c));
const k=a.xa(),h=d.xa();c=a.Cc();d=d.Cc();if(f=a.XE("angle")){const l=f.mL;if(c===d&&0===l)return c;b=e.normalize(b,k,h);a=self.cp.kp(a.Ym())(b,0,1,1);switch(f.tJ){case "closest":return e.cM(c,d,a,l);case "clockwise":return e.Qga(c,d,a,l);case "anti-clockwise":return e.Pga(c,d,a,l)}}else{if(c===d)return c;b=e.normalize(b,k,h);a=self.cp.kp(a.Ym());return e.cM(c,d,a(b,0,1,1))}}}}}"use strict";
self.B.ab.vN=class{constructor(){}static Ql(e,b,a,d){let c;switch(d){case "behavior":c=b.Xb(e);break;case "effect":c=b[e];break;case "instance-variable":c=b.Ze(e);break;case "plugin":c=b.Xb(e)}return!!c===!!a?!1:!0}static nb(e,b,a,d){return a?b.Cc()?1:0:(e=d.Da,e=d.Vd().an(e),e.Cc()?1:0)}};
{"use strict";const e=self.B,b=[0,0,0],a=[0,0,0],d=[0,0,0];e.ab.IN=class{constructor(){}static Ql(c,f,k,h){let l;switch(h){case "behavior":l=f.Xb(c);break;case "effect":l=f[c];break;case "instance-variable":l=f.Ze(c);break;case "plugin":l=f.Xb(c)}Array.isArray(k)?(b[0]=k[0],b[1]=k[1],b[2]=k[2]):(d.CX(k),b[0]=Math.floor(255*d.Xa),b[1]=Math.floor(255*d.Ga),b[2]=Math.floor(255*d.Za));Array.isArray(l)?(a[0]=l[0],a[1]=l[1],a[2]=l[2]):(d.CX(l),a[0]=Math.floor(255*d.Xa),a[1]=Math.floor(255*d.Ga),a[2]=Math.floor(255*
d.Za));return b[0]!==a[0]||b[1]!==a[1]||b[2]!==a[2]?!0:!1}static nb(c,f,k,h){if(!k)return f=h.Da,f=h.Vd().an(f),f=f.Cc(),b[0]=f[0],b[1]=f[1],b[2]=f[2],b;var l=h.Ni();"default"===l&&(l="continuous");if("discrete"===l)return f=f.Cc(),b[0]=f[0],b[1]=f[1],b[2]=f[2],b;if("continuous"===l||"step"===l){"step"===l&&(h=h.Bc().Nu(),0!==h&&(h=1/h,c=Math.floor(c*h)/h));h=f.xa();l=k.xa();var n=f.Cc(),p=k.Cc();const u=e.normalize(c,h,l);c=n[0];k=n[1];n=n[2];const q=p[0],v=p[1];p=p[2];f=self.cp.kp(f.Ym());h=l-h;
l=h*u;b[0]=c===q?c:f(l,c,q-c,h);b[1]=k===v?k:f(l,k,v-k,h);b[2]=n===p?n:f(l,n,p-n,h);return b}}}}"use strict";self.B.ab.wR=class{constructor(){}static Ql(e,b,a,d){let c;switch(d){case "behavior":c=b.Xb(e);break;case "effect":c=b[e];break;case "instance-variable":c=b.Ze(e);break;case "plugin":c=b.Xb(e)}return c===a?!1:!0}static nb(e,b,a,d){return a?b.Cc():(e=d.Da,e=d.Vd().an(e),e.Cc())}};
{"use strict";const e=self.B;e.Xg=class{constructor(){this.Vx=new Map}m(){for(const b of this.Vx.values())b.m();this.Vx.clear();this.Vx=null}yc(b){b=new e.xR(b);this.Vx.set(b.wa(),b)}$(b){return this.Vx.get(b)}static Kv(b,a,d,c){if(a)for(const f of a)e.Xg.aS("create",f,b,d,c)}static Vv(b,a,d,c){b.length?a.forEach((f,k)=>{b[k].pa(f)}):a.forEach(f=>{e.Xg.aS("load",f,b,d,c)})}static aS(b,a,d,c,f){let k;if("function"===typeof c)switch(b){case "load":k=new c(null,f);break;case "create":k=new c(a,f)}else if("object"===
typeof c)switch(c=c.map.get(a[c.GX]),b){case "load":k=new c(null,f);break;case "create":k=new c(a,f)}switch(b){case "load":k.pa(a);d.push(k);break;case "create":"function"!==typeof k.Dl||k.Dl()?d.push(k):k.m()}}}}
{"use strict";const e=self.B;e.xR=class{constructor(b){this.Ia="";this.Zx=NaN;this.Ox=0;this.Pe=this.Ke="default";this.wx=this.kx=!1;this.ut=1;this.sf=null;b&&(this.Ia=b[0],this.Zx=b[1],this.Ox=b[2],this.Ke=b[3],this.Pe=b[4],this.kx=!!b[6],this.wx=!!b[7],this.ut=b[8],this.sf=new e.yR(b[5],this))}m(){this.sf.m();this.sf=null}Qu(){this.sf||(this.sf=new e.yR(null,this));return this.sf}wa(){return this.Ia}sA(b){this.Ia=b}Lc(){return this.Zx}Ev(b){this.Zx=b}Nu(){return this.Ox}ZG(b){this.Ox=b}Ni(){return this.Ke}aj(b){this.Ke=
b}Ti(){return this.Pe}rk(b){this.Pe=b}bn(){return this.kx}JG(b){this.kx=b}cn(){return this.wx}SG(b){this.wx=b}dn(){return this.ut}ma(){return{trackDataJson:this.sf.ma(),name:this.Ia,totalTime:this.Zx,step:this.Ox,interpolationMode:this.Ke,resultMode:this.Pe,loop:this.kx,pingPong:this.wx,repeatCount:this.ut}}pa(b){b&&(this.Qu().pa(b.trackDataJson),this.Ia=b.name,this.Zx=b.totalTime,this.Ox=b.step,this.Ke=b.interpolationMode,this.Pe=b.resultMode,this.kx=b.loop,this.wx=b.pingPong,this.ut=b.repeatCount)}}}
{"use strict";const e=self.B;class b{constructor(a,d){this.sf=d;this.rg=this.gC=null;this.Uk=this.Ok=NaN;this.Pe=this.Ke="default";this.Va=!1;this.Fd=this.Ij=null;this.Ie="";this.it=null;this.CL=0;this.jx=this.sf.sd.Lc();this.Aa=0;this.Ia="";a&&(a[0]&&(this.gC=a[0],this.Ok=a[0][2],this.Uk=a[0][1]),this.Ke=a[1],this.Pe=a[2],this.Va=!!a[3],a[6]&&(this.Ie=a[6]),a[7]&&(this.it=a[7],this.CL=a[7][0],this.jx=a[7][1]),a[8]&&(this.rg=a[8]),a[8]&&(this.rg=a[8]),a[9]&&(this.Aa=a[9]),a[10]&&(this.Ia=a[10]),this.Ij=
new e.tP(a[4],this),this.Fd=new e.iQ(a[5],this))}m(){this.sf=this.gC=null;this.Ij&&(this.Ij.m(),this.Ij=null);this.Fd&&(this.Fd.m(),this.Fd=null);this.it=null}Qu(){return this.sf}Pi(){this.Ij||(this.Ij=new e.tP(null,this));return this.Ij}Vd(){this.Fd||(this.Fd=new e.iQ(null,this));return this.Fd}oF(){return this.Uk}OG(a){this.Uk=a}Gu(){return this.Ok}IG(a){this.Ok=a}Ni(){return this.Ke}aj(a){this.Ke=a}Ti(){return this.Pe}rk(a){this.Pe=a}Dl(){return this.Va}If(a){this.Va=!!a}Lg(){return this.Ie}mg(){return this.CL}El(){return this.jx}rA(a){this.jx=
a}Ri(){return this.rg[0]}QG(a){this.rg||(this.rg=[]);this.rg[0]=a}Qi(){this.rg||(this.rg=[]);return this.rg[1]}PG(a){this.rg||(this.rg=[]);this.rg[1]=a}hk(){return this.Aa}wa(){return this.Ia}ma(){return{keyframeDataJson:this.Ij.ma(),propertyTrackDataJson:this.Fd.ma(),instanceData:this.gC,additionalInstanceData:this.rg,instanceUid:this.Ok,objectClassIndex:this.Uk,interpolationMode:this.Ke,resultMode:this.Pe,enabled:this.Va,id:this.Ie,nestedData:this.it,type:this.Aa,name:this.Ia}}pa(a){a&&(this.gC=
a.instanceData,this.Ok=a.instanceUid,this.Uk=a.objectClassIndex,this.Ke=a.interpolationMode,this.Pe=a.resultMode,this.Va=a.enabled,this.Ie=a.id,this.Aa=a.type?a.type:0,this.Aa=a.name?a.name:"",this.jx=this.sf.sd.Lc(),a.nestedData&&(this.it=a.nestedData,this.CL=this.it[0],this.jx=this.it[1]),a.additionalInstanceData&&(this.rg=a.additionalInstanceData),this.Pi().pa(a.keyframeDataJson),this.Vd().pa(a.propertyTrackDataJson))}}e.yR=class{constructor(a,d){this.sd=d;this.Eo=[];this.ax=new Map;e.Xg.Kv(this.Eo,
a,b,this)}m(){this.sd=null;for(const a of this.Eo)a.m();e.F(this.Eo);this.Eo=null;this.ax.clear();this.ax=null}kY(){const a=new b(null,this);this.Eo.push(a);return a}i1(a,d){const c=this.ax.get(d);if(c&&c.has(a))return c.get(a);for(const f of d.Pi().xX())if(f.xa()===a)return c||this.ax.set(d,new Map),this.ax.get(d).set(a,f),f}S0(a,d){for(const c of d.Pi().xX())if(c.xa()>=a)return c}T0(a,d){for(const c of d.Pi().Nha())if(c.xa()<=a)return c}*Bia(){for(const a of this.Eo)yield a}ma(){return{trackDataItemsJson:this.Eo.map(a=>
a.ma())}}pa(a){a&&e.Xg.Vv(this.Eo,a.trackDataItemsJson,b,this)}}}
{"use strict";const e=self.B;class b{constructor(a,d){this.Fd=d;this.Kx="";this.Aa=this.ed=this.xg=null;this.NC=this.PC=NaN;this.Pe=this.Ke="default";this.Va=!1;this.Vk=null;a&&(this.Kx=a[0][0],this.xg=a[0].slice(1),this.ed=a[1],this.Aa=a[2],this.PC=a[3],this.NC=a[4],this.Ke=a[5],this.Pe=a[6],this.Va=!!a[7],this.Vk=new e.hQ(a[8],this))}m(){this.Vk.m();this.xg=this.Fd=this.Vk=null}Vd(){return this.Fd}Si(){this.Vk||(this.Vk=new e.hQ(null,this));return this.Vk}Wd(){return this.Kx}XG(a){this.Kx=a}p7(a){this.xg=
a}j7(a){this.ed=a}hk(){return this.Aa}Fv(a){this.Aa=a}MG(a){this.PC=a}LG(a){this.NC=a}Ni(){return this.Ke}aj(a){this.Ke=a}Ti(){return this.Pe}rk(a){this.Pe=a}Dl(){return this.Va}If(a){this.Va=!!a}ma(){return{propertyKeyframeDataJson:this.Vk.ma(),sourceAdapterId:this.Kx,sourceAdapterArguments:this.xg,property:this.ed,type:this.Aa,min:this.PC,max:this.NC,interpolationMode:this.Ke,resultMode:this.Pe,enabled:this.Va}}pa(a){a&&(this.Kx=a.sourceAdapterId,this.xg=a.sourceAdapterArguments,this.ed=a.property,
this.Aa=a.type,this.PC=a.min,this.NC=a.max,this.Ke=a.interpolationMode,this.Pe=a.resultMode,this.Va=a.enabled,this.Si().pa(a.propertyKeyframeDataJson))}}e.iQ=class{constructor(a,d){this.ob=d;this.uo=[];this.yx=new Map;e.Xg.Kv(this.uo,a,b,this)}m(){this.ob=null;for(const a of this.uo)a.m();e.F(this.uo);this.uo=null;this.yx.clear();this.yx=null}jY(){const a=new b(null,this);this.uo.push(a);return a}Fu(a){return a.Si().Vc[0]}an(a){return a.Si().Vc.Se(-1)}rF(a,d){const c=this.yx.get(d);if(c&&c.has(a))return c.get(a);
const f=d.Si();for(const k of f.OM())if(k.xa()===a)return c||this.yx.set(d,new Map),this.yx.get(d).set(a,k),k}uO(a,d){d=d.Si();for(const c of d.OM())if(c.xa()>a)return c}fF(a,d){d=d.Si();for(const c of d.OM())if(c.xa()>=a)return c}gF(a,d){d=d.Si();for(const c of d.dia())if(c.xa()<=a)return c}*fia(){for(const a of this.uo)yield a}ma(){return{propertyTrackDataItemsJson:this.uo.map(a=>a.ma())}}pa(a){a&&e.Xg.Vv(this.uo,a.propertyTrackDataItemsJson,b,this)}}}
{"use strict";const e=self.B;class b{constructor(a,d){this.Ij=d;this.Yc=-1;this.uj="noease";this.vj=!1;this.mx=this.Qe=null;a&&(this.Yc=a[0],this.uj=a[1],this.vj=!!a[2],this.Qe=(a=a[3])?a.split(" "):[],this.mx=new Set(this.Qe.map(c=>c.toLowerCase())))}m(){this.Ij=null;e.F(this.Qe);this.Qe=null;this.mx.clear();this.mx=null}Pi(){return this.Ij}xa(){return this.Yc}Vg(a){this.Yc=a}Ym(){return this.uj}df(a){this.uj=a}Dl(){return this.vj}If(a){this.vj=!!a}Cv(a){this.Qe=a?a.split(" "):[];this.mx=new Set(this.Qe.map(d=>
d.toLowerCase()))}ma(){return{time:this.Yc,ease:this.uj,enable:this.vj,tags:this.Qe}}pa(a){a&&(this.Yc=a.time,this.uj=a.ease,this.vj=a.enable,this.Qe=a.tags,this.mx=new Set(this.Qe.map(d=>d.toLowerCase())))}}e.tP=class{constructor(a,d){this.ob=d;this.Uc=[];e.Xg.Kv(this.Uc,a,b,this)}m(){this.ob=null;for(const a of this.Uc)a.m();e.F(this.Uc);this.Uc=null}hY(){const a=new b(null,this);this.Uc.push(a);return a}SZ(a){for(const d of this.Uc){if(!a(d))continue;const c=this.Uc.indexOf(d);-1!==c&&(d.m(),this.Uc.splice(c,
1))}this.P7()}P7(){this.Uc.sort((a,d)=>a.xa()-d.xa())}k1(a){return this.Uc.indexOf(a)}j1(a){return this.Uc[a]}*xX(){for(const a of this.Uc)yield a}*Nha(){for(let a=this.Uc.length-1;0<=a;a--)yield this.Uc[a]}ma(){return{keyframeDataItemsJson:this.Uc.map(a=>a.ma())}}pa(a){a&&e.Xg.Vv(this.Uc,a.keyframeDataItemsJson,b,this)}}}
{"use strict";const e=self.B;class b{constructor(a,d){this.Vk=d;this.Rh=this.Gd=null;this.Aa="";this.Yc=NaN;this.uj="noease";this.vj=!1;this.lj=null;a&&(this.Gd=a[0][0],this.Rh=a[0][1],this.Aa=a[0][2],this.Yc=a[1],this.uj=a[2],this.vj=!!a[3],this.lj=null,a[4]&&(this.lj=new e.zY(a[4],this)))}m(){this.Vk=null;this.lj&&(this.lj.m(),this.lj=null)}Yb(){return this.Gd}ye(a){"color"===this.Aa&&e.Wi(a)?(this.Gd[0]=e.Dz(a),this.Gd[1]=e.yz(a),this.Gd[2]=e.jz(a)):this.Gd=a}Jr(a){"color"===this.Aa&&e.Wi(a)?(this.Rh[0]=
e.Dz(a),this.Rh[1]=e.yz(a),this.Rh[2]=e.jz(a)):this.Rh=a}Cc(){const a=this.Vk.Da.Ti();if("relative"===a)return this.Yb();if("absolute"===a)return this.Rh}hk(){return this.Aa}Fv(a){this.Aa=a}xa(){return this.Yc}Vg(a){this.Yc=a}Ym(){return this.uj}df(a){this.uj=a}Dl(){return this.vj}If(a){this.vj=!!a}XE(a){if(this.lj)for(const d of this.lj.Kga())if(d.Lg()===a)return d}ma(){const a=this.lj;return{addonDataJson:a?a.ma():a,value:this.Gd,aValue:this.Rh,type:this.Aa,time:this.Yc,ease:this.uj,enable:this.vj}}pa(a){a&&
(a.addonDataJson&&this.lj.Ysa(a.addonDataJson),this.Gd=a.value,this.Rh=a.aValue,this.Aa=a.type,this.Yc=a.time,this.uj=a.ease,this.vj=a.enable)}}e.hQ=class{constructor(a,d){this.Da=d;this.Vc=[];e.Xg.Kv(this.Vc,a,b,this)}m(){this.Da=null;for(const a of this.Vc)a.m();e.F(this.Vc);this.Vc=null}iY(){const a=new b(null,this);this.Vc.push(a);return a}UZ(a){for(const d of this.Vc){if(!a(d))continue;const c=this.Vc.indexOf(d);-1!==c&&(d.m(),this.Vc.splice(c,1))}this.Q7()}Q7(){this.Vc.sort((a,d)=>a.xa()-d.xa())}*OM(){for(const a of this.Vc)yield a}*dia(){for(let a=
this.Vc.length-1;0<=a;a--)yield this.Vc[a]}ma(){return{propertyKeyframeDataItemsJson:this.Vc.map(a=>a.ma())}}pa(a){a&&e.Xg.Vv(this.Vc,a.propertyKeyframeDataItemsJson,b,this)}}}
{"use strict";const e=self.B;class b{constructor(c,f){this.lj=f;this.Ie=c[0];this.$l=c[1]}m(){this.$l=this.lj=null}Lg(){return this.Ie}ma(){return{id:this.Ie,data:this.$l}}pa(c){c&&(this.Ie=c.id,this.$l=c.data)}}class a extends b{constructor(c,f){super(c,f);this.BL=this.$l[0];this.Mx=!!this.$l[1];this.AJ=this.$l[2];this.JB=!!this.$l[3]}m(){super.m()}ma(){return Object.assign(super.ma(),{startAnchor:this.BL,startEnable:!!this.Mx,endAnchor:this.AJ,endEnable:!!this.JB})}pa(c){c&&(super.pa(c),this.BL=
c.startAnchor,this.Mx=!!c.startEnable,this.AJ=c.endAnchor,this.JB=!!c.endEnable)}}class d extends b{constructor(c,f){super(c,f);this.tJ=this.$l[0];this.mL=this.$l[1]}m(){super.m()}ma(){return Object.assign(super.ma(),{direction:this.tJ,revolutions:this.mL})}pa(c){c&&(super.pa(c),this.tJ=c.direction,this.mL=c.revolutions)}}e.zY=class{constructor(c){this.Pp=[];e.Xg.Kv(this.Pp,c,{GX:0,map:new Map([["cubic-bezier",a],["angle",d]])},this)}m(){for(const c of this.Pp)c.m();e.F(this.Pp);this.Pp=null}*Kga(){for(const c of this.Pp)yield c}ma(){return{addonDataItemsJson:this.Pp.map(c=>
c.ma())}}pa(c){c&&e.Xg.Vv(this.Pp,c.addonDataItemsJson,{GX:"id",map:new Map([["cubic-bezier",a],["angle",d]])},this)}}}
{"use strict";const e=self.B;let b=0;e.ac=class extends e.Ld{constructor(a,d){super(`tween-${b++}`,a,d);this.Ie="";this.CB=!1;this.eC="start-value";this.bW=this.ux=null}Ea(){var a=this.wb;if(a&&a.length&&(a=a[0])){var d=a.Ea();return a.Jb()?d:null}}hN(a){this.ux||(this.ux=[]);this.ux.push(a)}nR(a,d){for(const c of this.wb)for(const f of c.fc){if(f.Da.ed!==d)continue;const k=f.Vd().Fu(f.Da);k.ye(a);k.Jr(a)}}DS(a){for(const d of this.wb)for(const c of d.fc)if(c.Da.ed===a)return c}zE(a){for(const f of a)a=
this.DS(f),this.nR(a.ve(),f);if(this.Ff()){var d=this.Lc()-this.xa();this.Ev(d);for(var c of this.wb)c.rA(d);this.Zd(0)}else{c=this.xa();this.Ev(c);for(d of this.wb)d.rA(c);this.Zd(c)}this.HG()}oA(a,d){d=this.DS(d);d=d.Vd().an(d.Da);d.Vg(this.Lc());d.ye(a);d.Jr(a)}V6(a){this.Ie=a}Lg(){return this.Ie}X6(a){this.eC=a}CG(a){this.CB=a}ZP(){if(this.bW)for(const a of this.bW)a(this);if(!this.Of)for(const a of this.wb)a.Ii()}NP(){this.ws=this.j.$k}cO(){if(!this.fq&&(this.fq=!0,this.ux))for(const a of this.ux)a(this)}Vg(a){this.eS();
super.Vg(a)}Cd(a){if(!this.ao&&"current-state"===this.eC)for(const d of this.wb)d.Hi();super.Cd(a)}Jd(a=!1){super.Jd(a);if(!this.Of)for(const d of this.wb)d.Cp()}Nc(a=!0,d=!1){this.eS();super.Nc(a,d)}eS(){for(const a of this.wb){const d=c=>{c=c.xa();const f=this.Lc();return 0!==c&&c!==f};a.TZ(d);a.PE(d)}}NA(){if(this.ne)return!0;const a=this.Ea();if(a&&a.J().Rg())return!1;this.yb.Wy(this);this.DQ();return!0}DP(){}Kd(){const a=this.Ea();super.Kd(this.I().Zj(a),1)}ma(){const a=super.ma();return Object.assign(a,
{tweenDataItemJson:this.sd.ma(),id:this.Ie,destroyInstanceOnComplete:this.CB,initialValueMode:this.eC})}pa(a){a&&(this.sd.pa(a.tweenDataItemJson),super.pa(a),this.Ie=a.id,this.CB=a.destroyInstanceOnComplete,this.eC=a.initialValueMode)}static IsPlaying(a){return a.IsPlaying()}static av(a){return a.av()}static wN(a){var d=a.ic.yb,c=new e.xR;if(a.json){c.pa(a.json.tweenDataItemJson);var f=new e.ac(c,d);f.pa(a.json);return f}d=new e.ac(c,d);e.kn(a.Xt)||(a.Xt=[a.Xt]);d.V6(a.id);d.Cv(a.lE);d.X6(a.Mt);d.CG(a.eE);
d.JG(a.loop);d.SG(a.aE);d.Ev(a.time);d.ZG(0);d.aj("default");d.rk(a.Xt[0].pl);c=d.yY();c.IG(a.instance.hc);c.aj("default");c.rk(a.Xt[0].pl);c.If(!0);c.OG(a.instance.J().Ha());var k=a.instance.ka,h=k.kk()?k.Ri():a.instance.A().X();k=k.kk()?k.Qi():a.instance.A().W();c.QG(h);c.PG(k);h=c.tE();h.Vg(0);h.df("noease");h.If(!0);h.Cv("");h=c.tE();h.Vg(a.time);h.df("noease");h.If(!0);h.Cv("");for(f of a.Xt)h=c.tY(),h.XG(f.au),h.o7(f.uia),h.k7(f.xf),h.l7(f.type),h.MG(NaN),h.LG(NaN),h.aj("default"),h.rk(f.pl),
h.If(!0),k=h.uE(),k.Fv(f.valueType),k.Vg(0),k.df(f.ll),k.If(!0),k.ye(f.Ei),k.Jr(f.Ei),h=h.uE(),h.Fv(f.valueType),h.Vg(a.time),h.df(f.ll),h.If(!0),h.ye(f.re),h.Jr(f.re);return d}}}
{"use strict";const e=self.B,b=self.cp;e.AR=class extends e.ja{constructor(a){super();this.Ia=a[0];this.si=[];for(const d of a[1])a=e.BR.Oa(this,d),this.si.push(a);this.xx=new Map;this.vD=new Map;this.Eca();b.gY(this.Ia,(d,c,f,k)=>this.nb(d,c,f,k))}static Oa(a){return e.D(e.AR,a)}m(){for(const a of this.si)a.m();e.F(this.si);this.si=null;this.xx.clear();this.xx=null;this.vD.clear();this.vD=null}Q1(a){const d=this.vD.get(a);if(d)return d;for(const c of this.si)if(c.tf===a)return this.vD.set(a,c),c}W0(a){for(const d of this.si)if(d.tf>
a)return d}V0(a){for(const d of this.si)if(d.tf>=a)return d}X0(a){for(let d=this.si.length-1;0<=d;d--){const c=this.si[d];if(c.tf<=a)return c}}nb(a,d,c,f){var k=a/f;(a=this.Q1(k))?f=this.W0(k):(a=this.X0(k),f=this.V0(k));k=e.Tha(k,a.tf,f.tf,f.tf-a.tf);const h=a.tf,l=a.fy,n=a.tf+a.HW,p=a.fy+a.zga,u=f.tf+f.LU,q=f.fy+f.Ifa,v=f.tf;f=f.fy;f=b.kp("spline")(k,h,l,n,p,u,q,v,f,this.xx.get(a));f+=a.fy;return(1-f)*d+f*(d+c)}Eca(){this.xx.clear();for(let d=0;d<this.si.length-1;d++){var a=this.si[d];if(!a.Mx)continue;
const c=this.si[d+1];this.xx.set(a,b.A0(a.tf,a.tf+a.HW,c.tf+c.LU,c.tf))}}}}{"use strict";const e=self.B;e.BR=class extends e.ja{constructor(b,a){super();this.tf=a[0];this.fy=a[1];this.HW=a[2];this.zga=a[3];this.LU=a[4];this.Ifa=a[5];this.Mx=a[6];this.JB=a[7]}m(){}static Oa(b,a){return e.D(e.BR,b,a)}}}{"use strict";const e=self.B;e.g8=class extends e.ja{constructor(b){super();this.j=b;this.wD=[]}m(){for(const b of this.wD)b.m();e.F(this.wD);this.wD=null}Oa(b){this.wD.push(e.AR.Oa(b))}}}
{"use strict";const e=self.B;e.O7=class extends e.ja{constructor(b){super();this.L=b;this.kb=[];this.kb.push(e.D(e.dH,this));this.Ua=0;this.qj=this.kb[0]}m(){for(const b of this.kb)b.m();e.F(this.kb);this.L=this.qj=null}J(){return this.L}V(){return this.qj}Zc(){this.V().Zc()}B5(){var b=this.kb,a=++this.Ua;a===b.length?(a=e.D(e.dH,this),b.push(a),this.qj=a):(b=b[a],b.Nc(),this.qj=b)}C5(){const b=this.kb,a=++this.Ua;a===b.length&&b.push(e.D(e.dH,this));const d=b[a];d.yZ(b[a-1]);this.qj=d}Ja(){this.qj=
this.kb[--this.Ua]}Ap(b){const a=this.kb;for(let d=0,c=a.length;d<c;++d)a[d].Ap(b)}}}
{"use strict";const e=self.B;e.dH=class extends e.ja{constructor(b){super();this.kb=b;this.L=this.kb.J();this.Nd=this.L.I().$c();this.Wb=!0;this.H=[];this.uc=[]}m(){this.Sy();this.Nd=this.L=this.kb=null}Sy(){e.F(this.H);e.F(this.uc)}J(){return this.L}DF(){return this.Wb?!!this.L.H.length:!!this.H.length}na(){return this.Wb?this.L.na():this.H}Z1(){return!!this.uc.length}eF(){const b=this.na();return b.length?b:this.uc}Nc(){this.Wb=!0;e.F(this.uc)}Zc(){this.Wb=!0}yZ(b){b.Wb?this.Nc():(this.Wb=!1,e.wd(this.H,
b.H),e.F(this.uc))}Lp(b){this.H.push(b)}Nn(b){this.uc.push(b)}Ce(b){this.Wb=!!b}sk(b){this.Wb=!1;e.F(this.H);this.H.push(b)}ov(b){this.Wb=!1;e.wd(this.H,b)}zv(b){this.Wb=!1;e.F(this.H);for(const a of b)this.H.push(a)}kN(b,a){for(const d of a)b.has(d)||this.uc.push(d)}e8(b){for(const a of b)this.H.push(a);e.rh(this.uc,b)}sn(b){b&&(this.Nd.ue().Fb().de?(this.Wb&&(e.F(this.H),e.wd(this.uc,b.J().na()),this.Wb=!1),b=this.uc.indexOf(b),-1!==b&&(this.H.push(this.uc[b]),this.uc.splice(b,1))):this.sk(b))}Ap(b){e.rh(this.H,
b);e.rh(this.uc,b)}}}
{"use strict";const e=self.B;e.g0=class extends e.ja{constructor(b){super();this.ta=b;this.j=this.ta.I();this.kb=[];this.kb.push(e.D(e.ZN,this,null));this.Ua=0;this.LB=[]}m(){for(const b of this.kb)b.m();e.F(this.kb);e.F(this.LB);this.j=this.ta=null}la(){return this.ta}I(){return this.j}ue(){return this.kb[this.Ua]}Na(b){var a=this.kb;const d=++this.Ua;if(d===a.length)return b=e.D(e.ZN,this,b),a.push(b),b;a=a[d];a.Nc(b);return a}Ja(){--this.Ua}D5(b){this.LB.push(b)}v5(){this.LB.pop()}E0(){const b=this.LB;
return 0===b.length?null:b.Se(-1)}}}
{"use strict";const e=self.B;e.ZN=class extends e.ja{constructor(b,a){super();this.kb=b;this.j=this.kb.I();this.ww=a;this.qg=this.Yl=0;this.zJ=this.sq=!1;this.EJ=null;this.NJ=this.XU=0}m(){this.Nc(null);this.j=this.kb=null}Nc(b){this.ww=b;this.qg=this.Yl=0;this.zJ=this.sq=!1}oI(b,a){this.ww=b;this.Yl=0;this.qg=a}EQ(){this.qg=this.Yl=0}Fb(){return this.ww}Ug(b){this.ww=b}Bn(b){this.Yl=b}lA(b){this.qg=b}Fn(b){this.sq=!!b}Pr(b){this.zJ=!!b}TQ(b){this.EJ=b}M2(b,a){this.XU=b;this.NJ=a}qA(b){this.NJ=b}lk(){const b=
this.ww;return b.wC?!0:this.Yl<b.cc.length-1?!!b.Ad().length:!1}}}{"use strict";const e=self.B;e.g4=class extends e.ja{constructor(b){super();this.ta=b;this.j=this.ta.I();this.kb=[];this.Ua=-1;this.qj=null;this.fC=[]}m(){e.F(this.kb);this.j=this.ta=null}nea(b){this.fC=b;b=this.fC.slice(0);this.kb.push(b);this.Ua=0;this.qj=b}la(){return this.ta}I(){return this.j}ir(){return this.qj}Na(){const b=++this.Ua,a=this.kb;b===a.length?a.push(this.fC.slice(0)):e.wd(a[b],this.fC);this.qj=a[b]}Ja(){this.qj=this.kb[--this.Ua]}}}
{"use strict";const e=self.B;e.i4=class extends e.ja{constructor(b){super();this.ta=b;this.j=this.ta.I();this.kb=[];this.Ua=-1}m(){e.F(this.kb);this.j=this.ta=null}la(){return this.ta}I(){return this.j}nP(){return 0<=this.Ua}ir(){return this.kb[this.Ua]}Na(){++this.Ua;if(this.Ua===this.kb.length){var b=e.D(e.h4,this);this.kb.push(b);return b}b=this.kb[this.Ua];b.Nc();return b}Ja(){--this.Ua}o0(b){const a=this.kb;for(let d=this.Ua;0<=d;--d){const c=a[d];if(c.wa()===b)return c}return null}}}
{"use strict";const e=self.B;e.h4=class extends e.ja{constructor(b){super();this.Vf=b;this.Ia="";this.Ua=0;this.Ec=!1}Nc(){this.Ia="";this.Ua=0;this.Ec=!1}sA(b){this.Ia=b}wa(){return this.Ia}Oc(b){this.Ua=b}Ha(){return this.Ua}Jd(){this.Ec=!0}}}{"use strict";const e=self.B;e.HY=class extends e.ja{constructor(){super();this.kb=[];this.Ua=-1}m(){e.F(this.kb)}ir(){return this.kb[this.Ua]}Na(){++this.Ua;if(this.Ua===this.kb.length){const b=[];this.kb.push(b);return b}return this.kb[this.Ua]}Ja(){--this.Ua}}}
{"use strict";const e=self.B;function b(a,d){return a.Ha()-d.Ha()}e.f0=class extends e.ja{constructor(a){super();this.j=a;this.hw=[];this.sL=new Map;this.TI=[];this.aV=new Map;this.hJ=new Map;this.nJ=new Map;this.fB=new Map;this.tU=new Map;this.CJ=new Map;this.oga=0;this.SI=[];this.lfa=[];this.NV=[];this.LJ=new Map;this.Nd=e.D(e.g0,this);this.Ed=e.D(e.g4,this);this.Vf=e.D(e.i4,this);this.ML=[];this.cD=[];this.bD=[];this.gJ=this.cm=this.ym=0;this.wg=[];this.mB=[];self.c3_callFunction=(d,c)=>this.MA(d,
c)}m(){this.Ry();this.Nd.m();this.Nd=null;this.Ed.m();this.Ed=null;e.F(this.cD);e.F(this.bD);this.j=null;e.F(this.hw);this.sL.clear()}Oa(a){a=e.D(e.e0,this,a);this.hw.push(a);this.sL.set(a.wa().toLowerCase(),a)}a9(a){this.ML.push(a)}Ob(){for(const a of this.LJ.values())a.Ob(!1);for(const a of this.hw)a.Ob();for(const a of this.hw)a.FI();for(const a of this.ML)a.Ob(!1);e.F(this.ML);this.Ed.nea(this.NV)}I(){return this.j}sO(a){return this.sL.get(a.toLowerCase())||null}Qca(a){this.TI.push(a);this.aV.set(a.$U,
a)}Nca(a){this.hJ.set(a.hb,a)}Mca(a){this.nJ.set(a.hb,a)}Lca(a){this.fB.set(a.hb,a)}Pca(a){this.LJ.set(a.WB.toLowerCase(),a)}Oca(a){this.CJ.set(a.hb,a);a.Rg()?this.SI.push(a):this.lfa.push(a)}BA(a){2<=a.length&&a.sort(b);let d=this.tU.get(a.length);d||(d=[],this.tU.set(a.length,d));for(let f=0,k=d.length;f<k;++f){const h=d[f];a:{for(let l=0,n=a.length;l<n;++l)if(a[l]!==h[l]){var c=!1;break a}c=!0}if(c)return h}d.push(a);return a}taa(a){this.NV.push(a.kq);return this.oga++}$c(){return this.Nd}Bf(){return this.$c().ue()}Fb(){return this.Bf().Fb()}Af(){const a=
this.Bf();return a.Fb().oO(a.Yl)}Cu(){const a=this.Bf();return a.Fb().gO(a.qg)}v0(a){const d=[];for(a=a.pr();a;)e.Km(d,a.tS()),a=a.pr();return d}CS(a){const d={};for(const c of this.v0(a))d[c.Oi()]=c.FS();return Object.create(Object.prototype,d)}dF(a){return this.CJ.get(a)||null}J0(a){return this.hJ.get(a)||null}t0(a){return this.fB.get(a)||null}wz(a){return this.LJ.get(a.toLowerCase())||null}d6(){for(const a of this.SI)a.j6()}rO(a){return this.aV.get(a.toLowerCase())||null}K0(a){return(a=this.hJ.get(a))&&
a.Fj?a:null}e6(){for(const a of this.TI)a.g6()}AT(){for(const a of this.hw)a.dda()}o6(a){this.AT();this.ym++;for(const d of a.Fy())if(a=d.dd)this.j.hv(d),a.ra(),this.j.gv();this.ym--}async NZ(a){this.AT();this.ym++;for(const d of this.c$(a))await this.j.gr(d);this.ym--}*c$(a){for(const d of a.Fy())if(a=d.dd)this.j.hv(d),yield*a.mb(),this.j.gv()}fw(a,d,c,f){let k=!1;if(!a.Nb())return this.mG(d,c,f);this.cm++;for(const h of a.Fy())if(a=h.dd){this.j.hv(h);for(const l of a.zB){const n=l.fw(d,c,f);k=k||
n}a=a.fw(d,c,f);k=k||a;this.j.gv()}this.cm--;return k}*ds(a,d,c,f){let k=!1;if(!a.Nb())return this.mG(d,c,f);this.cm++;for(const h of a.Fy())if(a=h.dd){this.j.hv(h);for(const l of a.zB){const n=yield*l.ds(d,c,f);k=k||n}a=yield*a.ds(d,c,f);k=k||a;this.j.gv()}this.cm--;return k}mG(a,d,c){this.cD.push([a,d,c]);return!1}H5(a,d,c){let f=null;const k=new Promise(h=>f=h);this.bD.push([a,d,c,f]);return k}*nda(){if(this.j.rr())throw Error("should not be in breakpoint");const a=this.j.cb;for(;this.bD.length;){const [d,
c,f,k]=this.bD.shift(),h=yield*this.ds(a,d,c,f);k(h)}}async GQ(){for(const a of this.nda())await this.j.gr(a)}Uz(){return 0<this.cm}Tv(){return++this.cm}Nv(){--this.cm}K3(){return 0<this.ym}Tz(){return this.K3()||this.Uz()}oda(a){for(const [d,c,f]of this.cD)this.fw(a,d,c,f);e.F(this.cD)}Ue(a){a?this.gJ++:this.gJ--}mP(){return 0<this.gJ}fr(a){for(let d=0,c=a.length;d<c;++d)a[d].xo.Zc()}Tg(a){for(let d=0,c=a.length;d<c;++d)a[d].xo.B5()}Yd(a){for(let d=0,c=a.length;d<c;++d)a[d].xo.C5()}Ab(a){for(let d=
0,c=a.length;d<c;++d)a[d].xo.Ja()}vE(){const a=e.D(e.zG,this);this.wg.push(a);return a}q6(){if(this.wg.length){var a=this.Bf(),d=!1;this.ym++;for(let c=0,f=this.wg.length;c<f;++c){const k=this.wg[c];k.dU()&&k.fda(a);k.Hx&&(d=!0)}d&&this.pS();this.ym--}}async PZ(){if(this.wg.length){var a=this.Bf(),d=!1;this.ym++;for(let c=0,f=this.wg.length;c<f;++c){const k=this.wg[c];k.dU()&&await k.W9(a);k.Hx&&(d=!0)}d&&this.pS();this.ym--}}pS(){const a=e.Sga(this.wg,d=>d.Hx);for(const d of a)d.m()}Ry(){for(const a of this.wg)a.m();
e.F(this.wg)}T5(a){for(const d of this.wg)d.Ap(a)}qE(a){this.mB.push(a)}Ty(){e.F(this.mB)}C1(){const a=Promise.all(this.mB);this.mB=[];return a}ma(){return{groups:this.yda(),cnds:this.vda(),acts:this.uda(),vars:this.Jda(),waits:this.Fda()}}pa(a){this.oba(a.groups);this.jba(a.cnds);this.iba(a.acts);this.Bba(a.vars);this.wba(a.waits)}yda(){const a={};for(const d of this.TI)a[d.hb.toString()]=d.$u();return a}oba(a){for(const [d,c]of Object.entries(a))(a=this.K0(parseInt(d,10)))&&a.Qr(c)}vda(){const a=
{};for(const [d,c]of this.nJ){const f=c.ma();f&&(a[d.toString()]=f)}return a}jba(a){const d=new Map;for(const [c,f]of Object.entries(a))d.set(parseInt(c,10),f);for(const [c,f]of this.nJ)f.pa(d.get(c)||null)}uda(){const a={};for(const [d,c]of this.fB){const f=c.ma();f&&(a[d.toString()]=f)}return a}iba(a){const d=new Map;for(const [c,f]of Object.entries(a))d.set(parseInt(c,10),f);for(const [c,f]of this.fB)f.pa(d.get(c)||null)}Jda(){const a={};for(const [d,c]of this.CJ)c.tb||!c.Rg()&&!c.ei||(a[d.toString()]=
c.Yb());return a}Bba(a){for(const [d,c]of Object.entries(a))(a=this.dF(parseInt(d,10)))&&a.ye(c)}Fda(){return this.wg.filter(a=>!a.I3()).map(a=>a.ma())}wba(a){this.Ry();for(const d of a)(a=e.zG.B9(this,d))&&this.wg.push(a)}VE(a){for(;a;)if(a=a.pr(),a instanceof e.yu)return a;return null}MA(a,d){Array.isArray(d)||(d=[]);a=this.wz(a.toLowerCase());if(!a)return null;if(!a.Fh())return a.Eu();var c=a.eh;if(d.length<c.length){d=d.slice(0);do d.push(c[d.length].kq);while(d.length<c.length)}c=a.Xe();return c.xG(c.Hd(),
a.wm,a.Eu(),...d)}}}
{"use strict";const e=self.B;e.e0=class extends e.ja{constructor(b,a){super();this.ta=b;this.j=b.I();this.Ia=a[0];this.KB=[];this.AD=new Map;this.RU=new Map;this.Jfa=new Map;this.Hw=!1;this.zW=[];this.zB=[];this.uU=new Set;for(const d of a[1])this.bS(d,null,this.KB);this.Mj=this.j.Cb?{type:"sheet",name:this.Ia,Hy:0,children:[]}:null}m(){this.j=this.ta=null}bS(b,a,d){switch(b[0]){case 0:case 3:this.z9(b,a,d);break;case 1:this.A9(b,a,d);break;case 2:this.E9(b,a,d);break;case 4:this.C9(b,a);break;case 5:this.J9(b,
a,d);break;default:throw Error("invalid event type");}}z9(b,a,d){b=e.wl.Oa(this,a,b);if(b.de){d.push(b);d=b.cc;for(let c=0,f=d.length;c<f;++c)d[c].vp()&&this.RS(b,c)}else b.vp()?this.RS(b,0):d.push(b)}C9(b,a){b=e.yu.Oa(this,a,b);this.ta.Pca(b)}A9(b,a,d){b=e.fz.Oa(this,a,b);d.push(b)}E9(b,a,d){b=e.YN.Oa(this,a,b);d.push(b)}J9(b,a,d){b=e.ez.Oa(this,a,b);d.push(b)}RS(b,a){b.de||this.ta.a9(b);var d=b.oO(a),c=d.Ka,f=d.J();if(d.uV){var k=this.RU.get(f);k||(k=new Map,this.RU.set(f,k));d=d.O0().toLowerCase();
f=k.get(c);f||(f=new Map,k.set(c,f));c=f.get(d);c||(c=[],f.set(d,c));c.push([b,a])}else k=this.AD.get(f),k||(k={zM:new Map,ky:new Map},this.AD.set(f,k)),(f=d.Ig())?(d=k.ky.get(f),d||(d=new Map,k.ky.set(f,d))):d=k.zM,k=d.get(c),k||(k=[],d.set(c,k)),k.push([b,a])}Ob(){const b=this.KB;for(let a=0,d=b.length;a<d;++a)b[a].Ob(a<d-1&&b[a+1]instanceof e.wl&&b[a+1].Sz())}Y8(b){this.zW.push(b)}FI(){e.F(this.zB);this.NR(this);this.uU.clear()}NR(b){const a=b.zB,d=b.uU;for(const c of this.zW){const f=c.Mw;c.Lb&&
b!==f&&!d.has(f)&&(d.add(f),f.NR(b),a.push(f))}}la(){return this.ta}I(){return this.j}wa(){return this.Ia}tT(b,a){this.Jfa.set(a,b)}dda(){this.Hw=!1}ra(){if(!this.Hw){var b=this.j,a=b.MF(),d=a?performance.now():0;this.Hw=!0;var c=this.la(),f=c.Bf();for(const k of this.KB)k.ra(f),c.fr(k.Ad()),c.Ty(),b.he();f.Nc(null);a&&(this.Mj.Hy+=performance.now()-d)}}*mb(){if(!this.Hw){this.Hw=!0;var b=this.j,a=this.la(),d=a.Bf();for(const c of this.KB)yield*c.mb(d),a.fr(c.Ad()),a.Ty(),b.he();d.Nc(null)}}fw(b,
a,d){if(a){const c=a.J();this.DI(b,a,c,d);for(const f of c.Zh)this.DI(b,a,f,d)}else return this.DI(b,a,null,null)}DI(b,a,d,c){d=this.AD.get(d);if(!d)return!1;c=c?d.ky.get(c):d.zM;if(!c)return!1;c=c.get(b);if(!c)return!1;b=!1;for(const [f,k]of c)c=this.oS(a,f,k),b=b||c;return b}*ds(b,a,d){if(a){const c=a.J();yield*this.FH(b,a,c,d);for(const f of c.Zh)yield*this.FH(b,a,f,d)}else return yield*this.FH(b,a,null,null)}*FH(b,a,d,c){d=this.AD.get(d);if(!d)return!1;c=c?d.ky.get(c):d.zM;if(!c)return!1;c=c.get(b);
if(!c)return!1;b=!1;for(const [f,k]of c)c=f.Ve()?this.oS(a,f,k):yield*this.Q9(a,f,k),b=b||c;return b}oS(b,a,d){const c=this.j,f=this.ta,k=f.Fb(),h=f.$c(),l=f.cm;let n=!1;k&&f.Tg(k.Hd());f.Tg(a.Hd());const p=1<l;p&&f.Ed.Na();const u=h.Na(a);b&&(a.cc[d].J().V().sk(b),b.Zb()&&b.bj());b=!0;if(a.Fa()){const q=a.Qq;for(let v=0,r=q.length;v<r;++v)if(!q[v].FQ(u)){b=!1;break}}b&&(c.Jl(),a.de?a.p6(u,d):a.ra(u),n=u.sq);h.Ja();p&&f.Ed.Ja();f.Ab(a.Hd());k&&f.Ab(k.Hd());k||1!==l||(f.Ty(),f.mP()||c.he());return n}*Q9(b,
a,d){const c=this.j,f=this.ta,k=f.Fb(),h=f.$c(),l=f.cm;let n=!1;k&&f.Tg(k.Hd());f.Tg(a.Hd());const p=1<l;p&&f.Ed.Na();const u=h.Na(a);b&&(a.cc[d].J().V().sk(b),b.Zb()&&b.bj());b=!0;if(a.Fa()){const q=a.Qq;for(let v=0,r=q.length;v<r;++v)if(!(yield*q[v].SN(u))){b=!1;break}}b&&(c.Jl(),a.de?yield*a.OZ(u,d):yield*a.mb(u),n=u.sq);h.Ja();p&&f.Ed.Ja();f.Ab(a.Hd());k&&f.Ab(k.Hd());k||1!==l||(f.Ty(),f.mP()||c.he());return n}}}
{"use strict";const e=self.B,b=[];function a(){return!0}function*d(){return!0}e.wl=class extends e.ja{constructor(c,f,k){super();this.dd=c;this.j=c.I();this.Jc=f;this.oe=null;this.Nd=this.j.la().$c();this.qf=[];this.zt=[];this.Ew=this.yC=this.wC=this.fV=!1;this.de=!!k[2];this.lC=!1;this.Qq=null;this.cc=[];this.ah=[];this.ri=[];this.jj=a;this.Gp=d;this.lK=this.Fj=!1;this.$U="";this.nC=!1;this.Mj=this.xB=null;this.hb=k[4];this.Es=k[5];this.dd.tT(this,this.Es);this.Ra=this.j.Cb?{ld:k[3][0],uM:k[3][1],
cX:!1,fM:!1,gM:!1,dX:!1}:null;this.la().Nca(this);3===k[0]&&this.Paa(k[1]);c=0;for(var h of k[6])f=e.JN.Oa(this,h,c++),this.cc.push(f),this.SR(f.J());c=0;for(const l of k[7])h=e.My.Oa(this,l,c++),this.ah.push(h);if(9===k.length){k=k[8];for(const l of k)this.dd.bS(l,this,this.ri)}this.cc.length&&(this.lC=null===this.cc[0].J()&&this.cc[0].Ka===e.C.Ta.G.$_);0===this.cc.length&&(this.cc=b);0===this.ah.length&&(this.ah=b);0===this.ri.length&&(this.ri=b)}static Oa(c,f,k){return e.D(e.wl,c,f,k)}Paa(c){this.Fj=
!0;this.nC=this.lK=!!c[0];this.$U=c[1].toLowerCase();this.xB=[];this.la().Qca(this);this.j.Cb&&(this.Mj={type:"group",name:c[1],Hy:0,children:[]})}P8(c){this.xB.push(c)}MR(c,f){for(const k of c.dh.qm)f.includes(k)||f.push(k)}TR(c,f){if(c)if(f.includes(c)||f.push(c),c.Wa)for(const k of c.eq)k.Zb()&&this.MR(k,f);else c.Zb()&&this.MR(c,f)}SR(c){this.TR(c,this.qf)}U8(c){this.TR(c,this.zt)}w6(){this.qf=this.j.bd}Ob(c){this.Ew=!!c;this.Jaa();this.Kaa();for(const k of this.cc)k.Ob();if(0<this.ah.length){c=
!1;for(var f of this.ah)f.Ob(),f.h2()&&(c=!0);c?(this.jj=this.hda,this.Gp=this.Y9):(this.jj=this.gda,this.Gp=this.X9)}f=this.ri;for(let k=0,h=f.length;k<h;++k)f[k].Ob(k<h-1&&f[k+1]instanceof e.wl&&f[k+1].Sz());this.Ra&&this.Uea();this.Mj&&this.vaa().Mj.children.push(this.Mj)}vaa(){let c=this.Fa();for(;c;){if(c.Fj)return c;c=c.Fa()}return this.dd}Uea(){const c=this.Ra;c.cX=this.cc.every(f=>f.Ve());c.fM=this.ah.every(f=>f.Ve());c.gM=this.ri.every(f=>f.Ve());c.dX=c.cX&&c.fM&&c.gM}Jaa(){if(this.Fj){var c=
this.Fa();for(this.yC=!0;c;){if(!c.Fj){this.yC=!1;break}c=c.Fa()}}}Iaa(){var c=this.j.bd;if(this.qf===c)this.zt=c;else{this.zt=e.iM(this.qf);for(c=this.Fa();c;){for(var f of c.qf)this.U8(f);c=c.Fa()}f=this.la();this.qf=f.BA(this.qf);this.zt=f.BA(this.zt)}}Kaa(){if(this.a2()){this.Qq=[];for(var c=this.Fa();c;)this.Qq.push(c),c=c.Fa();this.Qq.reverse()}}Av(){this.wC=!0;this.Jc&&this.Jc.Av()}Ad(){return this.qf}Hd(){this.fV||(this.fV=!0,this.Iaa());return this.zt}j2(c){return this.qf.includes(c)}la(){return this.dd.la()}I(){return this.j}Fa(){return this.Jc}uea(c){this.oe=
c}pr(){return this.oe||this.Jc}OF(){return this.Ra&&this.Ra.uM}tp(){return this.OF()&&this.Ra.ld}Sz(){return this.lC}$u(){return this.nC}g6(){this.Qr(this.lK)}Qr(c){c=!!c;if(!this.Fj)throw Error("not a group");if(this.nC!==c){this.nC=c;for(const f of this.xB)f.CR();this.xB.length&&(c=this.j.Ma().dd)&&c.FI()}}vp(){return this.cc.length&&this.cc[0].vp()}B3(){return this.oe&&this.oe instanceof e.yu}a2(){return this.B3()||this.cc.some(c=>c.vp())}oO(c){c=Math.floor(c);if(0>c||c>=this.cc.length)throw new RangeError("invalid condition index");
return this.cc[c]}A3(c){let f=c.Ha();if(0===f)return!0;for(--f;0<=f;--f)if(this.cc[f].J()===c.J())return!1;return!0}gO(c){c=Math.floor(c);if(0>c||c>=this.ah.length)throw new RangeError("invalid action index");return this.ah[c]}Gaa(c){c=Math.floor(c);return 0<=c&&c<this.ah.length}tS(){return this.ri.filter(c=>c instanceof e.fz)}FQ(c){c.Ug(this);let f=!1;const k=this.cc;for(let h=0,l=k.length;h<l;++h){const n=k[h];c.Bn(h);if(n.oC)throw Error("trigger cannot be used as sub-event to a loop");if(n.ra())f=
!0;else if(!this.de)return!1}return this.de?f:!0}p6(c,f){c.Ug(this);this.cc[f].ra()&&(this.jj(c,0)&&this.Ul(),c.Fn(!0))}*SN(c){c.Ug(this);let f=!1;const k=this.cc;for(let h=0,l=k.length;h<l;++h){const n=k[h];c.Bn(h);if(n.oC)throw Error("trigger cannot be used as sub-event to a loop");if(n.Ve()?n.ra():yield*n.mb())f=!0;else if(!this.de)return!1}return this.de?f:!0}*OZ(c,f){c.Ug(this);f=this.cc[f];if(f.Ve()?f.ra():yield*f.mb())(this.az()?this.jj(c,0):yield*this.Gp(c,0))&&(this.bz()?this.Ul():yield*this.Mv()),
c.Fn(!0)}ra(c){c.Ug(this);this.lC||c.Pr(!1);this.de?this.mda(c):this.TA(c)}*mb(c){if(this.tp()||this.j.zc())yield this;c.Ug(this);this.lC||c.Pr(!1);this.de?yield*this.j$(c):yield*this.CH(c)}mda(c){const f=this.cc;let k=0===f.length;for(let l=0,n=f.length;l<n;++l){var h=f[l];h.vp()||(c.Bn(l),h=h.ra(),k=k||h)}c.Fn(k);k&&(this.jj(c,0)&&this.Ul(),this.Ew&&c.Pr(!0))}*j$(c){const f=this.cc;let k=0===f.length;for(let l=0,n=f.length;l<n;++l){var h=f[l];h.vp()||(c.Bn(l),h=h.Ve()?h.ra():yield*h.mb(),k=k||h)}c.Fn(k);
k&&((this.az()?this.jj(c,0):yield*this.Gp(c,0))&&(this.bz()?this.Ul():yield*this.Mv()),this.Ew&&c.Pr(!0))}TA(c){const f=this.cc;for(let k=0,h=f.length;k<h;++k){const l=f[k];c.Bn(k);if(!l.ra()){c.Fn(!1);return}}c.Fn(!0);this.jj(c,0)&&this.Ul();c.sq&&this.Ew&&c.Pr(!0)}*CH(c){const f=this.cc;for(let k=0,h=f.length;k<h;++k){const l=f[k];c.Bn(k);if(l.Ve()?!l.ra():!(yield*l.mb())){c.Fn(!1);return}}c.Fn(!0);(this.az()?this.jj(c,0):yield*this.Gp(c,0))&&(this.bz()?this.Ul():yield*this.Mv());c.sq&&this.Ew&&
c.Pr(!0)}gda(c,f){const k=this.ah;for(let h=f,l=k.length;h<l;++h)f=k[h],c.lA(h),f.ra();return!0}*X9(c,f){const k=this.ah;for(let h=f,l=k.length;h<l;++h)f=k[h],c.lA(h),f.Ve()?f.ra():yield*f.mb();return!0}hda(c,f){const k=this.la(),h=this.ah;for(let l=f,n=h.length;l<n;++l){f=h[l];c.lA(l);const p=f.ra();if(f.AN()&&!0===p)return!1;f.Pg()&&p instanceof Promise&&k.qE(p)}return!0}*Y9(c,f){const k=this.la(),h=this.ah;for(let l=f,n=h.length;l<n;++l){f=h[l];c.lA(l);let p;p=f.Ve()?f.ra():yield*f.mb();if(f.AN()&&
!0===p)return!1;f.Pg()&&p instanceof Promise&&k.qE(p)}return!0}eda(c){this.jj(c,c.qg)&&this.Ul()}*V9(c){if(yield*this.Gp(c,c.qg))yield*this.Mv()}Ul(){if(this.ri.length){var c=this.Fj&&this.j.MF(),f=c?performance.now():0,k=this.Nd,h=k.Na(this);this.wC?this.rda(h):this.qda(h);k.Ja();c&&(this.Mj.Hy+=performance.now()-f)}}rda(c){const f=this.Fj,k=this.yC,h=this.la(),l=this.ri;for(let n=0,p=l.length,u=p-1;n<p;++n){const q=l[n],v=q.Ad(),r=!k||!f&&n<u;r&&h.Yd(v);q.ra(c);r?h.Ab(v):h.fr(v)}}qda(c){const f=
this.ri;for(let k=0,h=f.length;k<h;++k)f[k].ra(c)}*Mv(){if(this.ri.length){var c=this.Nd,f=c.Na(this);this.wC?yield*this.m$(f):yield*this.l$(f);c.Ja()}}*m$(c){const f=this.Fj,k=this.yC,h=this.la(),l=this.ri;for(let n=0,p=l.length,u=p-1;n<p;++n){const q=l[n],v=q.Ad(),r=!k||!f&&n<u;r&&h.Yd(v);yield*q.mb(c);r?h.Ab(v):h.fr(v)}}*l$(c){const f=this.ri;for(let k=0,h=f.length;k<h;++k)yield*f[k].mb(c)}cf(c,f){this.j.Jl();f.EQ();const k=this.cc;if(!this.de)for(let h=c.Yl+1,l=k.length;h<l;++h)if(c=k[h],f.Bn(h),
!c.ra())return!1;this.jj(f,0)&&this.Ul();return!0}*Fg(c,f){this.j.Jl();f.EQ();const k=this.cc;if(!this.de)for(let h=c.Yl+1,l=k.length;h<l;++h)if(c=k[h],f.Bn(h),c.Ve()?!c.ra():!(yield*c.mb()))return!1;(this.az()?this.jj(f,0):yield*this.Gp(f,0))&&(this.bz()?this.Ul():yield*this.Mv());return!0}Ve(){return!this.tp()&&!this.j.zc()&&this.Ra.dX}az(){return!this.j.zc()&&this.Ra.fM}bz(){return!this.j.zc()&&this.Ra.gM}wH(c){if(this.Fa()){const f=this.Qq;for(let k=0,h=f.length;k<h;++k)if(!f[k].FQ(c))return!1}return!0}*cS(c){if(this.Fa()){const f=
this.Qq;for(let k=0,h=f.length;k<h;++k)if(!(yield*f[k].SN(c)))return!1}return!0}nS(c,f,k){0<f.length?k?(f=f.map(h=>h.$(0)),c.Ed.Na(),this.oe.tv(f)):this.oe.d0(f):k&&c.Ed.Na()}m6(c,f){let k,h;const l=0<c.length;var n=this.j;const p=this.Nd,u=n.la(),q=1<u.Tv();this.nS(u,f,q);l&&u.Tg(c);f=p.Na(this);this.wH(f)&&(n.Jl(),f.Ug(this),(n=this.oe.Pg())&&([h,k]=this.oe.gH()),this.TA(f),n&&this.oe.cv(h));p.Ja();q&&u.Ed.Ja();l&&u.Ab(c);u.Nv();return k}*LZ(c,f){let k,h;if(this.tp()||this.j.zc())yield this;const l=
0<c.length;var n=this.j;const p=this.Nd,u=n.la(),q=1<u.Tv();this.nS(u,f,q);l&&u.Tg(c);f=p.Na(this);if(yield*this.cS(f))n.Jl(),f.Ug(this),(n=this.oe.Pg())&&([h,k]=this.oe.gH()),yield*this.CH(f),n&&this.oe.cv(h);p.Ja();q&&u.Ed.Ja();l&&u.Ab(c);u.Nv();return k}n6(c){const f=this.Hd(),k=0<f.length,h=this.j,l=this.Nd,n=h.la(),p=1<n.Tv();p&&n.Ed.Na();this.oe.tv(c);k&&n.Tg(f);c=l.Na(this);this.wH(c)&&(h.Jl(),c.Ug(this),this.TA(c));l.Ja();p&&n.Ed.Ja();k&&n.Ab(f);n.Nv()}*MZ(c){if(this.tp()||this.j.zc())yield this;
const f=this.Hd(),k=0<f.length,h=this.j,l=this.Nd,n=h.la(),p=1<n.Tv();p&&n.Ed.Na();this.oe.tv(c);k&&n.Tg(f);c=l.Na(this);if(yield*this.cS(c))h.Jl(),c.Ug(this),yield*this.CH(c);l.Ja();p&&n.Ed.Ja();k&&n.Ab(f);n.Nv()}xG(c,f,k,...h){let l,n;const p=0<c.length,u=this.j,q=this.Nd,v=u.la(),r=1<v.Tv();r&&v.Ed.Na();0<h.length&&this.oe.tv(h);p&&v.Tg(c);h=q.Na(this);h.M2(f,k);q.D5(h);u.Nr(!1);this.wH(h)&&(u.Jl(),h.Ug(this),(f=this.oe.Pg())&&([n,l]=this.oe.gH()),this.TA(h),f&&this.oe.cv(n));u.Nr(!0);q.Ja();q.v5();
r&&v.Ed.Ja();p&&v.Ab(c);v.Nv();return l||h.NJ}}}
{"use strict";const e=self.B,b=[];let a=!1;e.ez=class extends e.ja{constructor(d,c,f){super();const k=d.I(),h=d.la();this.dd=d;this.ta=h;this.j=d.I();this.Jc=c;this.Ka=k.Dh(f[1]);this.Es=f[2];this.dd.tT(this,this.Es);this.Ra=k.Cb?{ld:f[3][0],uM:f[3][1]}:null}static Oa(d,c,f){return e.D(e.ez,d,c,f)}Ob(){const d=this.Ka,c=this.j.la().CS(this);this.Ka=d.bind(null,this.j.Dj,c)}Fa(){return this.Jc}pr(){return this.Jc}OF(){return this.Ra&&this.Ra.uM}tp(){return this.OF()&&this.Ra.ld}Sz(){return!1}Ad(){return b}Hd(){return this.Jc?
this.Jc.Hd():b}ra(d){d.Ug(this);this.ta.qE(this.sda())}async sda(){try{await this.Ka()}catch(d){console.error(`Unhandled exception running script %c${this.dd.wa()}, event ${this.Es}:`,"font-size: 1.2em; font-weight: bold;",d),self.xh&&self.xh.pea(this),a||(console.info("%cTip:%c run this to highlight in Construct the last script that had an error: %cgoToLastErrorScript()","font-weight: bold; text-decoration: underline","","font-weight: bold"),a=!0)}}*mb(d){d.Ug(this);if(this.tp()||this.j.zc())yield this;
this.ra(d)}Ve(){return!this.tp()&&!this.j.zc()}static V1(){return a}static T6(){a=!0}}}
{"use strict";const e=self.B;e.yu=class extends e.ja{constructor(b,a,d){super();this.dd=b;this.j=b.I();this.Jc=a;const c=d[1];this.WB=c[0];this.wm=c[1];this.eh=c[2].map(f=>e.fz.Oa(b,this,f));this.dc=c[3];this.$J=[];this.Qw=c[4];this.kga=0;this.vw=-1;this.kw=new Map;this.je=e.wl.Oa(b,a,d);this.je.uea(this)}static Oa(b,a,d){return e.D(e.yu,b,a,d)}Ob(){for(const b of this.eh)b.Ob();this.je.Ob(!1)}tS(){return this.eh}Rca(b){this.$J.push(b)}d0(b){const a=this.eh;for(let d=0,c=a.length;d<c;++d)a[d].ye(b[d].$(0))}tv(b){const a=
this.eh;for(let d=0,c=a.length;d<c;++d)a[d].ye(b[d])}$Y(){return this.eh.map(b=>b.Yb())}Fa(){return this.Jc}pr(){return this.Jc}Fh(){return this.dc}Eu(){switch(this.wm){case 0:return null;case 2:return"";default:return 0}}Xe(){return this.je}Pg(){return this.Qw}gH(){const b=this.kga++;this.vw=b;let a;const d=new Promise(c=>a=c);this.kw.set(b,{resolve:a,HM:0});return[b,d]}cv(b){const a=this.kw.get(b);0===a.HM&&(a.resolve(),this.kw.delete(b));this.vw=-1}q5(){this.kw.get(this.vw).HM++;return this.vw}l6(b){this.vw=
b;this.kw.get(b).HM--}}}
{"use strict";const e=self.B,b=[];e.fz=class extends e.ja{constructor(a,d,c){super();const f=a.la();this.dd=a;this.ta=f;this.j=a.I();this.Jc=d;this.Ed=f.Ed;this.Ia=c[1];this.Aa=c[2];this.kq=c[3];this.ei=!!c[4];this.tb=!!c[5];this.Vfa=d instanceof e.yu;this.hb=c[6];this.$w=this.j.Oi(c[8]);this.yga=k=>this.ye(k);this.wga=()=>this.Yb();this.hV=!this.Jc||this.ei||this.tb;this.Gd=this.kq;this.JK=-1;this.hP()&&(this.Gd=this.Gd?1:0);!this.VF()||this.ei||this.tb||(this.JK=f.taa(this));f.Oca(this)}static Oa(a,
d,c){return e.D(e.fz,a,d,c)}Ob(){if(this.VF()&&!this.ei&&!this.tb&&!this.Vfa){const a=this.ta.VE(this);a&&a.Rca(this)}}wa(){return this.Ia}Oi(){return this.$w}Fa(){return this.Jc}pr(){return this.Fa()}Rg(){return!this.Fa()}VF(){return!this.Rg()}pn(){return 0===this.Aa}Hh(){return 1===this.Aa}hP(){return 2===this.Aa}Sz(){return!1}Ad(){return b}ra(){!this.VF()||this.ei||this.tb||this.ye(this.kq)}Ve(){return!0}*mb(a){this.ra(a)}ye(a){this.pn()?"number"!==typeof a&&(a=parseFloat(a)):this.Hh()?"string"!==
typeof a&&(a=a.toString()):this.hP()&&(a=a?1:0);this.hV?this.Gd=a:this.Ed.ir()[this.JK]=a}Yb(){return this.hV?this.Gd:this.Ed.ir()[this.JK]}j6(){this.Gd=this.kq}FS(){return{configurable:!1,enumerable:!0,get:this.wga,set:this.yga}}}}
{"use strict";const e=self.B,b=[];e.YN=class extends e.ja{constructor(a,d,c){super();const f=a.la();this.dd=a;this.ta=f;this.j=a.I();this.Jc=d;this.Mw=null;this.Pfa=c[1];this.Lb=!0}static Oa(a,d,c){return e.D(e.YN,a,d,c)}Ob(){this.Mw=this.ta.sO(this.Pfa);this.dd.Y8(this);let a=this.Fa();for(;a;)a instanceof e.wl&&a.Fj&&a.P8(this),a=a.Fa();this.CR();this.j.Cb&&this.dd.Mj.children.push(this.Mw.Mj)}Fa(){return this.Jc}Ad(){return b}ra(){const a=!!this.Fa(),d=this.j.bd;a&&this.ta.Tg(d);this.Mw.ra();a&&
this.ta.Ab(d)}*mb(){const a=!!this.Fa(),d=this.j.bd;a&&this.ta.Tg(d);yield*this.Mw.mb();a&&this.ta.Ab(d)}Ve(){return!1}CR(){let a=this.Fa();for(;a;){if(a instanceof e.wl&&a.Fj&&!a.$u()){this.Lb=!1;return}a=a.Fa()}this.Lb=!0}}}
{"use strict";const e=self.B;e.ep=class extends e.ja{constructor(l){super();this.Vb=l;this.j=l.I()}Ob(){}static FZ(l,n){return e.D([k,c,f,h,b,a][n[0]],l,n)}};class b extends e.ep{constructor(l,n){super(l);this.Pd=this.j.Ou();this.Ka=this.j.Dh(n[1]);this.Ka!==e.C.Ta.sb.random&&this.Ka!==e.C.Ta.sb.eX||this.Vb.cH()}zd(){return this.Pd.yk(this.Ka,this.Pd)}}class a extends e.ep{constructor(l,n){super(l);this.Ls=null;this.WB=n[1];this.Vb.cH()}Ob(){const l=this.j.la();this.Ls=l.wz(this.WB);this.WB=null;
const n=this.Ls.Xe();this.Zl=[...new Set([...this.Vb.Xe().Hd(),...n.Hd()])];this.Zl=l.BA(this.Zl)}zd(){const l=this.Ls;if(l.Fh())return e.wl.prototype.xG.bind(l.Xe(),this.Zl,l.wm,l.Eu());{const n=l.Eu();return()=>n}}}function d(l,n){if(l>=n)return l%n;0>l&&(l<=-n&&(l%=n),0>l&&(l+=n));return l}class c extends e.ep{constructor(l,n){super(l);this.L=this.j.Cf(n[1]);this.Ka=this.j.Dh(n[2]);this.Bx=!!n[3];this.Nd=this.j.la().$c();this.Vb.dI(this.L)}zd(){return this.L.Gb().yk(this.Ka,this.L.fk().ka)}Wm(...l){const n=
this.L,p=n.V().eF();var u=p.length;if(0===u)return this.Bx?"":0;u=d(this.Vb.yt,u);this.Nd.ue().TQ(n);return this.Ka.apply(p[u].ka,l)}}class f extends e.ep{constructor(l,n){super(l);this.L=this.j.Cf(n[1]);this.Hga=n[3];this.Bx=!!n[2];this.Vb.dI(this.L)}$N(){const l=this.L.V().eF();var n=l.length;if(0===n)return this.Bx?"":0;n=d(this.Vb.yt,n);return l[n].paa(this.Hga)}}class k extends e.ep{constructor(l,n){super(l);this.L=this.j.Cf(n[1]);this.Rc=this.L.kz(n[2]);this.Th=this.L.Bu(n[2]);this.Ka=this.j.Dh(n[3]);
this.Bx=!!n[4];this.Nd=this.j.la().$c();this.Vb.dI(this.L)}j0(){const l=this.L;var n=l.V().eF(),p=n.length;if(0===p)return this.Bx?"":0;p=d(this.Vb.yt,p);this.Nd.ue().TQ(l);n=n[p];p=0;l.Wa&&(p=n.J().Zm(l.$h));return this.Ka.apply(n.Ic[this.Th+p].ka,[])}}class h extends e.ep{constructor(l,n){super(l);this.lf=null;this.BJ=n[1]}Ob(){this.lf=this.j.la().dF(this.BJ)}}}
{"use strict";const e=self.B;e.bf=class extends e.ja{constructor(z,E,G){super();this.Vb=z;this.Ua=G;this.Aa=E;this.$=null;this.tb=this.uf=!1}static Oa(z,E,G){const P=E[0];return e.D([a,d,p,f,h,c,l,a,f,f,u,q,p,r,d,n,k,v,w,y][P],z,P,G,E)}Ob(){}cH(){this.uf=!0}dI(z){this.uf||!z||z.Gb().bo||(this.uf=!0)}Ha(){return this.Ua}I(){return this.Vb.I()}Xe(){return this.Vb.Xe()}};function b(z){z=self.RY[z];if(!z)throw Error("invalid expression number");return z}class a extends e.bf{constructor(z,E,G,P){super(z,
E,G);this.yt=0;z=P[1];this.DJ=z[0];this.jt=[];this.MB=null;for(let C=1,H=z.length;C<H;++C)this.jt.push(e.ep.FZ(this,z[C]));this.jt.length?this.$=this.M0:(this.$=b(this.DJ),this.tb=!0)}bb(z){if(0>z||z>=this.jt.length)throw new RangeError("invalid numbered node");return this.jt[z]}Ob(){for(var z of this.jt)z.Ob();z=b(this.DJ);this.MB=this.jt.length?z(this):z}M0(z){this.yt=z;return this.MB()}}class d extends a{constructor(z,E,G,P){super(z,E,G,P);this.$=this.J1;14===E&&(this.Xe().w6(),this.Vb instanceof
e.My&&this.Xe().Av())}J1(z){this.yt=z;z=this.MB();return"string"===typeof z?z:""}maa(){return b(this.DJ)()}}class c extends a{constructor(z,E,G,P){super(z,E,G,P);this.$=this.Z;this.tb=!1}Z(z){this.yt=z;z=this.MB();return this.I().Ma().Z(z)}}class f extends e.bf{constructor(z,E,G,P){super(z,E,G);this.Afa=P[1];this.$=this.D0;this.tb=!0}D0(){return this.Afa}}class k extends e.bf{constructor(z,E,G,P){super(z,E,G);this.qfa=P[1];this.$=this.B0;this.tb=!0}B0(){return this.qfa}}class h extends e.bf{constructor(z,
E,G,P){super(z,E,G);this.L=this.I().Cf(P[1]);this.$=this.J;z=this.Xe();z.SR(this.L);this.Vb instanceof e.My?z.Av():z.Fa()&&z.Fa().Av();this.tb=!0}J(){return this.L}}class l extends e.bf{constructor(z,E,G,P){super(z,E,G);this.Kj=this.I().cb.lr(P[1]);this.$=this.kc;this.tb=!0}kc(){return this.Kj}}class n extends e.bf{constructor(z,E,G,P){super(z,E,G);this.Bo=this.I().yb.Iz(P[1]);this.$=this.Bc;this.tb=!0}Bc(){return this.Bo}}class p extends e.bf{constructor(z,E,G,P){super(z,E,G);this.Kfa=P[1];this.$=
this.P0;this.tb=!0}P0(){return this.Kfa}}class u extends e.bf{constructor(z,E,G,P){super(z,E,G);this.rV=P[1];(z=this.Vb.J())&&z.Wa?(this.$=this.N0,this.cH()):(this.$=this.d1,this.tb=!0)}d1(){return this.rV}N0(z){z=z||0;const E=this.Vb.J();var G=E.V();const P=G.na();if(P.length)z=P[z%P.length].J();else if(G.Z1())G=G.uc,z=G[z%G.length].J();else if(0<E.H.length)G=E.na(),z=G[z%G.length].J();else return 0;return this.rV+z.tO(E.$h)}}class q extends e.bf{constructor(z,E,G,P){super(z,E,G);this.BJ=P[1];this.lf=
null;this.$=this.L0;this.tb=!0}Ob(){this.lf=this.I().la().dF(this.BJ)}L0(){return this.lf}}class v extends e.bf{constructor(z,E,G,P){super(z,E,G);this.VU=P[1];this.Ls=null;this.$=this.Y0;this.tb=!0}Ob(){this.Ls=this.I().la().wz(this.VU);this.VU=null}Y0(){return this.Ls}}class r extends e.bf{constructor(z,E,G,P){super(z,E,G);this.GL=[];this.UW=[];this.tb=!0;for(let C=1,H=P.length;C<H;++C)z=e.bf.Oa(this.Vb,P[C],0),this.GL.push(z),this.UW.push(0),z.tb||(this.tb=!1);this.$=this.S1}Ob(){for(const z of this.GL)z.Ob()}S1(){const z=
this.GL,E=this.UW;for(let G=0,P=z.length;G<P;++G)E[G]=z[G].$(0);return E}}class w extends e.bf{constructor(z,E,G,P){super(z,E,G);this.Gfa=P[1];this.$=this.Ym;this.tb=!0}Ym(){return this.Gfa}}class y extends e.bf{constructor(z,E,G,P){super(z,E,G);this.wfa=P[1];this.$=this.N1;this.tb=!0}N1(){return this.wfa}}}
{"use strict";const e=self.B;function b(c,f){for(let k=0,h=c.length;k<h;++k)f[k]=c[k].$(0)}const a=[],d=function(){};e.JN=class extends e.ja{constructor(c,f,k){super();this.je=c;this.j=c.I();this.Ua=k;this.Ka=this.j.Dh(f[1]);this.sK=0<f[3];this.uV=2===f[3];this.oC=!!f[4];this.di=!!f[5];this.ei=!!f[6];this.hb=f[7];this.vV=this.je.de;this.Rc=this.L=null;this.Th=-1;this.Pd=null;this.mb=this.ra=d;this.La=[];this.ub=[];this.Vl=!1;this.ti=this.Ib=null;this.Ra=this.j.Cb?{ld:f[8][0],bg:f[8][1]}:null;-1===
f[0]?this.Pd=this.j.Ou():(this.L=this.j.Cf(f[0]),f[2]&&(this.Rc=this.L.kz(f[2]),this.Th=this.L.Bu(f[2])),this.je.Fa()&&this.je.Fa().Av());if(10===f.length){c=f[9];for(let h of c)this.La.push(e.bf.Oa(this,h,this.La.length)),this.ub.push(0)}0===this.La.length&&(this.ub=this.La=a);this.je.la().Mca(this)}static Oa(c,f,k){return e.D(e.JN,c,f,k)}Ob(){for(const c of this.La)c.Ob(),c.uf&&(this.Vl=!0);this.uV?(this.ra=this.ida,this.mb=this.d$):this.Pd?(this.zI(),this.mb=this.EH):this.L.Gb().bo?(this.xI(),
this.mb=this.DH):this.ei?(this.ra=this.pda,this.mb=this.k$):(this.ra=this.GT,this.mb=this.e$)}zI(){this.ew(this.Pd,this.Pd,this.rI)}xI(){const c=this.L.Gb(),f=this.L.fk().ka;this.ew(c,f,this.qI)}ew(c,f,k){const h=this.Ka,l=this.di,n=this.La;if(0===n.length){const p=c.yk(h,f);this.ra=l?function(){return e.xor(p(),l)}:p}else if(1===n.length){const p=n[0];if(!l&&p.tb)this.ra=c.vS(h,f,p.$(0));else{const u=c.yk(h,f);this.ra=function(){return e.xor(u(p.$(0)),l)}}}else if(2===n.length){const p=n[0],u=n[1];
if(!l&&p.tb&&u.tb)this.ra=c.wS(h,f,p.$(0),u.$(0));else{const q=c.yk(h,f);this.ra=function(){return e.xor(q(p.$(0),u.$(0)),l)}}}else if(3===n.length){const p=n[0],u=n[1],q=n[2];if(!l&&p.tb&&u.tb&&q.tb)this.ra=c.xS(h,f,p.$(0),u.$(0),q.$(0));else{const v=c.yk(h,f);this.ra=function(){return e.xor(v(p.$(0),u.$(0),q.$(0)),l)}}}else this.ra=k}J(){return this.L}Ig(){return this.Rc}Xe(){return this.je}I(){return this.j}Ha(){return this.Ua}pO(){return this.Ha()}vp(){return this.sK}Ve(){return!this.Ra.ld&&!this.j.zc()&&
!this.Ra.bg}Ui(){this.Ib||(this.Ib=new Map);return this.Ib}Ru(){this.ti||(this.ti=new Map);return this.ti}rI(){const c=this.ub;b(this.La,c);return e.xor(this.Ka.apply(this.Pd,c),this.di)}*EH(){if(this.Ra.ld||this.j.zc())yield this;if(this.Ra.bg){var c=this.ub;b(this.La,c);c=this.Ka.apply(this.Pd,c);e.nn(c)&&(c=yield*c);return e.xor(c,this.di)}return this.ra()}qI(){const c=this.ub;b(this.La,c);const f=this.L.fk().ka;return e.xor(this.Ka.apply(f,c),this.di)}*DH(){if(this.Ra.ld||this.j.zc())yield this;
if(this.Ra.bg){var c=this.ub;b(this.La,c);const f=this.L.fk().ka;c=this.Ka.apply(f,c);e.nn(c)&&(c=yield*c);return e.xor(c,this.di)}return this.ra()}ida(){return!0}*d$(){if(this.Ra.ld||this.j.zc())yield this;return!0}pda(){var c=this.ub;b(this.La,c);c=this.Ka.apply(this.Rc||this.L,c);this.L.jc();return c}*k$(){if(this.Ra.ld||this.j.zc())yield this;if(this.Ra.bg){var c=this.ub;b(this.La,c);c=this.Ka.apply(this.Rc||this.L,c);e.nn(c)&&(c=yield*c);this.L.jc();return c}return this.ra()}GT(){const c=this.La,
f=this.ub,k=this.L.V();for(let h=0,l=c.length;h<l;++h){const n=c[h];n.uf||(f[h]=n.$(0))}return k.Wb?this.jda(k):this.kda(k)}*e$(){if(this.Ra.ld||this.j.zc())yield this;return this.GT()}KH(c){const f=this.La,k=this.ub;for(let h=0,l=f.length;h<l;++h){const n=f[h];n.uf&&(k[h]=n.$(c))}}jda(c){const f=this.L,k=f.Wa,h=f.$h,l=this.Th,n=0<=l,p=f.na(),u=this.Vl,q=this.ub,v=this.Ka,r=this.di,w=this.vV&&!this.sK;c.Sy();for(let z=0,E=p.length;z<E;++z){const G=p[z];u&&this.KH(z);var y=void 0;n?(y=k?G.J().Zm(h):
0,y=v.apply(G.Ic[l+y].ka,q)):y=v.apply(G.ka,q);e.xor(y,r)?c.Lp(G):w&&c.Nn(G)}f.xu(!0);c.Ce(!1);f.jc();return c.DF()}kda(c){const f=this.L;var k=f.Wa;const h=f.$h,l=f.Zb(),n=this.Th,p=0<=n,u=this.Vl,q=this.ub,v=this.Ka,r=this.di,w=this.vV&&!this.sK,y=c.H,z=c.uc,E=w&&!this.je.A3(this),G=E?z:y;let P=0,C=!1;for(let I=0,M=G.length;I<M;++I){const Q=G[I];u&&this.KH(I);var H=void 0;p?(H=k?Q.J().Zm(h):0,H=v.apply(Q.Ic[n+H].ka,q)):H=v.apply(Q.ka,q);e.xor(H,r)?(C=!0,E?(y.push(Q),l&&Q.Jca()):(G[P]=Q,l&&Q.wea(P),
++P)):E?(G[P]=Q,l&&Q.vea(P),++P):w&&(z.push(Q),l&&Q.Ica())}e.Te(G,P);l&&f.Rea(E,P);k=C;E&&!C&&(C=this.Aca(y));f.xu(k||w);return w?C:c.DF()}Aca(c){var f=this.L;const k=f.Wa;f=f.$h;const h=this.Vl,l=this.Th,n=0<=l,p=this.ub,u=this.Ka,q=this.di;for(let r=0,w=c.length;r<w;++r){var v=c[r];h&&this.KH(r);if(n){const y=k?v.J().Zm(f):0;v=u.apply(v.Ic[l+y].ka,p)}else v=u.apply(v.ka,p);if(e.xor(v,q))return!0}return!1}kv(c,f){return this.La[c].$(f)}O0(){const c=this.La;if(!c.length)throw Error("no parameters");
return c[0].maa()}ma(){if(!this.Ib||!this.Ib.size)return null;const c={};for(const [f,k]of this.Ib.entries()){let h=k;"collmemory"===f&&(h=[...k.entries()].map(l=>[l[0].hc,l[1].hc,l[2]]));c[f]=h}return{ex:c}}pa(c){this.Ib&&(this.Ib.clear(),this.Ib=null);if(c){var f=this.j,k=c.ex;if(k){c=this.Ui();c.clear();for(const [h,l]of Object.entries(k))k=l,"collmemory"===h&&(k=e.D(e.dv,l.map(n=>[f.Bh(n[0]),f.Bh(n[1]),n[2]]).filter(n=>n[0]&&n[1]))),c.set(h,k)}}}}}
{"use strict";const e=self.B;function b(f,k){for(let h=0,l=f.length;h<l;++h)k[h]=f[h].$(0)}const a=[],d=function(){},c=function*(){};e.My=class extends e.ja{constructor(f,k,h){super();this.je=f;this.j=f=f.I();this.Ua=h;this.hb=4<=k.length?k[3]:-1;this.dB=5<=k.length?k[4]:0;this.Rc=this.L=this.Ka=null;this.Th=-1;this.Pd=null;this.sB="";this.Zl=this.rB=null;this.mb=this.ra=d;this.La=[];this.ub=[];this.Vl=!1;this.ti=this.Ib=null;const l=(h=-3===k[0])?k[2]:k[5];this.Ra=f.Cb||h?{ld:l[0],bg:l[1],index:l[2]}:
null;-1===k[0]?(this.Pd=f.Ou(),this.Ka=f.Dh(k[1])):-2===k[0]?this.sB=k[1]:h?(this.Ka=f.Dh(k[1]),this.ra=this.yG,this.mb=this.QZ,this.dB=1):(this.Ka=f.Dh(k[1]),this.L=f.Cf(k[0]),k[2]&&(this.Rc=this.L.kz(k[2]),this.Th=this.L.Bu(k[2])));if(7===k.length){k=k[6];for(const n of k)this.La.push(e.bf.Oa(this,n,this.La.length)),this.ub.push(0)}0===this.La.length&&(this.ub=this.La=a);this.je.la().Lca(this)}static Oa(f,k,h){return e.D(e.My,f,k,h)}Ob(){for(var f of this.La)f.Ob(),f.uf&&(this.Vl=!0);if(this.Pd)this.zI(),
this.mb=this.EH;else if(this.sB)this.Vda(),this.sB="";else if(this.ra===this.yG){f=this.Ka;const k=this.j.la().CS(this.je);this.Ka=f.bind(null,this.j.Dj,k)}else this.Rc?this.Pg()?(this.ra=this.ET,this.mb=this.a$):(this.ra=this.DT,this.mb=this.Z9):this.L.Gb().bo?(this.xI(),this.mb=this.DH):this.Pg()?(this.ra=this.IT,this.mb=this.g$):this.La.length?this.La.every(k=>k.uf)?(this.ra=this.HT,this.mb=this.f$):this.Vl?(this.ra=this.KT,this.mb=this.i$):this.La.every(k=>k.tb)?(b(this.La,this.ub),this.ra=this.pI,
this.mb=this.dS):(this.ra=this.JT,this.mb=this.h$):(this.ra=this.pI,this.mb=this.dS)}zI(){this.ew(this.Pd,this.Pd,this.rI)}xI(){const f=this.L.Gb(),k=this.L.fk().ka;this.ew(f,k,this.qI)}Vda(){const f=this.je.la(),k=f.wz(this.sB);k.Fh()?(this.rB=k.Xe(),this.Zl=[...new Set([...this.je.Hd(),...this.rB.Hd()])],this.Zl=f.BA(this.Zl),this.ra=e.wl.prototype.m6.bind(this.rB,this.Zl,this.La),this.mb=this.b$):(this.ra=d,this.mb=c)}ew(f,k,h){const l=this.Ka,n=this.La;if(0===n.length)this.ra=f.yk(l,k);else if(1===
n.length){const p=n[0];if(p.tb)this.ra=f.vS(l,k,p.$(0));else{const u=f.yk(l,k);this.ra=function(){return u(p.$(0))}}}else if(2===n.length){const p=n[0],u=n[1];if(p.tb&&u.tb)this.ra=f.wS(l,k,p.$(0),u.$(0));else{const q=f.yk(l,k);this.ra=function(){return q(p.$(0),u.$(0))}}}else if(3===n.length){const p=n[0],u=n[1],q=n[2];if(p.tb&&u.tb&&q.tb)this.ra=f.xS(l,k,p.$(0),u.$(0),q.$(0));else{const v=f.yk(l,k);this.ra=function(){return v(p.$(0),u.$(0),q.$(0))}}}else this.ra=h}Pg(){return 1===this.dB}AN(){return 2===
this.dB}h2(){return 0!==this.dB}J(){return this.L}Xe(){return this.je}I(){return this.j}Ha(){return this.Ua}pO(){return this.Ra.index}Ve(){return!this.Ra.ld&&!this.j.zc()&&!this.Ra.bg}Ui(){this.Ib||(this.Ib=new Map);return this.Ib}Ru(){this.ti||(this.ti=new Map);return this.ti}rI(){const f=this.ub;b(this.La,f);return this.Ka.apply(this.Pd,f)}*EH(){if(this.Ra.ld||this.j.zc())yield this;if(this.Ra.bg){const f=this.ub;b(this.La,f);return yield*this.Ka.apply(this.Pd,f)}return this.ra()}*b$(){if(this.Ra.ld||
this.j.zc())yield this;return yield*this.rB.LZ(this.Zl,this.La)}qI(){const f=this.ub;b(this.La,f);return this.Ka.apply(this.L.fk().ka,f)}*DH(){if(this.Ra.ld||this.j.zc())yield this;if(this.Ra.bg){const f=this.ub;b(this.La,f);return yield*this.Ka.apply(this.L.fk().ka,f)}return this.ra()}pI(){const f=this.ub,k=this.L.V().na();for(let h=0,l=k.length;h<l;++h)this.Ka.apply(k[h].ka,f)}*dS(){if(this.Ra.ld||this.j.zc())yield this;if(this.Ra.bg){const f=this.ub,k=this.L.V().na();for(let h=0,l=k.length;h<l;++h)yield*this.Ka.apply(k[h].ka,
f)}else this.pI()}JT(){const f=this.ub;b(this.La,f);const k=this.L.V().na();for(let h=0,l=k.length;h<l;++h)this.Ka.apply(k[h].ka,f)}*h$(){if(this.Ra.ld||this.j.zc())yield this;if(this.Ra.bg){const f=this.ub;b(this.La,f);const k=this.L.V().na();for(let h=0,l=k.length;h<l;++h)yield*this.Ka.apply(k[h].ka,f)}else this.JT()}HT(){const f=this.La,k=this.ub,h=this.Ka,l=this.L.V().na();for(let n=0,p=l.length;n<p;++n){const u=l[n];for(let q=0,v=f.length;q<v;++q)k[q]=f[q].$(n);h.apply(u.ka,k)}}*f$(){if(this.Ra.ld||
this.j.zc())yield this;if(this.Ra.bg){const f=this.La,k=this.ub,h=this.Ka,l=this.L.V().na();for(let n=0,p=l.length;n<p;++n){const u=l[n];for(let q=0,v=f.length;q<v;++q)k[q]=f[q].$(n);yield*h.apply(u.ka,k)}}else this.HT()}KT(){const f=this.La,k=this.ub,h=this.Ka,l=this.L.V().na();for(let p=0,u=f.length;p<u;++p){var n=f[p];n.uf||(k[p]=n.$(0))}for(let p=0,u=l.length;p<u;++p){n=l[p];for(let q=0,v=f.length;q<v;++q){const r=f[q];r.uf&&(k[q]=r.$(p))}h.apply(n.ka,k)}}*i$(){if(this.Ra.ld||this.j.zc())yield this;
if(this.Ra.bg){const k=this.La,h=this.ub,l=this.Ka,n=this.L.V().na();for(let p=0,u=k.length;p<u;++p){var f=k[p];f.uf||(h[p]=f.$(0))}for(let p=0,u=n.length;p<u;++p){f=n[p];for(let q=0,v=k.length;q<v;++q){const r=k[q];r.uf&&(h[q]=r.$(p))}yield*l.apply(f.ka,h)}}else this.KT()}DT(){var f=this.L;const k=f.Wa,h=f.$h,l=this.La,n=this.Vl,p=this.ub,u=this.Ka,q=this.Th;f=f.V().na();for(let w=0,y=l.length;w<y;++w){var v=l[w];v.uf||(p[w]=v.$(0))}for(let w=0,y=f.length;w<y;++w){v=f[w];if(n)for(let z=0,E=l.length;z<
E;++z){var r=l[z];r.uf&&(p[z]=r.$(w))}r=k?v.J().Zm(h):0;u.apply(v.Ic[q+r].ka,p)}}*Z9(){if(this.Ra.ld||this.j.zc())yield this;if(this.Ra.bg){var f=this.L;const l=f.Wa,n=f.$h,p=this.La,u=this.Vl,q=this.ub,v=this.Ka,r=this.Th;f=f.V().na();for(let w=0,y=p.length;w<y;++w){var k=p[w];k.uf||(q[w]=k.$(0))}for(let w=0,y=f.length;w<y;++w){k=f[w];if(u)for(let z=0,E=p.length;z<E;++z){var h=p[z];h.uf&&(q[z]=h.$(w))}h=l?k.J().Zm(n):0;yield*v.apply(k.Ic[r+h].ka,q)}}else this.DT()}IT(){const f=this.La,k=this.ub,
h=this.Ka,l=this.L.V().na(),n=[];for(let p=0,u=l.length;p<u;++p){const q=l[p];for(let v=0,r=f.length;v<r;++v)k[v]=f[v].$(p);n.push(h.apply(q.ka,k))}return Promise.all(n)}*g$(){if(this.Ra.ld||this.j.zc())yield this;if(this.Ra.bg){const f=this.La,k=this.ub,h=this.Ka,l=this.L.V().na(),n=[];for(let p=0,u=l.length;p<u;++p){const q=l[p];for(let v=0,r=f.length;v<r;++v)k[v]=f[v].$(p);n.push(yield*h.apply(q.ka,k))}return Promise.all(n)}return this.IT()}ET(){var f=this.L;const k=f.Wa,h=f.$h,l=this.La,n=this.ub,
p=this.Ka,u=this.Th;f=f.V().na();const q=[];for(let v=0,r=f.length;v<r;++v){const w=f[v];for(let z=0,E=l.length;z<E;++z)n[z]=l[z].$(v);const y=k?w.J().Zm(h):0;q.push(p.apply(w.Ic[u+y].ka,n))}return Promise.all(q)}*a$(){if(this.Ra.ld||this.j.zc())yield this;if(this.Ra.bg){var f=this.L;const k=f.Wa,h=f.$h,l=this.La,n=this.ub,p=this.Ka,u=this.Th;f=f.V().na();const q=[];for(let v=0,r=f.length;v<r;++v){const w=f[v];for(let z=0,E=l.length;z<E;++z)n[z]=l[z].$(v);const y=k?w.J().Zm(h):0;q.push(yield*p.apply(w.Ic[u+
y].ka,n))}return Promise.all(q)}return this.ET()}async yG(){try{await this.Ka()}catch(f){console.error(`Unhandled exception running script %c${this.je.dd.wa()}, event ${this.je.Es}, action ${this.pO()+1}:`,"font-size: 1.2em; font-weight: bold;",f),self.xh&&self.xh.pea(this),e.ez.V1()||(console.info("%cTip:%c run this to highlight in Construct the last script that had an error: %cgoToLastErrorScript()","font-weight: bold; text-decoration: underline","","font-weight: bold"),e.ez.T6())}}*QZ(){if(this.Ra.ld||
this.j.zc())yield this;return this.yG()}ma(){return this.Ib&&this.Ib.size?{ex:e.lH(this.Ib)}:null}pa(f){this.Ib&&(this.Ib.clear(),this.Ib=null);f&&(f=f.ex)&&(this.Ib=e.WE(f))}}}
{"use strict";const e=self.B,b=new e.eb;function a(K,N){return e.compare(this.A().da(),K,N)}function d(K,N){return e.compare(this.A().ea(),K,N)}function c(){const K=this.A(),N=K.Z();return N.qr()?K.ur(N.Sv()):K.oP(N.Zf,K.kc().ZO(),K.kc().Sf)}function f(){var K=this.A();const N=K.kc();K=K.Kc();return 0>K.ia||0>K.ba||K.R>N.X()||K.O>N.W()}function k(K,N,U){const ba=this.V(),ia=ba.na();if(!ia.length)return!1;let ja=ia[0];var la=ja.A();let va=ja,na=e.jX(la.da(),la.ea(),N,U);for(let wa=1,xa=ia.length;wa<
xa;++wa)if(ja=ia[wa],la=ja.A(),la=e.jX(la.da(),la.ea(),N,U),0===K&&la<na||1===K&&la>na)na=la,va=ja;ba.sn(va);return!0}function h(K){const N=this.A();N.da()!==K&&(N.Nh(K),N.Ca())}function l(K){const N=this.A();N.ea()!==K&&(N.Oh(K),N.Ca())}function n(K,N){const U=this.A();U.b0(K,N)||(U.Dd(K,N),U.Ca())}function p(K,N){if(K&&(K=K.x1(this.K))){var [U,ba]=K.jp(N);N=this.A();if(N.da()!==U||N.ea()!==ba)N.Dd(U,ba),N.Ca()}}function u(K){if(0!==K){var N=this.A();N.rn(N.aF()*K,N.vF()*K);N.Ca()}}function q(K,
N){if(0!==N){var U=this.A();K=e.Pa(K);U.rn(Math.cos(K)*N,Math.sin(K)*N);U.Ca()}}function v(){return this.A().da()}function r(){return this.A().ea()}function w(){return this.j.Zj(this.K)}function y(K,N){return e.compare(this.A().X(),K,N)}function z(K,N){return e.compare(this.A().W(),K,N)}function E(K){const N=this.A();N.X()!==K&&(N.dj(K),N.Ca())}function G(K){const N=this.A();N.W()!==K&&(N.$i(K),N.Ca())}function P(K,N){const U=this.A();if(U.X()!==K||U.W()!==N)U.Fc(K,N),U.Ca()}function C(){return this.A().X()}
function H(){return this.A().W()}function I(){return this.A().Kc().R}function M(){return this.A().Kc().O}function Q(){return this.A().Kc().ia}function R(){return this.A().Kc().ba}function V(K,N){return e.Vq(this.A().ua(),e.Pa(N))<=e.Pa(K)}function Z(K){return e.wf(this.A().ua(),e.Pa(K))}function ca(K,N){K=e.Pa(K);N=e.Pa(N);const U=this.A().ua();return e.wf(N,K)?e.wf(U,K)&&!e.wf(U,N):!(!e.wf(U,K)&&e.wf(U,N))}function Y(K){const N=this.A();K=e.kd(e.Pa(K));isNaN(K)||N.ua()===K||(N.pd(K),N.Ca())}function ha(K){if(!isNaN(K)&&
0!==K){var N=this.A();N.pd(N.ua()+e.Pa(K));N.Ca()}}function ka(K){if(!isNaN(K)&&0!==K){var N=this.A();N.pd(N.ua()-e.Pa(K));N.Ca()}}function za(K,N){const U=this.A(),ba=U.ua();K=e.dM(ba,e.Pa(N),e.Pa(K));isNaN(K)||ba===K||(U.pd(K),U.Ca())}function Oa(K,N,U){const ba=this.A(),ia=ba.ua();N-=ba.da();U-=ba.ea();K=e.dM(ia,Math.atan2(U,N),e.Pa(K));isNaN(K)||ia===K||(ba.pd(K),ba.Ca())}function ab(K,N){const U=this.A(),ba=U.ua();K-=U.da();N-=U.ea();N=Math.atan2(N,K);isNaN(N)||ba===N||(U.pd(N),U.Ca())}function Ua(){return e.Bg(this.A().ua())}
function bb(K,N){return e.compare(e.TM(100*this.A().Ud()),K,N)}function mb(){return this.A().ad()}function Va(K){const N=this.A();K=2===K?!N.ad():0!==K;N.ad()!==K&&(N.Ae(K),this.j.M())}function Pa(K){K=e.ca(K/100,0,1);const N=this.A();N.Ud()!==K&&(N.ef(K),this.j.M())}function fb(K){b.Zt(K);K=this.A();K.fb.Nm(b)||(K.pR(b),this.j.M())}function cb(){const K=this.A().fb;return e.eA(K.Xa,K.Ga,K.Za,K.Ya)}function ub(){return e.TM(100*this.A().Ud())}function vb(K){return K?this.A().Z()===K:!1}function wb(K){const N=
this.V(),U=N.na();if(!U.length)return!1;let ba=U[0];for(let ia=1,ja=U.length;ia<ja;++ia){const la=U[ia],va=la.A(),na=ba.A(),wa=va.Z().Ha(),xa=na.Z().Ha();if(0===K){if(wa>xa||wa===xa&&va.ik()>na.ik())ba=la}else if(wa<xa||wa===xa&&va.ik()<na.ik())ba=la}N.sn(ba);return!0}function gb(K,N,U){const ba=this.A();K=0===K?ba.$a():ba.$e();return e.compare(K,N,U)}function xb(){this.A().K8()}function yb(){this.A().I8()}function zb(K){K&&this.A().J8(K)}function Ab(K,N){K=0===K;N&&(N=N.hp(this.Ea()))&&this.A().H8(N,
K)}function Bb(K){const N=this.A();N.$a()!==K&&(N.Kf(K),this.j.M())}function Cb(){return this.A().Z().Ha()}function Db(){return this.A().Z().wa()}function hb(){return this.A().ik()}function Eb(){return this.A().$a()}function Fb(){return this.A().$e()}function Gb(K,N){if(N=this.J().Sa.Cl(N)){N=N.Ha();K=1===K;var U=this.A().Je;U.Zu(N)!==K&&(U.SQ(N,K),U.Kn(),this.j.M())}}function Hb(K,N,U){var ba=this.J().Sa.Cl(K);if(ba){K=ba.Ha();var ia=this.A().Je,ja=ia.Kg(K);N=Math.floor(N);if(!(0>N||N>=ja.length)){ba=
ba.jb.Bz(N);if("color"===ba){b.Zt(U);N=ja[N];if(b.Nm(N))return;N.kl(b)}else{"percent"===ba&&(U/=100);if(ja[N]===U)return;ja[N]=U}ia.Zu(K)&&this.j.M()}}}const ib=e.D(e.Rect),Sa=[],jb=[];let kb=!1,Wa=null,lb=!1;const Ma=new Set;function nb(K,N,U,ba){N.hc<U.hc?K.Set(N,U,ba):K.Set(U,N,ba)}function qa(K,N,U){N.hc<U.hc?K.rl(N,U):K.rl(U,N)}function Ka(K,N,U){return N.hc<U.hc?K.$(N,U):K.$(U,N)}function Ib(K,N,U,ba){if(!N)return!1;K=K.Ea();const ia=0!==U||0!==ba,ja=K.A(),la=K.I(),va=la.Nf;var na=la.Af();const wa=
na.Xe().de;var xa=na.J();na=na.di;const Ha=N.V();xa=xa!==N;Wa=N;kb=xa&&!na;lb=!1;let La=0,Ca=0,ma=!1;Ha.Wb?(ib.Ba(ja.Kc()),ib.offset(U,ba),va.oz(ja.Z(),N,ib,jb),N=jb):wa?la.y3()&&!Ha.uc.length&&Ha.H.length?N=Ha.H:(N=Ha.uc,lb=!0):N=Ha.H;ia&&(La=ja.da(),Ca=ja.ea(),ja.rn(U,ba),ja.Ca());for(const ea of N)if(va.vk(K,ea)){ma=!0;if(na)break;xa&&Ma.add(ea)}ia&&(ja.Dd(La,Ca),ja.Ca());e.F(jb);return ma}function Ob(K,N){if(kb){if(N){{K=K.I().Fb().de;N=Wa.V();const U=N.H,ba=N.uc;N.Wb?(N.zv(Ma),K&&(e.F(ba),N.kN(Ma,
Wa.na()))):K?lb?N.e8(Ma):(N.kN(Ma,U),N.zv(Ma)):N.zv(Ma);Wa.jc()}}Ma.clear();Wa=null;kb=!1}}function Pb(K){if(this.j.Le)return Qb.call(this,K);if(!K)return!1;var N=this.j;const U=N.Nf,ba=N.la(),ia=ba.$c();var ja=ba.Af();const la=ja.J();var va=ja.Ui(),na=ja.Ru();ja=ia.ue();const wa=N.$k,xa=wa-1,Ha=ja.Fb(),La=ia.Na(Ha);let Ca=va.get("collmemory");Ca||(Ca=e.D(e.dv),va.set("collmemory",Ca));na.get("collisionCreatedDestroyCallback")||(na.set("collisionCreatedDestroyCallback",!0),N.zb().addEventListener("instancedestroy",
Na=>{Ca.UN(Na.instance)}));N=K.V();va=la.V().na();na=null;for(let Na=0;Na<va.length;++Na){const Ba=va[Na];N.Wb?(U.oz(Ba.A().Z(),K,Ba.A().Kc(),Sa),na=Sa,U.lN(Ba,K,na)):na=N.na();for(let eb=0;eb<na.length;++eb){const Ja=na[eb];if(U.vk(Ba,Ja)||U.FN(Ba,Ja)){var ma=Ka(Ca,Ba,Ja),ea=!1,oa=-2;"number"===typeof ma&&(ea=!0,oa=ma);ma=!ea||oa<xa;nb(Ca,Ba,Ja,wa);ma&&(ma=Ha.Ad(),ba.Yd(ma),oa=la.V(),ea=K.V(),oa.Ce(!1),ea.Ce(!1),la===K?(ea=oa.H,e.F(ea),ea.push(Ba),ea.push(Ja),la.jc()):(oa=oa.H,ea=ea.H,e.F(oa),e.F(ea),
oa.push(Ba),ea.push(Ja),la.jc(),K.jc()),Ha.cf(ja,La),ba.Ab(ma))}else qa(Ca,Ba,Ja)}e.F(Sa)}ia.Ja();return!1}function*Qb(K){if(!K)return!1;var N=this.j;const U=N.Nf,ba=N.la(),ia=ba.$c(),ja=ia.ue(),la=N.$k,va=la-1,na=ja.Fb(),wa=ia.Na(na);var xa=ba.Af();const Ha=xa.J();var La=xa.Ui();xa=xa.Ru();let Ca=La.get("collmemory");Ca||(Ca=e.D(e.dv),La.set("collmemory",Ca));xa.get("collisionCreatedDestroyCallback")||(xa.set("collisionCreatedDestroyCallback",!0),N.zb().addEventListener("instancedestroy",Na=>{Ca.UN(Na.instance)}));
N=K.V();La=Ha.V().na();xa=null;for(let Na=0;Na<La.length;++Na){const Ba=La[Na];N.Wb?(U.oz(Ba.A().Z(),K,Ba.A().Kc(),Sa),xa=Sa,U.lN(Ba,K,xa)):xa=N.na();for(let eb=0;eb<xa.length;++eb){const Ja=xa[eb];if(U.vk(Ba,Ja)||U.FN(Ba,Ja)){var ma=Ka(Ca,Ba,Ja),ea=!1,oa=-2;"number"===typeof ma&&(ea=!0,oa=ma);ma=!ea||oa<va;nb(Ca,Ba,Ja,la);ma&&(ma=na.Ad(),ba.Yd(ma),oa=Ha.V(),ea=K.V(),oa.Ce(!1),ea.Ce(!1),Ha===K?(ea=oa.H,e.F(ea),ea.push(Ba),ea.push(Ja),Ha.jc()):(oa=oa.H,ea=ea.H,e.F(oa),e.F(ea),oa.push(Ba),ea.push(Ja),
Ha.jc(),K.jc()),yield*na.Fg(ja,wa),ba.Ab(ma))}else qa(Ca,Ba,Ja)}e.F(Sa)}ia.Ja();return!1}function Rb(K){return Ib(this,K,0,0)}function Sb(K,N,U){return Ib(this,K,N,U)}function ob(){return this.A().jk()}function pb(){return this.A().Df()}function qb(K,N){const U=this.V().na();if(0===U.length)return!1;const ba=K.V();var ia=ba.na();if(0===ia.length)return!1;ia=new Set(ia);const ja=new Set;for(let va=0,na=U.length;va<na;++va){var la=U[va];if(1===N)for(const wa of la.Ay())wa.er(K)&&ia.has(wa)&&ja.add(wa);
else{if(0===N){if(la=la.Fa(),null===la)continue}else la=la.Jz();la.er(K)&&ia.has(la)&&ja.add(la)}}if(0===ja.size)return!1;ba.zv(ja);K.jc();return!0}function rb(K,N){const U=this.V().na();if(0===U.length)return!1;const ba=K.V();var ia=ba.na();if(ba.Wb){var ja=[...this.j.sM(K)];0<ja.length&&(ia=ia.concat(ja))}if(0===ia.length)return!1;ia=new Set(ia);ja=new Set;for(let la=0,va=U.length;la<va;++la){const na=U[la];2===N&&!na.Df()&&na.er(K)&&ia.has(na)&&ja.add(na);for(const wa of 0===N?na.children():na.il())2===
N&&wa.Df()||wa.er(K)&&ia.has(wa)&&ja.add(wa)}if(0===ja.size)return!1;ba.zv(ja);K.jc();return!0}function db(K,N){const U=this.V().na();if(0===U.length)return!1;const ba=K.V();var ia=ba.na();if(ba.Wb){var ja=[...this.j.sM(K)];0<ja.length&&(ia=ia.concat(ja))}if(0===ia.length)return!1;ia=new Set(ia);ja=[];for(let la=0,va=U.length;la<va;++la){const na=U[la].$E(N);null!==na&&na.er(K)&&ia.has(na)&&ja.push(na)}if(0===ja.length)return!1;ba.ov(ja);K.jc();return!0}function g(K,N){return e.compare(this.K.nz(),
K,N)}function m(K,N,U,ba,ia,ja,la,va){const na=this.K,wa=this.j.Cu().J();for(const xa of K.$W(na,wa)){if(!xa.Gb().JW)break;na.Um(xa,{eu:N,fu:U,br:ba,$q:ia,du:ja,gu:la,ny:va})}}function t(K){const N=this.K,U=this.j.Cu().J();for(const ba of K.$W(N,U))N.nk(ba)}function x(){this.K.jk()&&this.K.Fa().nk(this.K)}function A(){return this.K.nz()}function D(K,N){K=Math.floor(K);N=Math.floor(N);const U=this.A();2>K||2>N||!isFinite(K)||!isFinite(N)?(U.iA(),U.Ca()):U.ME(K,N)}function F(K,N,U,ba,ia,ja,la,va){const na=
this.A();na.dR(K,N,{mode:0===U?"absolute":"relative",x:ba,y:ia,Ly:ja,TX:la,UX:va})&&na.Ca()}function J(){const K=this.A();return K.Ef()?K.Vi().Mk:0}function L(){const K=this.A();return K.Ef()?K.Vi().dl:0}function O(K){const N=this.A();K=2===K?!N.ad():0!==K;N.ad()!==K&&N.Ae(K)}function S(K,N){this.L6(K,N)}function T(K,N){this.K6(K,""+N)}function X(K){this.S5(K)}function W(){this.dO()}function fa(){this.uN()}function da(){return this.yJ}function aa(K){this.aw(0!==K)}function ua(){return this.dc}function pa(K,
N,U){return e.compare(this.Ea().Ze(K),N,U)}function sa(K){return!!this.Ea().Ze(K)}function ta(K,N){const U=this.V(),ba=U.na();if(!ba.length)return!1;let ia=ba[0],ja=ia,la=ia.Ze(N);for(let va=1,na=ba.length;va<na;++va){ia=ba[va];const wa=ia.Ze(N);if(0===K&&wa<la||1===K&&wa>la)la=wa,ja=ia}U.sn(ja);return!0}function ra(K){if(this.j.Af().di){{const ba=this.V();if(ba.Wb){ba.Ce(!1);ba.Sy();var N=this.na();for(let ia=0,ja=N.length;ia<ja;++ia){var U=N[ia];U.hc===K?ba.Nn(U):ba.Lp(U)}this.jc();K=!!ba.H.length}else{N=
ba.H;U=0;for(let ia=0,ja=N.length;ia<ja;++ia){const la=N[ia];N[U]=la;la.hc===K?ba.Nn(la):++U}e.Te(N,U);this.jc();K=!!N.length}}}else K=Da(this,K);return K}function Da(K,N){N=K.I().Bh(N);if(!N)return!1;const U=K.V();if(!U.Wb&&!U.H.includes(N))return!1;if(K.Wa){if(N.J().BE(K))return U.sn(N),K.jc(),!0}else if(N.J()===K)return U.sn(N),K.jc(),!0;return!1}function Ea(){this.j.sl(this.K)}function Fa(){return!0}function Ga(){return!0}function Ia(K,N){this.Ea().En(K,N)}function Qa(K,N){const U=this.Ea(),ba=
U.Ze(K);"number"===typeof ba&&"number"!==typeof N?N=parseFloat(N):"string"===typeof ba&&"string"!==typeof N&&(N=N.toString());U.En(K,ba+N)}function Ra(K,N){const U=this.Ea(),ba=U.Ze(K);"number"===typeof ba&&("number"!==typeof N&&(N=parseFloat(N)),U.En(K,ba-N))}function Aa(K,N){this.Ea().En(K,N?1:0)}function Jb(K){const N=this.Ea();N.En(K,0===N.Ze(K)?1:0)}function Kb(K){let N;try{N=JSON.parse(K)}catch(U){console.error("Failed to load from JSON string: ",U);return}K=this.Ea();K.OA("state");K.lc(N,"state")}
function pc(){return JSON.stringify(this.Ea().Dc("state"))}function qc(){return this.Ea().J().wa()}function rc(){const K=this.j.Bf().EJ;let N=K.H.length;for(const U of this.j.sM(K))++N;return N}function sc(){return this.j.Bf().EJ.V().na().length}function tc(){return this.K.ip()}function uc(){return this.K.hc}e.fY=function(K,N){const U=K[1],ba=K[4],ia=K[5],ja=K[6],la=K[7],va=K[8],na=K[10],wa=K[11],xa=K[12],Ha=K[13],La=K[14],Ca=K[15],ma=N.G,ea=N.Qa,oa=N.sb;K[3]&&(ma.sZ=a,ma.mka=d,ma.nma=c,ma.oma=f,
ma.Pna=k,ea.Nh=h,ea.Oh=l,ea.cra=n,ea.dra=p,ea.Zma=u,ea.Yma=q,oa.KR=v,oa.LR=r,oa.lX=w);ba&&(ma.ika=y,ma.bka=z,ea.dj=E,ea.$i=G,ea.Fc=P,oa.rH=C,oa.$O=H,oa.KY=I,oa.qN=M,oa.LY=Q,oa.pN=R);ia&&(ma.BY=V,ma.v3=Z,ma.u3=ca,ea.pd=Y,ea.wpa=ha,ea.xpa=ka,ea.ypa=za,ea.zpa=Oa,ea.hra=ab,oa.tja=Ua);ja&&(ma.ad=mb,ma.oZ=bb,ea.Ae=Va,ea.ef=Pa,ea.eqa=fb,oa.Opacity=ub,oa.Vja=cb);la&&(ma.lma=vb,ma.Xna=wb,ma.nka=gb,ea.bna=xb,ea.$ma=yb,ea.ana=zb,ea.Vsa=Ab,ea.Kf=Bb,oa.Gma=Cb,oa.Fma=Db,oa.Usa=hb,oa.Tsa=Eb,oa.fsa=Fb);va&&(ea.gqa=
Gb,ea.J6=Hb);Ha&&(ma.jk=ob,ma.Df=pb,ma.Vna=qb,ma.Ona=rb,ma.Tna=db,ma.Zja=g,ea.Um=m,ea.nk=t,ea.zoa=x,oa.Rja=A);La&&(ea.Wqa=D,ea.dR=F,oa.Vma=J,oa.Wma=L);na&&(ma.ad=mb,ea.Ae=O,ea.$pa=S,ea.iqa=T,ea.yoa=X);wa&&(ma.ama=da,ea.nqa=W,ea.Xpa=fa);xa&&(ma.Fh=ua,ea.rv=aa);Ca&&(ma.sna=Pb,ma.qma=Rb,ma.rma=Sb,N.p0=Ob);U||(ma.nZ=pa,ma.Qla=sa,ma.Qna=ta,ma.Nna=ra,ea.Z6=Ia,ea.fja=Qa,ea.Vra=Ra,ea.Ypa=Aa,ea.dsa=Jb,ma.OP=Fa,ma.G4=Ga,ea.Dka=Ea,ea.cG||(ea.cG=Kb),oa.oN||(oa.oN=pc),oa.ska=rc,oa.Yna=sc,oa.vla=tc,oa.qsa=uc,oa.nna=
qc)}}
{"use strict";const e=self.B;e.zG=class extends e.ja{constructor(b){super();this.ta=b;this.Aa="";this.Yc=-1;this.Ix="";this.vC=!1;this.wj=null;this.qg=0;this.qf=[];this.Jq=new Map;this.Xl=null;this.jw=-1;this.MJ=this.eh=null;this.Hx=!1}m(){this.Aa="";this.Yc=-1;this.Ix="";this.MJ=this.eh=this.Xl=this.wj=null;this.jw=-1;e.F(this.qf);for(const b of this.Jq.values())b.m();this.Jq.clear()}ij(){var b=this.ta,a=b.I().bd;const d=b.Bf();this.wj=d.Fb();this.qg=d.qg+1;if(b=b.VE(this.wj))this.Xl=b,this.eh=b.$Y(),
this.MJ=b.$J.map(c=>c.Yb()),b.Pg()&&(this.jw=b.q5());for(const c of a)if(a=c.V(),!a.Wb||this.wj.j2(c))this.qf.push(c),this.Jq.set(c,e.D(e.tR,a))}m3(b){this.Aa="timer";this.ij();this.Yc=this.ta.I().Ye()+b}k3(b){this.Aa="signal";this.ij();this.Ix=b.toLowerCase()}Y2(b){this.Aa="promise";this.ij();b.then(()=>this.VG()).catch(a=>{console.warn("[C3 runtime] Promise rejected in 'Wait for previous actions to complete': ",a);this.VG()})}P3(){return"timer"===this.Aa}M3(){return"signal"===this.Aa}I3(){return"promise"===
this.Aa}VG(){this.vC=!0}dU(){return this.P3()?this.Yc<=this.ta.I().Ye():this.vC}CT(b){b.oI(this.wj,this.qg);for(const [a,d]of this.Jq.entries())d.oI(a.V());if(b=this.Xl)b.tv(this.eh),b.$J.map((a,d)=>a.ye(this.MJ[d])),b.Pg()&&b.l6(this.jw)}fda(b){this.CT(b);this.wj.eda(b);this.Xl&&this.Xl.Pg()&&this.Xl.cv(this.jw);this.ta.fr(this.qf);this.Hx=!0}async W9(b){this.CT(b);for(const a of this.wj.V9(b))await this.ta.I().gr(a);this.Xl&&this.Xl.Pg()&&this.Xl.cv(this.jw);this.ta.fr(this.qf);this.Hx=!0}Ap(b){for(const a of this.Jq.values())a.Ap(b)}ma(){const b=
{},a={t:this.Yc,st:this.Ix,s:this.vC,ev:this.wj.hb,sm:this.qf.map(d=>d.hb),sols:b};this.wj.Gaa(this.qg)&&(a.act=this.wj.gO(this.qg).hb);for(const [d,c]of this.Jq)b[d.hb.toString()]=c.ma();return a}static B9(b,a){const d=b.I();var c=b.J0(a.ev);if(!c)return null;let f=0;if(a.hasOwnProperty("act")){var k=b.t0(a.act);if(!k)return null;f=k.Ha()}k=e.D(e.zG,b);k.Yc=a.t;k.Aa=-1===k.Yc?"signal":"timer";k.Ix=a.st;k.vC=a.s;k.wj=c;k.qg=f;for(var h of a.sm)(c=d.Az(h))&&k.qf.push(c);for(const [l,n]of Object.entries(a.sols))if(a=
d.Az(parseInt(l,10)))h=e.D(e.tR,null),h.pa(b,n),k.Jq.set(a,h);return k}}}{"use strict";const e=self.B;e.tR=class extends e.ja{constructor(b){super();this.L=null;this.uC=!0;this.H=[];b&&(this.L=b.J(),this.uC=b.Wb,e.wd(this.H,b.H))}m(){this.L=null;e.F(this.H)}oI(b){b.Ce(this.uC);e.wd(b.H,this.H)}Ap(b){e.rh(this.H,b)}ma(){return{sa:this.uC,insts:this.H.map(b=>b.hc)}}pa(b,a){b=b.I();this.uC=!!a.sa;e.F(this.H);for(const d of a.insts)(a=b.Bh(d))&&this.H.push(a)}}}
{"use strict";const e=self.B;function b(a,d){let c=a.get(d);c||(c=new Map,a.set(d,c));return c}e.qk=class extends e.ja{constructor(a){super();this.j=a.ic;this.bo=!!a.vX;this.Tf=!!a.Kha;this.Zfa=!!a.Jha;this.iga=!!a.Xha;this.Mfa=!!a.xha;this.JW=!!a.wia;this.Bga=!!a.via;this.AW=null;this.zU=new Map;this.rfa=new Map;this.sfa=new Map;this.tfa=new Map}m(){this.j=null}I(){return this.j}mc(){}zr(){return this.Zfa}qn(){return this.iga}EF(){return this.Mfa}yk(a,d){if(!d)throw Error("missing 'this' binding");
let c=this.zU.get(a);if(c)return c;c=a.bind(d);this.zU.set(a,c);return c}vS(a,d,c){if(!d)throw Error("missing 'this' binding");const f=b(this.rfa,a);let k=f.get(c);if(k)return k;k=a.bind(d,c);f.set(c,k);return k}wS(a,d,c,f){if(!d)throw Error("missing 'this' binding");var k=b(this.sfa,a);k=b(k,c);let h=k.get(f);if(h)return h;h=a.bind(d,c,f);k.set(f,h);return h}xS(a,d,c,f,k){if(!d)throw Error("missing 'this' binding");var h=b(this.tfa,a);h=b(h,c);h=b(h,f);let l=h.get(k);if(l)return l;l=a.bind(d,c,f,
k);h.set(k,l);return l}xea(a){if(!this.bo)throw Error("must be single-global plugin");this.AW=a}fk(){if(!this.bo)throw Error("must be single-global plugin");return this.AW.fk()}}}
{"use strict";const e=self.B;e.Cpa=class extends e.qk{constructor(b,a){super(b);this.Xn=a;this.mga=0;this.aK=new Map;this.jN("elem-focused",d=>d.$ba());this.jN("elem-blurred",d=>{d&&d.Zba()})}m(){super.m()}S8(b){const a=this.mga++;this.aK.set(a,b);return a}Xca(b){this.aK.delete(b)}jN(b,a){this.j.Fi(this.Xn,b,d=>{const c=this.aK.get(d.elementId);a(c,d)})}}}{"use strict";const e=self.B;e.zn=class extends e.ja{constructor(b){super();this.L=b;this.j=b.I();this.ki=b.Gb()}m(){this.ki=this.j=this.L=null}J(){return this.L}I(){return this.j}Gb(){return this.ki}ie(){return this.L.ie()}xu(){}yp(){}xn(){}cA(){}lG(){}jg(){return null}}}
{"use strict";const e=self.B;e.Bp=class extends e.ja{constructor(b,a){super();this.K=b;this.Xn=a;this.j=b.I();this.L=this.K.J();this.Xc=this.L.Xc;this.Am=this.Bm=null;this.km=this.jm=!1;this.Ge=null;this.jy=!1}m(){this.jy=!0;this.ms();this.Pn();this.Am=this.Bm=null;this.Ge&&(this.Ge.m(),this.Ge=null);this.Xc=this.L=this.j=this.K=null}bs(){return this.jy}Ea(){return this.K}I(){return this.j}J(){return this.L}Gb(){return this.Xc.Gb()}Gz(){return this.K.Ch()}U(b){return this.j.U(b,this.K,null)}ru(b){return this.j.ru(b,
this.K,null)}Be(b){return this.j.Be(b,this.K,null)}rE(b,a){this.j.Fi(this.Xn,b,a)}iN(b){for(const [a,d]of b)this.rE(a,d)}ib(b,a){this.j.tn(this.Xn,b,a)}Nl(b,a){return this.j.Er(this.Xn,b,a)}lI(b,a){this.j.hm?this.ib(b,a):window.c3_runtimeInterface._OnMessageFromRuntime({type:"event",component:this.Xn,handler:b,data:a,responseId:null})}Kd(){}Yr(){}Zg(){this.jm||(this.Bm||(this.Bm=()=>this.Kd()),this.j.zb().addEventListener("tick",this.Bm),this.jm=!0)}ms(){this.jm&&(this.j.zb().removeEventListener("tick",
this.Bm),this.jm=!1)}On(){this.km||(this.Am||(this.Am=()=>this.Yr()),this.j.zb().addEventListener("tick2",this.Am),this.km=!0)}Pn(){this.km&&(this.j.zb().removeEventListener("tick2",this.Am),this.km=!1)}Dc(){return null}lc(){}Xb(){}ff(){}fG(b,a){if(0!==a){var d=this.Xb(b);if("number"!==typeof d)throw Error("expected number");this.ff(b,d+a)}}jg(){return null}}}
{"use strict";const e=self.B;e.kA=class extends e.Bp{constructor(b,a){super(b,a);this.lb=b.A();this.GD=this.Jt=null}m(){if(this.Jt){const b=this.j.zb();b.removeEventListener("webglcontextlost",this.Jt);b.removeEventListener("webglcontextrestored",this.GD);this.GD=this.Jt=null}this.lb=null;super.m()}W1(){if(!this.Jt){this.Jt=()=>this.Dr();this.GD=()=>this.dQ();var b=this.j.zb();b.addEventListener("webglcontextlost",this.Jt);b.addEventListener("webglcontextrestored",this.GD)}}Dr(){}dQ(){}A(){return this.lb}kk(){return!1}Ri(){if(!this.kk())throw Error("original size not known");
const b=this.Td();if(b)return b.X()}Qi(){if(!this.kk())throw Error("original size not known");const b=this.Td();if(b)return b.W()}Td(){return null}pz(){var b=this.Td();return b&&(b=b.Id())?[b.X(),b.W()]:[100,100]}qz(){const b=this.Td();return b?b.gk():null}jp(){const b=this.K.A();return[b.da(),b.ea()]}Gr(){return!0}}}
{"use strict";const e=self.B,b=e.D(e.Rect);e.Bpa=class extends e.kA{constructor(a,d){super(a,d);this.IB=this.Gb().S8(this);this.tV=!0;this.nfa=this.yJ=!1;this.Xs=e.D(e.Rect,0,0,-1,-1);a=this.j.fa;this.JV=a.No;this.IV=a.Mo;this.Zg()}m(){this.Gb().Xca(this.IB);this.Fr("destroy");this.IB=-1;super.m()}Fr(a,d){d||(d={});d.elementId=this.IB;this.ib(a,d)}rT(a){a||(a={});a.elementId=this.IB;this.lI("focus",a)}nA(a){a=!!a;this.tV!==a&&(this.tV=a,this.Fr("set-visible",{isVisible:a}))}Kd(){this.Xea()}Dea(){const a=
this.j.fa.vz();return"Android"===e.od.Cr&&("scale-inner"===a||"scale-outer"===a||"crop"===a)}Xea(){var a=this.A();const d=a.Z();var c=a.da(),f=a.ea();let [k,h]=d.wp(c,f),[l,n]=d.wp(c+a.X(),f+a.W());c=this.j.fa;f=c.cd;const p=c.Sc;if(a.ad()&&d.ad()){if(!this.Dea()){if(0>=l||0>=n||k>=f||h>=p){this.nA(!1);return}1>k&&(k=1);1>h&&(h=1);l>=f&&(l=f-1);n>=p&&(n=p-1)}b.set(k,h,l,n);a=c.No;f=c.Mo;b.vd(this.Xs)&&this.JV===a&&this.IV===f?this.nA(!0):(this.Xs.Ba(b),this.JV=a,this.IV=f,this.nA(!0),a=null,this.nfa&&
(a=d.Al()-.2),this.Fr("update-position",{left:Math.round(this.Xs.R)+c.fp(),top:Math.round(this.Xs.O)+c.gp(),width:Math.round(this.Xs.width()),height:Math.round(this.Xs.height()),fontSize:a}))}else this.nA(!1)}dO(){this.rT({focus:!0})}uN(){this.rT({focus:!1})}$ba(){this.yJ=!0}Zba(){this.yJ=!1}L6(a,d){this.Fr("set-css-style",{prop:e.TY(a),val:d})}K6(a,d){this.Fr("set-attribute",{name:a,val:d})}S5(a){this.Fr("remove-attribute",{name:a})}}}
{"use strict";const e=self.B,b=self.p2;e.lv=class extends e.ja{constructor(a){super();this.j=a.ic;this.QK=e.D(e.yE);this.QC=e.D(e.yE);this.Iw=null;this.xga=a.uva||null}m(){this.QC.m();this.QK.m();this.j=null}I(){return this.j}mc(){}T8(a){this.QK.yc(a)}pF(){return this.QK.YE()}Yg(a){this.QC.yc(a)}Mp(a){this.QC.rl(a)}na(){return this.QC.YE()}Z0(){if(null===this.Iw){const a=this.xga;if(a){if(this.Iw=new a(this),!(this.Iw instanceof b))throw new TypeError("script interface class must derive from IBehavior");
}else this.Iw=new b(this)}return this.Iw}}}{"use strict";const e=self.B;e.nv=class extends e.ja{constructor(b){super();this.j=b.I();this.Rc=b;this.L=b.J();this.nj=b.Hg();this.nj.T8(this.L)}m(){this.nj=this.L=this.Rc=this.j=null}Ig(){return this.Rc}J(){return this.L}I(){return this.j}Hg(){return this.nj}}}
{"use strict";const e=self.B;e.mv=class extends e.ja{constructor(b,a){super();this.oB=b;this.Xn=a;this.K=b.K;this.j=b.I();this.Rc=b.Ig();this.Xc=this.Rc.Xc;this.rC=this.km=this.jm=!1;this.Ge=null}m(){this.ms();this.Pn();this.CI();this.Ge&&(this.Ge.m(),this.Ge=null);this.Xc=this.Rc=this.j=this.K=this.oB=null}Hg(){return this.Rc.Hg()}J(){return this.K.J()}A(){return this.K.A()}I(){return this.j}Ig(){return this.Rc}Gz(){return this.oB.Gz()}U(b){return this.j.U(b,this.K,this.Rc)}ru(b){return this.j.ru(b,
this.K,this.Rc)}Be(b){return this.j.Be(b,this.K,this.Rc)}Kd(){}Yr(){}kG(){}Zg(){this.jm||(this.j.M8(this),this.jm=!0)}ms(){this.jm&&(this.j.Uca(this),this.jm=!1)}On(){this.km||(this.j.N8(this),this.km=!0)}Pn(){this.km&&(this.j.Vca(this),this.km=!1)}BI(){this.rC||(this.j.L8(this),this.rC=!0)}CI(){this.rC&&(this.j.Tca(this),this.rC=!1)}rE(b,a){this.j.Fi(this.Xn,b,a)}Dc(){return null}lc(){}Xb(){}ff(){}fG(b,a){if(0!==a){var d=this.Xb(b);if("number"!==typeof d)throw Error("expected number");this.ff(b,
d+a)}}jg(){return null}}}
{"use strict";const e=self.B;e.C={};e.qa={};e.t5=class extends e.ja{constructor(b){super();this.j=b;this.mfa=[];this.gW=new Map;this.Pd=null;this.jfa=[];this.dJ=new Map;this.BV=this.wL=null}GZ(b){const a=this.j.Dh(b[0]);if(!a)throw Error("missing plugin");e.fY(b,a);b=e.D(a,{ic:this.j,vX:b[1],Kha:b[2],Jha:b[5],xha:b[8],Xha:b[9],wia:b[13],via:b[14]});b.mc();this.mfa.push(b);this.gW.set(a,b)}IZ(){this.Pd=e.D(e.C.Ta,{ic:this.j,vX:!0});this.Pd.mc()}CZ(b){b=this.j.Dh(b[1]);if(!b)throw Error("missing behavior");const a=
e.D(b,{ic:this.j});a.mc();this.jfa.push(a);this.dJ.set(b,a);!this.wL&&e.qa.sia&&a instanceof e.qa.sia?this.wL=a:!this.BV&&e.qa.Mha&&a instanceof e.qa.Mha&&(this.BV=a)}z1(b){return this.gW.get(b)||null}c2(b){return this.dJ.has(b)}y0(b){return this.dJ.get(b)||null}Ou(){return this.Pd}wF(){return this.wL}}}
{"use strict";const e=self.B,b=new Set;e.Wu=class extends e.ja{constructor(){super();this.Rj="";this.P=this.S=this.lt=this.kt=this.xt=0;this.Fw=this.tC=!1;this.mf=null;this.zm="";this.vg=e.D(e.Rect);this.Eq=e.D(e.Bd);b.add(this)}m(){this.Ih();this.mf=null;b.delete(this)}static Dr(){for(const a of b)a.zm="",a.vg.set(0,0,0,0),a.Eq.Ci(a.vg)}yP(a){this.Rj=a[0];this.xt=a[1];this.kt=a[2];this.lt=a[3];this.S=a[4];this.P=a[5];this.tC=a[6];this.Fw=!0}zP(a,d){if(this.mf)throw Error("already loaded asset");
this.Rj=d;const c={};e.LF(d)&&(c.xy="remote");this.bG(a,c);return this.mf.xP()}c6(a){if(a===this)throw Error("cannot replace with self");this.Ih();this.Rj=a.Rj;this.xt=a.xt;this.kt=a.kt;this.lt=a.lt;this.S=a.S;this.P=a.P;this.Fw=a.Fw;this.mf=a.mf;this.zm=a.zm;this.vg=a.vg;this.Eq=a.Eq}gn(){return this.xt}X(){return this.S}W(){return this.P}bG(a,d){if(this.mf)throw Error("already got asset");d=Object.assign({},d,{url:this.Rj,size:this.gn()});this.mf=a.bA(d)}Vz(){return this.mf&&this.mf.Vz()}async xp(a,
d){if(!this.mf)throw Error("no asset");if(this.zm)throw Error("already loaded texture");this.zm="loading";a=await this.mf.xp(a,d);if(!a)return this.zm="",null;this.zm="loaded";this.Fw||(this.S=a.X(),this.P=a.W(),this.Fw=!0);this.vg.set(this.kt,this.lt,this.kt+(this.tC?this.P:this.S),this.lt+(this.tC?this.S:this.P));this.vg.Lm(a.X(),a.W());this.Eq.Ci(this.vg);this.tC&&this.Eq.kia();return a}Ih(){this.zm&&(this.mf&&this.mf.Ih(),this.zm="",this.vg.set(0,0,0,0),this.Eq.Ci(this.vg))}Id(){return this.mf?
this.mf.Id():null}gk(){return this.vg}Hz(){return this.Eq}async k0(){const a=await this.mf.e4(),d=e.Eg(this.S,this.P);d.getContext("2d").drawImage(a,this.kt,this.lt,this.S,this.P,0,0,this.S,this.P);return d}}}
{"use strict";const e=self.B;e.DY=class extends e.ja{constructor(b){super();this.Ia=b[0];this.Lx=b[1];this.oC=!!b[2];this.ut=b[3];this.rW=b[4];this.Yfa=!!b[5];this.hb=b[6];this.ae=b[7].map(a=>e.D(e.CY,a))}m(){for(const b of this.ae)b.m();e.F(this.ae)}Y3(b){for(const a of this.ae)a.ie().bG(b)}Z3(b,a){return Promise.all(this.ae.map(d=>d.ie().xp(b,a)))}M5(){for(const b of this.ae)b.ie().Ih()}wa(){return this.Ia}$m(b){b=Math.floor(b);if(0>b||b>=this.ae.length)throw new RangeError("invalid frame");return this.ae[b]}Gl(){return this.Lx}dn(){return this.ut}}}
{"use strict";const e=self.B;e.CY=class extends e.ja{constructor(b){super();this.tg=e.D(e.Wu);this.tg.yP(b);this.KU=b[7];this.dW=e.D(e.Hv,b[8],b[9]);this.bC=b[10].map(a=>e.D(e.E2,this,a));this.mV=new Map;for(const a of this.bC)this.mV.set(a.wa().toLowerCase(),a);this.Up=null;b=b[11];6<=b.length&&(this.Up=e.D(e.$o,b))}m(){this.Up&&(this.Up.m(),this.Up=null);this.tg.m();this.tg=null}ie(){return this.tg}ak(){return this.dW.T}bk(){return this.dW.N}a1(b){return this.mV.get(b.toLowerCase())||null}$0(b){b=
Math.floor(b);return 0>b||b>=this.bC.length?null:this.bC[b]}jF(){return this.bC.length}}}{"use strict";const e=self.B;e.E2=class extends e.ja{constructor(b,a){super();this.Ia=a[0];this.eL=e.D(e.Hv,a[1],a[2])}m(){}wa(){return this.Ia}da(){return this.eL.T}ea(){return this.eL.N}}}
{"use strict";const e=self.B,b=self.xh,a=self.Uu;e.eG=class extends e.ja{constructor(d,c,f){super();const k=d.Dh(f[1]);this.j=d;this.ki=d.to.z1(k);this.Xc=null;this.Ow=k.Instance;this.Ua=c;this.hb=f[11];this.Ia=f[0];this.$w=this.j.Oi(f[14]);this.Wfa=!!f[9];this.Wa=!!f[2];this.pK=!!f[10];this.Ej=f[3].map(h=>({MX:h[0],type:h[1],name:h[2],Lha:d.Oi(h[3])}));this.pfa=f[4];this.Hfa=f[5];this.Tf=this.ki.Tf;this.Sa=null;this.vB=e.D(e.R7,d.jh,d.ih);this.WI=!0;this.XI=!1;this.HJ=this.eq=null;this.$h=-1;this.GJ=
this.NB=this.OB=this.FJ=this.Zh=null;this.jK=!1;this.dh=null;this.xU=f[8].map(h=>e.rN.Oa(this,h));this.pB=[];this.eJ=new Map;this.cJ=new Map;this.SW=new Set;this.xo=e.D(e.O7,this);this.lB=this.kB=this.$d=this.tg=this.dh=this.Cs=null;this.Dt=0;this.Ib=new Map;this.ti=new Map;this.H=[];this.YJ=!0;this.ki.EF()&&(this.Sa=e.D(e.ul,this,f[12]));f[6]&&(this.tg=e.D(e.Wu),this.tg.yP(f[6]));if(f[7]){this.$d=f[7].map(h=>e.D(e.DY,h));this.kB=new Map;this.lB=new Map;for(const h of this.$d)this.kB.set(h.wa().toLowerCase(),
h),this.lB.set(h.hb,h)}this.Wa?(this.eq=[],this.HJ=new Set,this.$h=this.j.saa()):(this.Zh=[],this.FJ=new Set,this.OB=[],this.NB=[],this.GJ=[]);this.Xc=e.D(k.Lf,this,f[15]);this.sV=this.Kw=null;this.qe=e.D(e.Event.zb);if(c=this.Xc.jg()){if(this.Kw=new c(this),!(this.Kw instanceof a))throw new TypeError("script interface class must derive from IObjectClass");}else this.Kw=new a(this);this.j.CD&&!this.Wa&&!this.pK&&this.Tf||this.mc();this.ki.bo&&(this.ki.xea(this),this.K9(f))}static Oa(d,c,f){return e.D(e.eG,
d,c,f)}m(){this.tg&&(this.tg.m(),this.tg=null);if(this.$d){for(const d of this.$d)d.m();e.F(this.$d);this.kB.clear();this.lB.clear()}this.xo.m();this.xo=null;this.Ib.clear();this.ti.clear();this.j=this.dh=null}nba(d){for(let c=1,f=d.length;c<f;++c){const k=this.j.Cf(d[c]);this.eq.push(k);this.HJ.add(k);k.Zh.push(this);k.FJ.add(this)}}Wda(d){this.jK=!0;this.dh=d}Zb(){return this.jK}Uba(){var d=0;if(!this.Wa)for(var c of this.Zh)for(var f of c.xU){const l=f.wa().toLowerCase();this.eJ.set(l,f);this.cJ.set(l,
d);this.pB.push(f);++d}for(var k of this.xU)c=k.wa().toLowerCase(),this.eJ.set(c,k),this.cJ.set(c,d),this.pB.push(k),++d;for(var h of this.pB)this.SW.add(h.Hg().constructor);if(!this.Wa&&this.Zh.length){d=this.j.PU;e.PD(this.OB,d,0);e.PD(this.NB,d,0);e.PD(this.GJ,d,0);d=[];c=h=k=0;for(const l of this.Zh)if(f=l.$h,this.OB[f]=k,k+=l.Ej.length,this.NB[f]=h,h+=l.pfa,this.GJ[f]=c,c+=l.Hfa,(f=l.Sa)&&this.Sa)for(const n of f.Gg())d.push(n.iZ(this.Sa));this.Sa&&this.Sa.y5(d)}}K9(d){const c=this.j.raa(),f=
e.D(e.Instance,{ic:this.j,EM:this,uid:c});f.zA(d[16],[]);this.j.Gba(c,f);this.H.push(f)}mc(){this.Wa||this.Xc.mc()}g2(){return 0<this.Dt}yp(d){if(this.Wa)return Promise.resolve();this.Dt++;return 1===this.Dt?this.Xc.yp(d)||Promise.resolve():Promise.resolve()}xn(){if(!this.Wa){this.Dt--;if(0>this.Dt)throw Error("released textures too many times");0===this.Dt&&this.Xc.xn()}}cA(){if(this.Wa)throw Error("not applicable to family");this.Xc.cA()}lG(d){return this.Wa?Promise.resolve():this.Xc.lG(d)}I(){return this.j}Gb(){return this.ki}wa(){return this.Ia}Oi(){return this.$w}Ha(){return this.Ua}Rg(){return this.Wfa}DR(d){return d&&
this.SW.has(d)}g1(){return this.Ej.map(d=>d.MX)}f1(d){return this.Ej.findIndex(c=>c.MX===d)}e1(d){return this.Ej.findIndex(c=>c.name===d)}aaa(){return this.Ej.map(d=>d.Lha)}Hu(d){d=Math.floor(d);if(0>d||d>=this.Ej.length)throw new RangeError("invalid instance variable index");return this.Ej[d].type}xO(d){d=Math.floor(d);if(0>d||d>=this.Ej.length)throw new RangeError("invalid instance variable index");return this.Ej[d].name}kz(d){return this.eJ.get(d.toLowerCase())||null}Bu(d){d=this.cJ.get(d.toLowerCase());
return"undefined"===typeof d?-1:d}EF(){return this.ki.EF()}ER(){return this.Sa&&this.Sa.Y1()}V(){return this.xo.V()}ie(){return this.tg}PQ(d){this.Cs=d}BE(d){return this.FJ.has(d)}aO(d){return this.HJ.has(d)}Zm(d){return this.NB[d]}tO(d){return this.OB[d]}hO(d){if(!this.$d)throw Error("no animations");return this.kB.get(d.toLowerCase())||null}w0(d){if(!this.$d)throw Error("no animations");return this.lB.get(d)||null}R0(){if(!this.$d)throw Error("no animations");return this.$d[0].$m(0)}F0(){if(this.$d){const d=
this.R0().ie();return[d.X(),d.W()]}return this.tg?[this.tg.X(),this.tg.W()]:[100,100]}fk(){if(!this.ki.bo)throw Error("not a single-global plugin");return this.H[0]}na(){return this.H}*tX(){yield*this.H}*Bha(){yield*this.H;for(const d of this.j.gm)d.J()===this&&(yield d)}Yg(d){this.H.push(d)}bw(){this.YJ=!0}cB(){if(this.YJ&&!this.Wa){var d=this.H,c=0;for(let f=d.length;c<f;++c)d[c].QT(c);d=this.j.gm;for(const f of d)f.J()===this&&f.QT(c++);this.YJ=!1}}wO(d){var c=this.H;if(d<c.length)return c[d];
d-=c.length;c=this.j.gm;for(const f of c)if(f.J()===this){if(0===d)return f;--d}return null}hp(d){if(d&&d.Zb()&&d.J()!==this)for(const c of d.Od)if(c.J()===this)return c;d=this.V().na();return d.length?d[0]:null}x1(d){const c=this.V().na();return 0<c.length?c[d.ip()%c.length]:null}*$W(d,c){const f=this.V().na();var k=f.length;const h=c.V(),l=c.V().na(),n=l.length;var p=d.ip();if(c.Wa||!h.Wb)p=l.indexOf(d);d=Math.ceil(k/n);k%=n;0===k||p<k?(p*=d,k=d):(p=k*d+(p-k)*(d-1),k=d-1);for(let u=p,q=p+k;u<q;++u)yield f[u]}xu(d){this.Xc.xu(d)}jc(){if(this.jK&&
!this.Wa){this.cB();var d=this.V(),c=d.H,f=d.Wb,k=this.j.Bf();k=k&&k.Fb()&&k.Fb().de;for(const n of this.dh.qm)if(n!==this){n.cB();var h=n.V();h.Ce(f);if(!f){var l=h.H;e.F(l);for(const p of c)l.push(n.wO(p.ip()));if(k){l=d.uc;h=h.uc;e.F(h);for(const p of l)h.push(n.wO(p.ip()))}}}}}Rea(d,c){for(const f of this.dh.qm){const k=f.V();d?e.Te(k.uc,c):e.Te(k.H,c)}}NT(){this.WI=!0}sI(d){this.XI=!!d}kU(){if(this.WI&&this.Tf){for(const d of this.H)d.A().nU();for(const d of this.j.gm)d.J()===this&&d.A().nU();
this.WI=!1}}Ui(){this.Ib||(this.Ib=new Map);return this.Ib}Ru(){this.ti||(this.ti=new Map);return this.ti}XO(){return this.DR(e.qa.jna)}FF(){return this.DR(e.qa.Jna)}ma(){const d={instances:this.H.map(c=>c.Dc())};this.Ib&&this.Ib.size&&(d.ex=e.lH(this.Ib));return d}pa(d){this.Ib&&(this.Ib.clear(),this.Ib=null);var c=d.ex;c&&(this.Ib=e.WE(c));c=this.H;d=d.instances;for(let f=0,k=Math.min(c.length,d.length);f<k;++f)c[f].lc(d[f]);for(let f=d.length,k=c.length;f<k;++f)this.j.sl(c[f]);for(let f=c.length,
k=d.length;f<k;++f){c=d[f];let h=null;if(this.Tf&&(h=this.j.Nb().zz(c.w.l),!h))continue;this.j.Ji(this.Cs||this,h,!1,0,0,!0).lc(c)}this.bw()}zh(d){var c=this.j;(c=c.Cb&&!c.la().Tz())&&b.hH();this.qe.dispatchEvent(d);c&&b.wE()}}}{"use strict";const e=self.B;e.wZ=class extends e.ja{constructor(b,a){super();this.j=b;this.qm=a;for(const d of this.qm)d.Wda(this)}m(){this.j=null}I(){return this.j}b2(){return this.qm.some(b=>b.Tf)}}}
{"use strict";const e=self.B,b=self.xh,a=self.qp,d=[];let c=0;const f=new WeakMap,k=new WeakMap;e.Instance=class extends e.ja{constructor(h){super();this.j=h.ic;this.ke=h.EM;this.He=this.ka=this.lb=null;this.kV=0;this.hc=h.uid;this.mW=c++;this.za=0;this.Ic=this.nf=d;var l=this.ke.pB;0<l.length&&(this.Ic=l.map((n,p)=>e.D(e.Ny,{ic:this.j,eM:n,instance:this,index:p})));this.Od=this.ke.Zb()?[]:null;this.Qd=-1;this.Sb=null;l=this.Gb();l.qn()&&(this.za|=4);if(l.Tf)if(this.lb=e.D(e.E8,this,h.ge),h.WX)this.lb.jn(h.WX);
else{this.lb.X2();const [n,p]=this.ke.F0();this.lb.Fc(n,p);this.J().ER()&&this.lb.Je.a4()}h.sX?this.qba(h.sX):this.lba()}m(){this.He&&(this.He.$v(),this.He=null);if(0<this.Ic.length){for(var h of this.Ic)h.m();e.F(this.Ic)}this.ka.m();this.ka=null;if(h=f.get(this))h.clear(),f.delete(this);if(h=k.get(this))h.clear(),k.delete(this);this.Od&&e.F(this.Od);this.Sb&&(this.Sb.m(),this.Sb=null);this.ke=this.j=null;0<this.nf.length&&e.F(this.nf);this.lb&&(this.lb.m(),this.lb=null)}qba(h){0<h.length&&(this.nf=
[],e.wd(this.nf,h))}lba(){const h=this.ke.Ej.length;if(0!==h){this.nf=[];var l=[0,0,""];for(let n=0;n<h;++n)this.nf.push(l[this.ke.Hu(n)])}}zA(h,l){if(this.ka)throw Error("already got sdk instance");for(let n=0,p=this.Ic.length;n<p;++n)this.Ic[n].zA(l?l[n]:null);this.ka=e.D(this.ke.Ow,this,h);if(!(this.ka instanceof e.Bp))throw Error("sdk type must derive from SDKInstanceBase");for(let n=0,p=this.Ic.length;n<p;++n);this.ke.sV&&this.SS()}A(){return this.lb}I(){return this.j}u0(){const h=this.Qd;return-1===
h?this.I().Qd:h}$G(h){h=+h;if(0>h||!isFinite(h))h=0;this.Qd=h}k6(){this.Qd=-1}zb(){this.Sb||(this.Sb=e.D(e.Event.zb));return this.Sb}We(h){this.ka.We(h)}mc(h){this.ka.mc(h)}kea(){this.za|=2}Il(){return 0!==(this.za&2)}aI(){this.za|=1}Yu(){return 0!==(this.za&1)}qn(){return 0!==(this.za&4)}FP(){return 0!==(this.za&32)}dba(){return 0!==(this.za&8)}sv(h,l){h<<=16;this.za=l?this.za|h:this.za&~h}hF(h){return 0!==(this.za&h<<16)}Td(){return this.ka.Td()}pz(){return this.ka.pz()}qz(){return this.ka.qz()}jp(h){return this.ka.jp(h)}J(){return this.ke}Gr(){return this.ka.Gr()}er(h){return h.Wa?
h.aO(this.J()):this.J()===h}GR(){if(!this.Gb().JW)throw Error("object does not support scene graph");}jk(){return null!==this.Fa()}Fa(){var h=this.A();return h?(h=h.Fa())?h.Ea():null:null}Jz(){var h=this.A();return h?(h=h.Jz())?h.Ea():null:null}*Ay(){const h=this.A();if(h)for(const l of h.Ay())yield l.Ea()}Df(){const h=this.A();return h?h.Df():!1}zf(){const h=this.A();return h?h.zf().map(l=>l.Ea()):[]}*children(){const h=this.A();if(h)for(const l of h.children())yield l.Ea()}*il(){const h=this.A();
if(h)for(const l of h.il())yield l.Ea()}nz(){const h=this.A();return h?h.nz():0}$E(h){const l=this.A();return l?(h=l.$E(h))?h.Ea():null:null}Um(h,l){this.GR();h.GR();this.A().Um(h.A(),l||{})}nk(h){const l=this.A();l&&l.nk(h.A())}sz(){const h=this.A();return h?h.sz():!1}I7(){var h=this.A();if(h&&(h=h.pL))for(const l of h)if(h=this.j.Bh(l[2])){const n=l[3];this.Um(h,{eu:!!(n>>0&1),fu:!!(n>>1&1),br:!!(n>>2&1),$q:!!(n>>3&1),du:!!(n>>4&1),ny:!!(n>>5&1),gu:!!(n>>6&1)})}}Zb(){return null!==this.Od}cs(h){this.Od.push(h)}i2(h){return!!this.PO(h)}PO(h){const l=
this.Od;if(null===l||0===l.length)return!1;for(const n of l)if(n.J()===h)return n;return null}bj(){for(const h of this.Od)h.J().V().sk(h)}Jca(){for(const h of this.Od)h.J().V().Lp(h)}wea(h){for(const l of this.Od)l.J().V().H[h]=l}Ica(){for(const h of this.Od)h.J().V().Nn(h)}vea(h){for(const l of this.Od)l.J().V().uc[h]=l}Gb(){return this.ke.Gb()}QT(h){this.kV=h}ip(){this.ke.cB();return this.kV}z0(h){if(!h)return null;for(const l of this.Ic)if(l.Hg()instanceof h)return l;return null}jO(h){const l=
this.Ic;for(let n=0,p=l.length;n<p;++n)if(l[n].Ig().hb===h)return n;return-1}Ze(h){h|=0;const l=this.nf;if(0>h||h>=l.length)throw new RangeError("invalid instance variable");return l[h]}paa(h){return this.nf[h]}oaa(h){const l=this.nf[h];return 0===this.ke.Hu(h)?!!l:l}En(h,l){h|=0;const n=this.nf;if(0>h||h>=n.length)throw new RangeError("invalid instance variable");switch(this.ke.Hu(h)){case 0:n[h]=l?1:0;break;case 1:n[h]="number"===typeof l?l:parseFloat(l);break;case 2:n[h]="string"===typeof l?l:
l.toString();break;default:throw Error("unknown instance variable type");}}a7(h,l){if(0!==l){h|=0;var n=this.nf;if(0>h||h>=n.length)throw new RangeError("invalid instance variable");var p=n[h];if("number"===typeof p)n[h]="number"===typeof l?n[h]+l:n[h]+parseFloat(l);else{if("boolean"===typeof p)throw Error("can not set offset of boolean variable");if("string"===typeof p)throw Error("can not set offset of string variable");throw Error("unknown instance variable type");}}}Ui(){let h=f.get(this);if(h)return h;
h=new Map;f.set(this,h);return h}Ru(){let h=k.get(this);if(h)return h;h=new Map;k.set(this,h);return h}MS(h){const l=this.J();if(l.qe.CF(h))return!0;for(const n of l.Zh)if(n.qe.CF(h))return!0;return this.j.qe.CF(h)?!0:!1}bB(){const h=new Set;h.add(this);const l=this.A();if(l&&l.Df())for(const n of this.il())if(h.add(n),n.Zb())for(const p of n.Od)h.add(p);if(this.Zb())for(const n of this.Od)h.add(n);for(const n of h.values())n.hU()}hU(){if(this.MS("instancecreate")){const h=this.J(),l=new e.Event("instancecreate");
l.instance=this.Ch();h.zh(l);for(const n of h.Zh)n.zh(l);this.j.zh(l)}this.j.U(this.Gb().constructor.G.OP,this,null)}Pea(){this.j.U(this.Gb().constructor.G.G4,this,null)}S$(h){if(this.He){var l=new e.Event("destroy");l.Gha=h;this.zh(l)}if(this.MS("instancedestroy")){l=this.J();var n=new e.Event("instancedestroy");n.instance=this.Ch();n.Gha=h;l.zh(n);for(const p of l.Zh)p.zh(n);this.j.zh(n)}}Dc(h="full"){const l={};"full"===h?l.uid=this.hc:l.c3=!0;if("visual-state"!==h){var n=f.get(this);n&&n.size&&
(l.ex=e.lH(n));-1!==this.Qd&&(l.mts=this.Qd);if(0<this.ke.Ej.length){n={};var p=this.ke.g1();for(let u=0,q=this.nf.length;u<q;++u)n[p[u].toString()]=this.nf[u];l.ivs=n}if(this.Ic.length){n={};for(const u of this.Ic)(p=u.Dc())&&(n[u.Ig().hb.toString()]=p);l.behs=n}}this.lb&&(l.w=this.lb.ma(h));(h=this.ka.Dc())&&(l.data=h);return l}OA(h="full"){this.lb&&this.lb.OA(h)}lc(h,l="full"){if("full"===l)this.hc=h.uid;else if(!h.c3)return;if("visual-state"!==l){var n=f.get(this);n&&(n.clear(),f.delete(this));
if(n=h.ex)n=e.WE(n),f.set(this,n);this.Qd=h.hasOwnProperty("mts")?h.mts:-1;if(n=h.ivs)for(const [q,v]of Object.entries(n))if(n=this.ke.f1(parseInt(q,10)),!(0>n||n>=this.nf.length)){var p=v;null===p&&(p=NaN);this.nf[n]=p}}if(this.Gb().Tf){n=h.w;var u=n.l;this.lb.Z().hb!==u&&(p=this.lb.Z(),(u=p.kc().zz(u))?(this.lb.cw(u),p.Mp(this,!0),u.Yg(this,!0),u.Wg(),this.lb.Ca()):"full"===l&&this.j.sl(this));this.lb.pa(n,l)}if("visual-state"!==l&&(l=h.behs))for(const [q,v]of Object.entries(l))l=this.jO(parseInt(q,
10)),0>l||l>=this.Ic.length||this.Ic[l].lc(v);(h=h.data)&&this.ka.lc(h)}Ch(){return this.He||this.SS()}SS(){var h=this.lb?self.Vu:a;const l=this.ka.jg(),n=this.ke.sV,p=n||l||h;a.ij(this);this.He=new p;a.ij(null);if(l&&!(this.He instanceof h))throw new TypeError(`script interface class '${l.name}' does not extend the right base class '${h.name}'`);if(n&&(h=l||h,!(this.He instanceof h)))throw new TypeError(`setInstanceClass(): class '${n.name}' does not extend the right base class '${h.name}'`);return this.He}naa(h){if(0!==
this.nf.length){var l={},n=this.ke.aaa();for(let p=0,u=n.length;p<u;++p)l[n[p]]={configurable:!1,enumerable:!0,get:e.Instance.prototype.oaa.bind(this,p),set:e.Instance.prototype.En.bind(this,p)};l=Object.create(Object.prototype,l);h.eua={value:l,writable:!1}}}eaa(h){var l=this.Ic;if(0!==l.length){var n={};for(const p of l)n[p.Ig().Oi()]={value:p.Gz(),writable:!1};l=Object.create(Object.prototype,n);h.ky={value:l,writable:!1}}}zh(h){h.instance=this.Ch();var l=this.j;(l=l.Cb&&!l.la().Tz())&&b.hH();
this.Ch().dispatchEvent(h);l&&b.wE()}}}
{"use strict";const e=self.B;e.t6=class extends e.ja{constructor(b){super();this.Vb=b;this.Jc=null;this.tB=[];this.nD=b.X();this.mD=b.W();this.EL=this.DL=1;this.VC=0}m(){this.Jc=null;e.F(this.tB)}hR(b){this.VC=(this.Jc=b)?b.ua():0}Fa(){return this.Jc}Df(){return 0<this.tB.length}zf(){return this.tB}r7(b){this.DL=b}s7(b){this.EL=b}ck(){return this.Vb.mp()?this.Jc.X()/this.Jc.Mb.nD:1}dk(){return this.Vb.lp()?this.Jc.W()/this.Jc.Mb.mD:1}ma(){return{sw:this.nD,sh:this.mD,sx:this.DL,sy:this.EL,psa:this.VC,
c:this.tB.map(b=>{let a="";b.np()&&(a+="x");b.op()&&(a+="y");b.mp()&&(a+="w");b.lp()&&(a+="h");b.Kz()&&(a+="a");b.Lz()&&(a+="z");b.sz()&&(a+="d");return{uid:b.Ea().hc,f:a}})}}pa(b){this.nD=b.sw;this.mD=b.sh;this.DL=b.sx;this.EL=b.sy;this.VC=b.psa}Kp(b){const a=this.Vb,d=a.I();for(const c of b.c){b=d.Bh(c.uid).A();const f=c.f,k={};k.eu=f.includes("x");k.fu=f.includes("y");k.br=f.includes("w");k.$q=f.includes("h");k.du=f.includes("a");k.gu=f.includes("z");k.ny=f.includes("d");a.Um(b,k)}}}}
{"use strict";const e=self.B,b=e.D(e.Rect),a=e.D(e.Bd),d=e.D(e.Event,"bboxchange",!1),c=e.D(e.eb,0,0,0,0),f=e.D(e.$o),k=e.D(e.eb,1,1,1,1),h=e.D(e.Rect,0,0,-1,-1),l=e.D(e.Rect,0,0,-1,-1),n=new Set(["absolute","relative"]),p=[];let u=!0;e.E8=class extends e.ja{constructor(q,v){super();this.K=q;this.L=q.J();this.j=q.I();this.Tk=v;this.hl=-1;this.za=196635;this.L.Gb().zr()&&(this.za|=128);this.nt=this.mt=this.oJ=this.tL=this.Ya=this.Ik=this.Cj=this.Sj=this.jd=this.N=this.T=NaN;this.iJ=e.D(e.Rect);this.jJ=
e.D(e.Bd);this.uB=l;this.Ax=h;this.pi=this.Ft=this.jD=null;this.Wp=this.fb=k;this.Je=this.Kq=null;this.K.J().ER()&&(this.Je=e.D(e.o3,this.K,this));this.pL=this.Mb=null;this.Iq=this.wW=NaN;this.ii=null}aI(){this.za|=256}m(){this.Kq&&(this.j.qb().sQ(this.Kq),this.Kq=null);this.jD=null;this.Ft&&(this.Ft.EX.m(),this.Ft=null);this.pi&&(this.pi.clear(),this.pi=null);this.iA();this.jk()&&this.Fa().nk(this);if(this.Df()){const q=[...this.zf()];for(const v of q)this.nk(v)}this.SA();this.Tk=this.j=this.L=this.K=
null}jn(q){u=!1;this.Dd(q[0],q[1]);this.Kf(q[2]);this.Fc(q[3],q[4]);this.Ik=0;this.zr()?this.pd(q[6]):this.Ya=0;c.Rm(q[7]);this.UA(c);this.Sr(q[8]);this.Tr(q[9]);this.Gf(q[10]);this.Je&&this.Je.mba(q[12]);q[14]&&(this.pL=q[14][1],this.wW=q[14][2]);if(q[15]){var v=q[15];this.ME(v[0],v[1]);q=this.Vi();v=v[2];for(let r=0,w=v.length;r<w;++r){const y=v[r];for(let z=0,E=y.length;z<E;++z){const G=y[z],P=q.mr(z,r);P.Nh(G[0]);P.Oh(G[1]);P.Kf(G[2]);P.aH(G[3]);P.bH(G[4])}}}u=!0;this.ns()}X2(){this.tL=this.Ya=
this.Ik=this.Cj=this.Sj=this.jd=this.N=this.T=0;this.oJ=1;this.nt=this.mt=0;this.ns()}I(){return this.j}J(){return this.L}Ea(){return this.K}Rv(){return this.Kz()?this.Fa().ua()-this.Mb.VC:0}Nh(q){q=+q;if(this.np()){const v=this.Mb;q-=this.da();const r=-this.Rv();0===r?this.T+=q/v.ck():(this.T+=Math.cos(r)*q/v.ck(),this.op()&&(this.N+=Math.sin(r)*q/v.dk()))}else this.T=q}y4(q){q=+q;this.np()?this.Nh(this.da()+q):this.T+=q}da(){if(this.np()){let q=this.T;const v=this.Mb,r=this.Fa(),w=this.Rv();0===
w?q*=v.ck():(q=q*v.ck()*Math.cos(w),this.op()&&(q-=this.N*v.dk()*Math.sin(w)));return r.da()+q}return this.T}Oh(q){q=+q;if(this.op()){const v=this.Mb;q-=this.ea();const r=-this.Rv();0===r?this.N+=q/v.dk():(this.np()&&(this.T-=Math.sin(r)*q/v.ck()),this.N+=Math.cos(r)*q/v.dk())}else this.N=q}z4(q){q=+q;this.op()?this.Oh(this.ea()+q):this.N+=q}ea(){if(this.op()){let q=this.N;const v=this.Mb,r=this.Fa(),w=this.Rv();0===w?q*=v.dk():(q=q*v.dk()*Math.cos(w),this.np()&&(q+=this.T*v.ck()*Math.sin(w)));return r.ea()+
q}return this.N}Dd(q,v){q=+q;v=+v;if(this.UO()){const w=this.np(),y=this.op(),z=this.Mb,E=q-this.da(),G=v-this.ea();var r=-this.Rv();if(0===r)this.T=w?this.T+E/z.ck():q,this.N=y?this.N+G/z.dk():v;else{const P=Math.sin(r);r=Math.cos(r);this.T=w?y?this.T+(r*E-P*G)/z.ck():this.T+r*E/z.ck():q;this.N=y?w?this.N+(P*E+r*G)/z.dk():this.N+r*G/z.dk():v}}else this.T=q,this.N=v}rn(q,v){q=+q;v=+v;this.UO()?this.Dd(this.da()+q,this.ea()+v):(this.T+=q,this.N+=v)}b0(q,v){return this.da()===q&&this.ea()===v}Kf(q){q=
+q;this.Lz()&&(q-=this.Fa().$a());this.jd!==q&&(this.jd=q,this.rU(),q=this.Z(),0!==this.jd&&q.OT(),q.Wg())}rU(){this.ns();if(this.Df()){const q=this.zf();for(let v=0,r=q.length;v<r;v++){const w=q[v];w.Lz()&&w.rU()}}}A4(q){this.Kf(this.$a()+q)}$a(){return this.Lz()?this.Fa().$a()+this.jd:this.jd}$e(){return this.Z().$a()+this.$a()}dj(q){q=+q;this.Sj=this.mp()?this.Sj*(q/this.X()):q}JP(q){q=+q;this.mp()?this.dj(this.X()+q):this.Sj+=q}X(){return this.mp()?this.Fa().X()*this.Sj:this.Sj}$i(q){q=+q;this.Cj=
this.lp()?this.Cj*(q/this.W()):q}IP(q){q=+q;this.lp()?this.$i(this.W()+q):this.Cj+=q}W(){return this.lp()?this.Fa().W()*this.Cj:this.Cj}Fc(q,v){q=+q;v=+v;this.Sj=this.mp()?this.Sj*(q/this.X()):q;this.Cj=this.lp()?this.Cj*(v/this.W()):v}yl(){return this.Ik}F1(){if(this.jk()){const q=this.Mb;return Math.min(q.ck(),q.dk())}return 1}zr(){return 0!==(this.za&128)}pd(q){q=+q;this.zr()&&(this.Kz()&&(q-=this.Fa().ua()),q=e.kd(q),this.Ya!==q&&(this.Ya=q,this.bI()))}u4(q){q=+q;0!==q&&this.zr()&&(this.Ya=e.kd(this.Ya+
q),this.bI())}bI(){this.za|=262144;if(this.Df()){const q=this.zf();for(let v=0,r=q.length;v<r;v++)q[v].bI()}}ua(){return this.Kz()?e.kd(this.Fa().ua()+this.Ya):this.Ya}gT(){const q=this.za;if(0!==(q&262144)){var v=this.ua();this.tL=Math.sin(v);this.oJ=Math.cos(v);this.za=q&-262145}}vF(){this.gT();return this.tL}aF(){this.gT();return this.oJ}Sr(q){this.mt=+q}w4(q){this.mt+=+q}ak(){return this.mt}Tr(q){this.nt=+q}x4(q){this.nt+=+q}bk(){return this.nt}UA(q){this.fb.vd(q)||(this.fb===k?(this.fb=e.D(e.eb,
q),this.Wp=e.D(e.eb,q),this.Wp.MM()):q.qy(1,1,1,1)?this.Wp=this.fb=k:(this.fb.set(q),this.Wp.set(q),this.Wp.MM()),this.ns())}ef(q){q=e.ca(+q,0,1);this.fb.Uq!==q&&(c.kl(this.fb),c.Uq=q,this.UA(c))}v4(q){this.ef(this.Ud()+q)}Ud(){return this.fb.Uq}pR(q){this.fb.Nm(q)||(c.kl(q),c.Uq=this.fb.Uq,this.UA(c))}D7(q,v,r){c.$t(q,v,r);this.pR(c)}qF(){return this.Wp}sz(){return 0!==(this.za&512)}H6(q){this.jf(512,q)}np(){return 0!==(this.za&1024)}y7(q){this.jf(1024,q)}op(){return 0!==(this.za&2048)}UO(){return 0!==
(this.za&3072)}z7(q){this.jf(2048,q)}mp(){return 0!==(this.za&4096)}x7(q){this.jf(4096,q)}lp(){return 0!==(this.za&8192)}w7(q){this.jf(8192,q)}Kz(){return 0!==(this.za&16384)}v7(q){this.jf(16384,q)}Lz(){return 0!==(this.za&32768)}A7(q){this.jf(32768,q)}XR(){this.za&=-65025}Um(q,v){if(q!==this&&!q.jk()&&!this.OS(q)&&!this.NS(q)){var r=q.da(),w=q.ea(),y=q.X(),z=q.W(),E=q.ua(),G=q.$a();q.YT(this);q.y7(v.eu);q.z7(v.fu);q.x7(v.br);q.w7(v.$q);q.v7(v.du);q.A7(v.gu);q.H6(v.ny);v.eu&&(q.T=r-this.da(),v.br&&
(q.T/=this.X()/this.Mb.nD));v.fu&&(q.N=w-this.ea(),v.$q&&(q.N/=this.W()/this.Mb.mD));v.br&&(q.Sj=y/this.X(),q.Mb.r7(q.Sj));v.$q&&(q.Cj=z/this.W(),q.Mb.s7(q.Cj));v.du&&(q.Ya=E-this.ua());v.gu&&(q.jd=G-this.$a());this.O8(q);this.Ca()}}nk(q){if(q.Fa()===this){var v=q.da(),r=q.ea(),w=q.X(),y=q.W(),z=q.ua(),E=q.$a();q.YT(null);q.XR();q.Dd(v,r);q.Fc(w,y);q.pd(z);q.Kf(E);this.Wca(q);this.Ca()}}cda(){for(var q of this.children())this.nk(q);(q=this.Fa())&&q.nk(this);this.XR()}jk(){return null!==this.Fa()}Fa(){const q=
this.Mb;return null!==q?q.Fa():null}Jz(){let q=this;for(;q.jk();)q=q.Fa();return q}*Ay(){let q=this.Fa();for(;q;)yield q,q=q.Fa()}d2(q){return this.zf().includes(q)}Df(){const q=this.Mb;return null!==q?q.Df():!1}zf(){const q=this.Mb;return null!==q?q.zf():p}children(){return this.zf()}*il(){for(const q of this.children())yield q,yield*q.il()}nz(){return this.zf().length}$E(q){const v=this.zf();q=Math.floor(+q);return 0>q||q>=v.length?null:v[q]}AH(q){this.Mb||(this.Mb=e.D(e.t6,this));q&&this.Mb.hR(q)}SA(){this.Mb&&
(this.Mb.m(),this.Mb=null)}YT(q){q?(q.AH(null),this.AH(q)):(this.Mb&&this.Mb.hR(null),this.Df()||this.SA())}NS(q){if(!this.jk())return!1;const v=this.Fa();return v===q?!0:v.NS(q)}OS(q){if(this.d2(q))return!0;for(const v of this.zf())if(v.OS(q))return!0;return!1}O8(q){this.Mb.zf().push(q)}Wca(q){const v=this.Mb.zf(),r=v.indexOf(q);-1!==r&&v.splice(r,1);0!==v.length||this.jk()||this.SA();q.Df()||q.SA()}UG(q){this.Iq=q}ns(){if(u){var q=this.j.qb();this.Kq&&q.sQ(this.Kq);this.Kq=q.cY(0!==(this.za&524288)?
q.kD||"<point>":q.lD||"<default>",this.Li(),this.Wp,this.$a())}}hn(){return this.fb===k}Gf(q){q|=0;if(0>q||31<q)throw new RangeError("invalid blend mode");this.Li()!==q&&(this.za=this.za&-2080374785|q<<26,this.ns())}Li(){return(this.za&2080374784)>>26}cw(q){this.Tk=q;0!==this.$a()&&this.Tk.OT()}Z(){return this.Tk}kc(){return this.Z().kc()}$A(q){this.hl=q|0}ik(){this.Tk.gw();return this.hl}jf(q,v){this.za=v?this.za|q:this.za&~q}ad(){return 0!==(this.za&1)}Ae(q){this.jf(1,q)}Qg(){return 0!==(this.za&
8)}qv(q){q=!!q;this.Qg()!==q&&(this.jf(8,q),q?this.Ca():this.xT())}WG(q,v){this.jf(32,q);this.pi&&this.pi.clear();if(v.trim()){this.pi||(this.pi=new Set);for(const r of v.split(" "))r&&this.pi.add(r.toLowerCase())}else this.pi=null}ZF(q){const v=0!==(this.za&32),r=this.pi;if(!q||!r)return!v;for(const w of r)if(q.has(w))return v;return!v}Ca(){this.za|=65554;this.L.NT();this.j.M();this.Tk.Fp()&&(this.lu(this.iJ,this.jJ,!0),this.za&=-3,this.Yea());0!==(this.za&4)&&this.K.zb().dispatchEvent(d);if(null!==
this.Mb){const q=this.Mb.zf();for(let v=0,r=q.length;v<r;++v)q[v].Ca()}}lu(q,v,r){const w=this.da(),y=this.ea(),z=this.X(),E=this.W(),G=this.ua();q.Di(w-this.mt*z,y-this.nt*E,z,E);r&&this.Ef()&&this.M$(q);0===G?v.Ci(q):(q.offset(-w,-y),v.JX(q,this.vF(),this.aF()),v.offset(w,y),v.qM(q));q.normalize()}mU(){const q=this.za;0!==(q&2)&&(this.lu(this.iJ,this.jJ,!0),this.za=q&-3)}Kc(){this.mU();return this.iJ}Mi(){this.mU();return this.jJ}fA(q){var v=this.da(),r=this.ea();v=Math.round(v)-v;r=Math.round(r)-
r;if(0===v&&0===r)return q;a.Ba(q);a.offset(v,r);return a}C6(q){this.jf(4,q)}gP(){return 0!==(this.za&4)}oP(q,v,r){return v&&0!==this.yl()?this.ur(this.Z().Sv()):0===this.$a()||r?q.WD(this.Kc()):this.aba()}aba(){const q=this.Z(),v=this.$e();if(v>=q.mz())return!1;q.WO(v,b);return b.WD(this.Kc())}ur(q){var v=this.Kc();const r=v.R,w=v.ia,y=v.O;v=v.ba;const z=this.$e();return q.xZ(r,y,z,w,v,z+this.yl())}VA(q){this.jf(1048576,q)}XA(q){this.jf(2097152,q)}YG(q){this.jD=q;this.HH();this.Ef()&&(this.ii.yM=
null)}Oz(){return null!==this.jD||this.Ef()}Hl(){return this.kaa(this.X(),this.W(),this.ua(),this.vF(),this.aF())}kaa(q,v,r,w,y){let z=this.Ft;null===z&&(this.Ft=z={EX:e.D(e.$o),width:NaN,height:NaN,angle:NaN});const E=z.EX;if(z.width===q&&z.height===v&&z.angle===r)return E;const G=this.jD;if(this.Ef()){const P=this.ak(),C=this.bk(),H=this.Vi();let I=this.ii.yM;I||(G?(f.Ba(G),f.offset(P,C)):f.pia(),I=H.n3(f),this.ii.yM=I);H.f8(I,E);E.offset(-P,-C);E.eN(q,v,w,y)}else G?(E.Ba(G),E.eN(q,v,w,y)):E.WM(this.Mi(),
-this.da(),-this.ea());z.width=q;z.height=v;z.angle=r;return E}HH(){this.h7();const q=this.Ft;null!==q&&(q.width=NaN)}ME(q,v){q=Math.floor(q);v=Math.floor(v);if(!this.Ea().Gb().Bga)throw Error("object does not support mesh");this.iA();this.ii={$M:e.D(e.aa.EP,q,v),PX:e.D(e.aa.EP,q,v),yM:null}}Ef(){return null!==this.ii}Vi(){if(!this.Ef())throw Error("no mesh");return this.ii.$M}xF(){if(!this.Ef())throw Error("no mesh");return this.ii.PX}uv(q){this.jf(65536,q)}WF(){return 0!==(this.za&65536)}h7(){this.jf(131072,
!0)}M$(q){const v=this.ii.$M,r=Math.min(v.s1(),0),w=Math.min(v.t1(),0),y=Math.max(v.p1(),1),z=Math.max(v.q1(),1),E=q.width(),G=q.height();q.offsetLeft(r*E);q.offsetTop(w*G);q.aia((y-1)*E);q.$ha((z-1)*G);this.Ik=v.r1()}iA(){this.ii&&(this.ii.$M.m(),this.ii.PX.m(),this.ii=null,this.HH())}dR(q,v,r){q=Math.floor(q);v=Math.floor(v);var w=r.mode||"absolute";if(!n.has(w))throw Error("invalid mode");w="relative"===w;let y=r.x,z=r.y;const E=r.Ly;let G="number"===typeof r.TX?r.TX:w?0:-1;r="number"===typeof r.UX?
r.UX:w?0:-1;if(!this.Ef())return!1;const P=this.Vi(),C=P.mr(q,v);if(null===C)return!1;let H=!1;"number"===typeof E&&C.$a()!==E&&(C.Kf(E),H=!0);w&&(y+=q/(P.Mk-1),z+=v/(P.dl-1));-1!==G||w?(w&&(G+=q/(P.Mk-1)),G=e.ca(G,0,1)):G=C.nh;-1!==r||w?(w&&(r+=v/(P.dl-1)),r=e.ca(r,0,1)):r=C.ph;if(C.da()===y&&C.ea()===z&&C.nh===G&&C.ph===r)return H;C.Nh(y);C.Oh(z);C.aH(G);C.bH(r);this.HH();return!0}Il(){return this.K.Il()}qu(q,v){return this.Kc().dg(q,v)&&this.Mi().dg(q,v)?this.Il()?void 0:this.Oz()?this.Hl().dg(q-
this.da(),v-this.ea()):!0:!1}Yaa(){return 0!==(this.za&16)}nU(){if(this.Yaa()&&this.Qg()&&0===(this.za&256)){var q=this.Kc(),v=this.L.vB,r=this.uB;b.set(v.ej(q.R),v.fj(q.O),v.ej(q.ia),v.fj(q.ba));r.vd(b)||(q=this.K,r===l?(v.Pl(q,null,b),this.uB=e.D(e.Rect,b)):(v.Pl(q,r,b),r.Ba(b)),this.za&=-17)}}xT(){const q=this.uB;q!==l&&(this.L.vB.Pl(this.K,q,null),this.uB=l)}Yea(){const q=this.Z();if(q.Fp()&&0===(this.za&256)){var v=q.tt,r=this.Kc(),w=this.Ax;b.set(v.ej(r.R),v.fj(r.O),v.ej(r.ia),v.fj(r.ba));w.vd(b)||
(r=this.K,w===h?(v.Pl(r,null,b),this.Ax=e.D(e.Rect,b)):(v.Pl(r,w,b),w.Ba(b)),q.m7())}}yT(){const q=this.Ax;q!==h&&(this.Z().tt.Pl(this.K,q,null),this.Ax=h)}K8(){const q=this.K,v=this.Tk,r=v.H;r.length&&r.Se(-1)===q||(v.Mp(q,!1),v.Yg(q,!1),this.j.M())}I8(){const q=this.K,v=this.Tk,r=v.H;r.length&&r[0]===q||(v.Mp(q,!1),v.Fca(q),this.j.M())}J8(q){const v=this.K,r=this.Tk;if(r.kc()!==q.kc())throw Error("layer from different layout");q!==r&&(r.Mp(v,!0),this.cw(q),q.Yg(v,!0),this.j.M())}H8(q,v){const r=
this.K;let w=!1;const y=this.Tk;if(q.hc!==r.hc){var z=q.A();if(!z)throw Error("expected world instance");z=z.Z();y.Ha()!==z.Ha()&&(y.Mp(r,!0),this.cw(z),z.Yg(r,!0),w=!0);q=z.o4(r,q,!!v);(w||q)&&this.j.M()}}jea(q){this.jf(64,q)}Tu(){return 0!==(this.za&64)}ma(q){const v={x:this.da(),y:this.ea(),w:this.X(),h:this.W(),l:this.Z().hb,zi:this.ik()};0!==this.$a()&&(v.ze=this.$a());0!==this.ua()&&(v.a=this.ua());this.hn()||(v.c=this.fb.toJSON());.5!==this.ak()&&(v.oX=this.ak());.5!==this.bk()&&(v.oY=this.bk());
0!==this.Li()&&(v.bm=this.Li());this.ad()||(v.v=this.ad());this.Qg()||(v.ce=this.Qg());this.gP()&&(v.be=this.gP());this.Je&&(v.fx=this.Je.ma());const r=0!==(this.za&32);r&&(v.sfi=r);this.pi&&(v.sft=[...this.pi].join(" "));this.Mb&&"visual-state"!==q&&(v.sgi=this.Mb.ma());this.Ef()&&(v.mesh=this.Vi().Dc());return v}OA(q){"visual-state"!==q&&this.cda()}pa(q,v){u=!1;this.Nh(q.x);this.Oh(q.y);this.dj(q.w);this.$i(q.h);this.$A(q.zi);this.Kf(q.hasOwnProperty("ze")?q.ze:0);this.pd(q.hasOwnProperty("a")?
q.a:0);q.hasOwnProperty("c")?c.Rm(q.c):q.hasOwnProperty("o")?(c.kl(this.fb),c.Uq=q.o):c.Xo(1,1,1,1);this.UA(c);this.Sr(q.hasOwnProperty("oX")?q.oX:.5);this.Tr(q.hasOwnProperty("oY")?q.oY:.5);this.Gf(q.hasOwnProperty("bm")?q.bm:0);this.Ae(q.hasOwnProperty("v")?q.v:!0);this.qv(q.hasOwnProperty("ce")?q.ce:!0);this.C6(q.hasOwnProperty("be")?q.be:!1);this.WG(q.hasOwnProperty("sfi")?q.sfi:!1,q.hasOwnProperty("sft")?q.sft:"");this.Je&&q.hasOwnProperty("fx")&&this.Je.pa(q.fx);if(q.hasOwnProperty("sgi")&&
"visual-state"!==v){this.AH(null);const r=this.Mb,w=q.sgi;r.pa(w);const y=this.I().zb(),z=()=>{y.removeEventListener("afterload",z);0===(this.za&256)&&r.Kp(w)};y.addEventListener("afterload",z)}q.hasOwnProperty("mesh")?(q=q.mesh,this.ME(q.cols,q.rows),this.Vi().lc(q)):this.iA();this.Ca();u=!0;this.ns()}}}
{"use strict";const e=self.B;e.rN=class extends e.ja{constructor(b,a){super();const d=b.I(),c=d.to,f=d.Dh(a[1]);c.c2(f)||c.CZ(a);this.j=d;this.L=b;this.nj=c.y0(f);this.Xc=null;this.Ow=f.Instance;this.hb=a[2];this.Ia=a[0];this.$w=this.j.Oi(a[3]);this.Xc=e.D(f.Lf,this);this.mc()}static Oa(b,a){return e.D(e.rN,b,a)}m(){this.nj=this.j=null;this.Xc.m();this.Ow=this.Xc=null}mc(){this.Xc.mc()}I(){return this.j}J(){return this.L}Hg(){return this.nj}wa(){return this.Ia}Oi(){return this.$w}}}
{"use strict";const e=self.B,b=self.aP;e.Ny=class extends e.ja{constructor(a){super();this.j=a.ic;this.Rc=a.eM;this.nj=this.Rc.Hg();this.K=a.instance;this.Ua=a.index;this.He=this.ka=null;this.nj.Yg(this.K)}m(){this.He&&(this.He.$v(),this.He=null);this.nj.Mp(this.K);this.ka.m();this.K=this.nj=this.Rc=this.j=this.He=this.ka=null}zA(a){if(this.ka)throw Error("already got sdk instance");this.ka=e.D(this.Rc.Ow,this,a);this.Qaa()}I(){return this.j}Ig(){return this.Rc}Hg(){return this.nj}Ph(){return this.Ua}Dc(){return this.ka.Dc()}lc(a){return this.ka.lc(a)}static fH(a,
d){var c=a.K,f=d.K;const k=c.J().Ha(),h=f.J().Ha();if(k!==h)return k-h;c=c.mW;f=f.mW;return c!==f?c-f:a.oB.Ph()-d.oB.Ph()}Qaa(){const a=this.ka.jg(),d=a||b;b.ij(this);this.He=new d;b.ij(null);if(a&&!(this.He instanceof b))throw new TypeError(`script interface class '${a.name}' does not extend the right base class '${b.name}'`);}Gz(){return this.He}}}
{"use strict";const e=self.B;e.ul=class extends e.ja{constructor(b,a){super();this.Vb=b;this.bh=[];this.kj=[];this.HB=new Map;this.Yh=[];this.ot=!0;for(const d of a)b=e.D(e.XN,this,d,this.bh.length),this.bh.push(b),this.HB.set(b.wa().toLowerCase(),b),3<=d.length&&this.Yh.push(this.ZH(d[2]));this.I().Q8(this)}m(){e.F(this.bh);e.F(this.kj);this.HB.clear();e.F(this.Yh);this.Vb=null}y5(b){if(b.length){this.bh=b.concat(this.bh);for(const a of b)this.HB.set(a.wa().toLowerCase(),a);for(let a=0,d=this.bh.length;a<
d;++a)this.bh[a].mea(a)}}ZH(b){b=b.slice(0);for(let a=0,d=b.length;a<d;++a){const c=b[a];if(Array.isArray(c)){const f=e.D(e.eb);f.Rm(c);b[a]=f}}return b}I(){return this.Vb.I()}Kn(){e.F(this.kj);let b=!0;for(const a of this.bh)a.Lb&&(this.kj.push(a),a.jb.ot||(b=!1));this.ot=b}Gg(){return this.bh}Y1(){return 0<this.bh.length}Cl(b){return this.HB.get(b.toLowerCase())||null}qO(b){b=Math.floor(+b);if(0>b||b>=this.bh.length)throw new RangeError("invalid effect type index");return this.bh[b]}Zu(b){return this.qO(b).Lb}SQ(b,
a){this.qO(b).mA(a)}Tu(){return 0<this.kj.length}Kg(b){return this.Yh[b]}static r6(b){return b&&b instanceof e.eb?{t:"color",v:b.toJSON()}:b}static c4(b){if("object"===typeof b){if("color"===b.t){const a=e.D(e.eb);a.Rm(b.v);return a}throw Error("invalid effect parameter type");}return b}static IQ(b){return b.map(e.ul.r6)}static AP(b){return b.map(e.ul.c4)}Dc(){return this.bh.map(b=>({name:b.wa(),active:b.Lb,params:e.ul.IQ(this.Yh[b.Ha()])}))}lc(b){for(const a of b)if(b=this.Cl(a.name))b.mA(a.active),
this.Yh[b.Ha()]=e.ul.AP(a.params);this.Kn()}}}
{"use strict";const e=self.B;e.XN=class extends e.ja{constructor(b,a,d){super();this.Sa=b;this.Ie=a[0];this.Ia=a[1];this.Ua=d;this.jb=null;this.Lb=!0}m(){this.jb=this.Sa=null}iZ(b){b=e.D(e.XN,b,[this.Ie,this.Ia],-1);b.jb=this.jb;b.Lb=this.Lb;return b}QS(b){b=b.OO(this.Ie);if(!b)throw Error("failed to find shader program '"+this.Ie+"'");this.jb=b}wa(){return this.Ia}mea(b){this.Ua=b}Ha(){return this.Ua}I(){return this.Sa.I()}mA(b){this.Lb=!!b}G0(){const b=[];for(let a=0,d=this.jb.Tq.length;a<d;++a){const c=
this.jb.Bz(a);if("float"===c||"percent"===c)b.push(0);else if("color"===c)b.push(e.D(e.eb,1,1,1,1));else throw new TypeError("unknown effect parameter type");}return b}}}
{"use strict";const e=self.B;e.o3=class extends e.ja{constructor(b,a){super();this.K=b;this.Iga=a;this.Sa=b.J().Sa;this.Op=[];this.kj=[];this.ot=!0;this.Yh=[];for(const d of this.Sa.Gg())this.Op.push(!0);this.Kn()}m(){e.F(this.Op);e.F(this.kj);e.F(this.Yh);this.Sa=this.K=null}mba(b){for(const a of b)this.Yh.push(this.ZH(a))}ZH(b){b=b.slice(0);for(let a=0,d=b.length;a<d;++a){const c=b[a];if(Array.isArray(c)){const f=e.D(e.eb);f.Rm(c);b[a]=f}}return b}a4(){for(const b of this.Sa.Gg())this.Yh.push(b.G0())}I(){return this.K.I()}Kn(){e.F(this.kj);
const b=this.Sa.Gg(),a=this.kj,d=this.Op;let c=!0;for(let f=0,k=b.length;f<k;++f)if(d[f]){const h=b[f];a.push(h);h.jb.ot||(c=!1)}this.ot=c;this.Iga.jea(!!a.length)}Kg(b){return this.Yh[b]}Zu(b){return this.Op[b]}SQ(b,a){this.Op[b]=!!a}Gg(){return this.Sa.Gg()}ma(){return this.Sa.Gg().map(b=>({name:b.wa(),active:this.Op[b.Ha()],params:e.ul.IQ(this.Yh[b.Ha()])}))}pa(b){for(const a of b)if(b=this.Sa.Cl(a.name))this.Op[b.Ha()]=a.active,this.Yh[b.Ha()]=e.ul.AP(a.params);this.Kn()}}}
{"use strict";const e=self.B,b=[],a=[],d=e.D(e.$o),c=e.D(e.$o),f=e.D(e.Bd);e.D(e.Rect);e.D(e.Rect);let k=null,h=null,l=null;e.jZ=class extends e.ja{constructor(n){super();this.j=n;this.zx=[]}m(){this.j=null}L5(n,p){const u=n.A(),q=p.A();u&&q&&u.Qg()&&q.Qg()&&this.zx.push([n,p])}lN(n,p,u){for(const [q,v]of this.zx){let r;if(n===q)r=v;else if(n===v)r=q;else continue;r.er(p)&&(u.includes(r)||u.push(r))}}FN(n,p){if(!this.zx.length)return!1;for(const [u,q]of this.zx)if(n===u&&p===q||n===q&&p===u)return!0;
return!1}HN(){e.F(this.zx)}vk(n,p){if(!n||!p||n===p)return!1;n=n.A();p=p.A();if(!n.Qg()||!p.Qg())return!1;const u=n.Z(),q=p.Z();return u.Q3(q)?this.Mea(n,p):this.Lea(n,p)}Mea(n,p){if(!n.Kc().WD(p.Kc())||!n.Mi().tM(p.Mi())||n.Il()&&p.Il())return!1;if(n.Il())return this.kH(n,p);if(p.Il())return this.kH(p,n);if(!n.Oz()&&!p.Oz())return!0;const u=n.Hl(),q=p.Hl();return u.uy(q,p.da()-n.da(),p.ea()-n.ea())}Lea(n,p){var u=n.Il(),q=p.Il();if(u&&!q)return this.vR(n,p);if(q&&!u)return this.vR(p,n);if(q||u)return!1;
q=n.Z();u=p.Z();d.Ba(n.Hl());c.Ba(p.Hl());var v=d.ee;for(let r=0,w=v.length;r<w;r+=2){const y=r+1,z=v[y],[E,G]=q.wp(v[r]+n.da(),z+n.ea());v[r]=E;v[y]=G}n=c.ee;for(let r=0,w=n.length;r<w;r+=2){q=r+1;v=n[q];const [y,z]=u.wp(n[r]+p.da(),v+p.ea());n[r]=y;n[q]=z}d.VM();c.VM();return d.uy(c,0,0)}vR(n,p){var u=n.Z(),q=p.Z();k||(k=e.D(e.$o));h||(h=e.D(e.Rect));l||(l=e.D(e.Bd));var v=p.da(),r=p.ea();const [w,y]=q.wp(v,r),[z,E]=u.Dg(w,y);u=z-v;r=E-r;h.Ba(p.Kc());h.offset(u,r);if(!n.Kc().WD(h))return!1;l.Ba(p.Mi());
l.offset(u,r);if(!n.Mi().tM(l))return!1;k.Ba(p.Hl());q=k.ee;for(let G=0,P=q.length;G<P;G+=2)v=G+1,q[G]+=u,q[v]+=r;k.VM();return this.kH(n,p,z,E,k,h,l)}kH(n,p,u,q,v,r,w){r=void 0!==r?r:p.Kc();const y=n.da(),z=n.ea();var E=n.Ea().ka;u=void 0!==u?u:p.da();q=void 0!==q?q:p.ea();n=p.Oz();w=void 0!==w?w:p.Mi();E.jla(r,a);for(let C=0,H=a.length;C<H;++C){var G=a[C];E=G.mla();if(r.Dha(E,y,z)&&(f.Ci(E),f.offset(y,z),f.tM(w)))if(n){var P=void 0!==v?v:p.Hl();if(G=G.A1()){if(G.uy(P,u-(y+E.R),q-(z+E.O)))return e.F(a),
!0}else if(d.WM(f,0,0),d.uy(P,u,q))return e.F(a),!0}else if(P=G.A1()){if(d.WM(w,0,0),P.uy(d,-(y+E.R),-(z+E.O)))return e.F(a),!0}else return e.F(a),!0}e.F(a);return!1}Xr(n,p,u,q){const v=n.V();var r=this.j.Fb();if(!r)throw Error("cannot call outside event");r=r.de;if(v.Wb){q||(v.Ce(!1),e.F(v.H));for(var w of n.na()){var y=w.A(),z=y.Z();const [E,G]=z.Dg(p,u,y.$e());if(y.qu(E,G)){if(q)return!1;v.Lp(w)}else r&&v.Nn(w)}}else{w=r?v.uc:v.H;y=0;for(let E=0,G=w.length;E<G;++E){z=w[E];const P=z.A(),C=P.Z(),
[H,I]=C.Dg(p,u,P.$e());if(P.qu(H,I)){if(q)return!1;r?v.Lp(z):w[y++]=z}else r&&(w[y++]=z)}q||(w.length=y)}n.jc();return q?!0:v.DF()}oz(n,p,u,q){n=n?1!==n.le||1!==n.me:!1;if(p.Wa)for(const v of p.eq)n||v.XI?e.Km(q,v.na()):(v.kU(),v.vB.hA(u,q));else n||p.XI?e.Km(q,p.na()):(p.kU(),p.vB.hA(u,q))}u1(n,p,u,q){for(const v of p)this.oz(n,v,u,q)}H1(n,p,u){const q=this.j.wF();q&&this.u1(n,q.pF(),p,u)}ZF(n,p){return n.dba()&&(!p||p.A().ZF(n.Ui().get("solidTags")))}Jn(n){const p=n.A();this.H1(p.Z(),p.Kc(),b);
for(const u of b)if(this.ZF(u,n)&&this.vk(n,u))return e.F(b),u;e.F(b);return null}F5(n,p,u,q,v){q=q||50;const r=n.A(),w=r.da(),y=r.ea();for(let z=0;z<q;++z)if(r.Dd(w+p*z,y+u*z),r.Ca(),!this.vk(n,v))return;r.Dd(w,y);r.Ca()}mQ(n,p,u,q){q=q||50;const v=n.A(),r=v.da(),w=v.ea();let y=null,z=null;for(let E=0;E<q;++E)if(v.Dd(r+p*E,w+u*E),v.Ca(),!this.vk(n,y))if(y=this.Jn(n))z=y;else if(!y)return z&&this.E5(n,p,u,z),!0;v.Dd(r,w);v.Ca();return!1}E5(n,p,u,q){let v=2,r=!1;var w=!1;const y=n.A();let z=y.da(),
E=y.ea();for(;16>=v;)w=1/v,v*=2,y.rn(p*w*(r?1:-1),u*w*(r?1:-1)),y.Ca(),this.vk(n,q)||this.Jn(n)?w=r=!0:(w=r=!1,z=y.da(),E=y.ea());w&&(y.Dd(z,E),y.Ca())}nQ(n){let p=0;const u=n.A(),q=u.da(),v=u.ea();let r=0,w=this.Jn(n);if(w){for(;100>=p;){let y=0,z=0;switch(r){case 0:y=0;z=-1;p++;break;case 1:y=1;z=-1;break;case 2:y=1;z=0;break;case 3:z=y=1;break;case 4:y=0;z=1;break;case 5:y=-1;z=1;break;case 6:y=-1;z=0;break;case 7:z=y=-1}r=(r+1)%8;u.Dd(Math.floor(q+y*p),Math.floor(v+z*p));u.Ca();if(!this.vk(n,
w)&&(w=this.Jn(n),!w))return}u.Dd(q,v);u.Ca()}}yN(n,p,u,q){const v=n.A(),r=v.da(),w=v.ea(),y=Math.max(10,e.yg(p,u,r,w));var z=e.jl(p,u,r,w),E=q||this.Jn(n);if(!E)return e.kd(z+Math.PI);let G=E;var P=0,C=0;const H=e.Pa(5);let I;for(I=1;36>I;++I){const M=z-I*H;v.Dd(p+Math.cos(M)*y,u+Math.sin(M)*y);v.Ca();if(!this.vk(n,G)&&(G=q?null:this.Jn(n),!G)){P=M;break}}36===I&&(P=e.kd(z+Math.PI));G=E;for(I=1;36>I;++I)if(E=z+I*H,v.Dd(p+Math.cos(E)*y,u+Math.sin(E)*y),v.Ca(),!this.vk(n,G)&&(G=q?null:this.Jn(n),!G)){C=
E;break}36===I&&(C=e.kd(z+Math.PI));v.Dd(r,w);v.Ca();if(C===P)return C;n=e.Vq(C,P)/2;n=e.wf(C,P)?e.kd(P+n+Math.PI):e.kd(C+n);P=Math.cos(z);z=Math.sin(z);C=Math.cos(n);n=Math.sin(n);p=P*C+z*n;return e.jl(0,0,P-2*p*C,z-2*p*n)}}}
{"use strict";const e=self.B;e.R7=class extends e.ja{constructor(b,a){super();this.lJ=b;this.kJ=a;this.pj=e.D(e.dv)}m(){this.pj.m();this.pj=null}Xm(b,a,d){let c=this.pj.$(b,a);return c?c:d?(c=e.D(e.U1,this,b,a),this.pj.Set(b,a,c),c):null}ej(b){b=Math.floor(b/this.lJ);return isFinite(b)?b:0}fj(b){b=Math.floor(b/this.kJ);return isFinite(b)?b:0}Pl(b,a,d){if(a)for(let c=a.R,f=a.ia;c<=f;++c)for(let k=a.O,h=a.ba;k<=h;++k){if(d&&d.dg(c,k))continue;const l=this.Xm(c,k,!1);l&&(l.Jh(b),l.ln()&&this.pj.rl(c,
k))}if(d)for(let c=d.R,f=d.ia;c<=f;++c)for(let k=d.O,h=d.ba;k<=h;++k)a&&a.dg(c,k)||this.Xm(c,k,!0).Xu(b)}hA(b,a){let d=this.ej(b.R);const c=this.fj(b.O),f=this.ej(b.ia);b=this.fj(b.ba);if(isFinite(f)&&isFinite(b))for(;d<=f;++d)for(let k=c;k<=b;++k){const h=this.Xm(d,k,!1);h&&h.RE(a)}}}}
{"use strict";const e=self.B;e.U1=class extends e.ja{constructor(b,a,d){super();this.T=a;this.N=d;this.H=e.D(e.yE)}m(){this.H.m();this.H=null}ln(){return this.H.ln()}Xu(b){this.H.yc(b)}Jh(b){this.H.rl(b)}RE(b){e.Km(b,this.H.YE())}}}{"use strict";const e=self.B;e.voa=class{constructor(){this.lha=this.kha=0;this.rect=new e.Rect;this.oy=0}Set(b,a,d,c){this.kha=d-b;this.lha=c-a;this.rect.set(b,a,d,c);this.rect.normalize();this.oy=0;return this}}}
{"use strict";const e=self.B,b=new Set("off crop scale-inner scale-outer letterbox-scale letterbox-integer-scale".split(" ")),a=new Set(["high","low"]),d=self.nl.To,c=d.create(),f=e.D(e.Bd),k=e.D(e.Rect);e.DN=class extends e.ja{constructor(h){super();this.j=h;this.Fk=null;this.yV=!1;this.Tj=this.gb=null;this.QJ="high-performance";this.Wn=this.Vn=this.Uh=this.Vh=this.Sc=this.cd=this.Mo=this.No=0;this.Hs=!0;this.tj=this.Jk=this.KW=0;this.Ffa=this.UU="letterbox-scale";this.Efa=this.Dfa=0;this.BB=d.create();
this.Bj=this.ZL="high";this.Ts=!1;this.lw=[];this.BD=new Set;this.eD=self.C3_Shaders;this.sg=this.$n=0;this.Ms=NaN;this.YB=null;this.BK=new Map;this.Dw=NaN;this.HD=new Map;this.iD="";this.uL=1;this.BW=e.D(e.Rect);this.vL="";this.DW=this.Jx=null;this.ix=0;this.Oe=-1;this.lo=0;this.HK=l=>this.lo=l.progress;this.Wf=null;this.Yf={yy:null,By:null,Ky:null};this.zL=this.FW=this.AL=0;this.Pj="fade-in";this.yL=null;this.EW=new Promise(l=>this.yL=l)}gea(h){this.QJ=h}Bea(h){this.yV=!!h}async Eg(h){this.Fk=h.canvas;
this.j.Fi("runtime","window-resize",p=>this.zca(p));this.j.Fi("runtime","fullscreenchange",p=>this.aca(p));this.j.Fi("runtime","fullscreenerror",p=>this.bca(p));this.Fk.addEventListener("webglcontextlost",p=>this.Zv(p));this.Fk.addEventListener("webglcontextrestored",()=>this.iI());this.Ts=!!h.isFullscreen;var l=navigator.gpu&&this.yV;let n=!1;if(l)try{await this.US(!0)}catch(p){this.Tj=null}if(!this.qb())try{await this.TS(!0)}catch(p){this.gb=null}this.qb()||(n=!0);if(!this.qb()&&l)try{await this.US(!1)}catch(p){this.Tj=
null}if(!this.qb())try{await this.TS(!1)}catch(p){this.gb=null}l=this.qb();if(!l)throw Error("failed to acquire a renderer - check WebGL or WebGPU is supported");l.U6(n);this.Fc(h.windowInnerWidth,h.windowInnerHeight,!0);this.Tj?await this.Taa():this.gb&&await this.Saa();l.NG(this.Hs);l.uk()&&(this.Ms=0);h=!1;for(const p of this.j.RI){for(const u of p.Gg())u.QS(l),u.jb.ey&&(h=!0);p.Kn()}this.j.zea(h)}async US(h){h={powerPreference:this.QJ,depth:this.j.Hm,failIfMajorPerformanceCaveat:h};this.Tj=e.D(e.aa.Hsa);
await this.Tj.Oa(this.Fk,h)}async TS(h){h={powerPreference:this.QJ,nX:!0,depth:this.j.Hm,failIfMajorPerformanceCaveat:h};"Android"===e.od.Cr&&"Chromium"===e.od.Py&&75>e.od.DE&&(console.warn("[Construct 3] Disabling WebGL 2 because this device appears to be affected by crbug.com/934823. Install software updates to avoid this."),h.zX=1);"standard"===this.j.xs?h.alpha=!0:(h.alpha=!1,h.xM=!0);this.gb=e.D(e.aa.C8,this.Fk,h);await this.gb.Qz()}async Taa(){if(this.eD){const h=[];for(const [l,n]of Object.entries(this.eD))h.push(this.Tj.NE(l,
n.oE,e.aa.Isa.rz()));await Promise.all(h)}}async Saa(){if(this.eD){const h=[];for(const [l,n]of Object.entries(this.eD))n.src=n.UD,h.push(this.gb.NE(n,e.aa.Iv.rz(),l));await Promise.all(h);this.gb.h6();this.gb.cj()}this.gb.uk()&&(this.YB=e.D(e.aa.JR,this.gb))}m(){this.Fk=this.gb=this.j=null}zca(h){const l=this.j,n=h.devicePixelRatio;l.hm&&(self.devicePixelRatio=n);l.Zda(n);this.Ts=!!h.isFullscreen;this.Fc(h.innerWidth,h.innerHeight);l.M();l.Cb&&(l.rr()||self.xh.Ula())&&l.oG()}aca(h){this.Ts=!!h.isFullscreen;
this.Fc(h.innerWidth,h.innerHeight,!0);this.j.M()}bca(h){this.Ts=!!h.isFullscreen;this.Fc(h.innerWidth,h.innerHeight,!0);this.j.M()}Fc(h,l,n=!1){h=Math.floor(h);l=Math.floor(l);if(0>=h||0>=l)throw Error("invalid size");if(this.No!==h||this.Mo!==l||n){this.No=h;this.Mo=l;n=this.Du();"letterbox-scale"===n?this.j9(h,l):"letterbox-integer-scale"===n?this.i9(h,l):"off"===n?this.g9(h,l):this.h9(h,l);this.Wea(n);this.Fk.width=this.Vh;this.Fk.height=this.Uh;this.j.tn("canvas","update-size",{marginLeft:this.Vn,
marginTop:this.Wn,styleWidth:this.cd,styleHeight:this.Sc});h=this.qb();h.Fc(this.Vh,this.Uh,!0);for(var p of this.lw)h.VZ(p);e.F(this.lw);h.nu(this.BB,this.Jg()/this.ig());p=this.j.cb;p.Lr();p.Kr()}}j9(h,l){const n=this.j.zl(),p=this.j.jh,u=this.j.ih,q=p/u;h/l>q?(this.cd=Math.round(l*q),this.Sc=l,this.Vn=Math.floor((h-this.cd)/2),this.Wn=0):(this.cd=h,this.Sc=Math.round(h/q),this.Vn=0,this.Wn=Math.floor((l-this.Sc)/2));this.Vh=Math.round(this.cd*n);this.Uh=Math.round(this.Sc*n);this.j.Gv(p,u)}i9(h,
l){const n=this.j.zl();1!==n&&(h+=1,l+=1);const p=this.j.jh,u=this.j.ih;var q=p/u;q=h/l>q?l*q*n/p:h/q*n/u;1<q?q=Math.floor(q):1>q&&(q=1/Math.ceil(1/q));this.Vh=Math.round(p*q);this.Uh=Math.round(u*q);this.cd=this.Vh/n;this.Sc=this.Uh/n;this.Vn=Math.max(Math.floor((h-this.cd)/2),0);this.Wn=Math.max(Math.floor((l-this.Sc)/2),0);this.j.Gv(p,u)}h9(h,l){const n=this.j.zl();this.cd=h;this.Sc=l;this.Vh=Math.round(this.cd*n);this.Uh=Math.round(this.Sc*n);this.Wn=this.Vn=0;h=this.Al();this.j.Gv(this.cd/h,
this.Sc/h)}g9(h,l){const n=this.j.zl();this.cd=this.j.ag;this.Sc=this.j.$f;this.Vh=Math.round(this.cd*n);this.Uh=Math.round(this.Sc*n);this.Ts?(this.Vn=Math.floor((h-this.cd)/2),this.Wn=Math.floor((l-this.Sc)/2)):this.Wn=this.Vn=0;this.j.Gv(this.j.ag,this.j.$f)}Wea(h){if("high"===this.ZL)this.Jk=this.Vh,this.tj=this.Uh,this.Bj="high";else{let n;if("off"===this.Du()){var l=this.j.ag;n=this.j.$f}else l=this.j.jh,n=this.j.ih;this.Vh<l&&this.Uh<n?(this.Jk=this.Vh,this.tj=this.Uh,this.Bj="high"):(this.Jk=
l,this.tj=n,this.Bj="low","scale-inner"===h?(h=l/n,l=this.No/this.Mo,l<h?this.Jk=this.tj*l:l>h&&(this.tj=this.Jk/l)):"scale-outer"===h&&(h=l/n,l=this.No/this.Mo,l>h?this.Jk=this.tj*l:l<h&&(this.tj=this.Jk/l)))}}S6(h){if(!b.has(h))throw Error("invalid fullscreen mode");this.UU=h;h=this.j.cb;h.Lr();h.Kr()}vz(){return this.UU}Du(){return this.Ts?this.Ffa:this.vz()}VQ(h){if(!a.has(h))throw Error("invalid fullscreen scaling quality");this.ZL=h;this.j.cb.Lr()}static $$(h){switch(h){case 0:return"off";case 1:return"crop";
case 2:return"scale-inner";case 3:return"scale-outer";case 4:return"letterbox-scale";case 5:return"letterbox-integer-scale";default:throw Error("invalid fullscreen mode");}}Jg(){return this.Jk}ig(){return this.tj}NG(h){this.Hs=!!h}yea(h){this.KW=h}J3(){return this.qb().sp()}Zv(h){console.log("[Construct 3] WebGL context lost");h.preventDefault();this.lw=[];this.BD.clear();this.gb.Ml();this.j.Zv()}async iI(){await this.gb.gG();await this.Xsa();for(const h of this.j.RI)for(const l of h.Gg())l.QS(this.gb);
await this.j.iI();console.log("[Construct 3] WebGL context restored")}pp(){return this.gb}Su(){return this.Tj}qb(){return this.Tj||this.gb}Fl(){return"low"===this.Bj?1/this.j.zl():this.Al()}Al(){const h=this.Du();if("off"===h||"crop"===h)return 1;const l=this.j.jh,n=this.j.ih,p=l/n,u=this.Vh/this.Uh;return"scale-inner"!==h&&u>p||"scale-inner"===h&&u<p?this.Sc/n:this.cd/l}DG(h,l,n){l=l||this.Jk;n=n||this.tj;const p=l/2+this.Dfa,u=n/2+this.Efa;{let q=this.BB;if(l!==this.Jk||n!==this.tj)h.nu(c,l/n),
q=c;h.Vr(q)}l=h.mu(p,u,100*this.j.zl(),p,u,n||this.tj);h.Rr(l)}F6(h){var l=this.cd/2;const n=this.Sc/2;h.Vr(this.BB);l=h.mu(l,n,100,l,n);h.Rr(l)}fp(){return this.Vn}gp(){return this.Wn}zu(h){h.depth=this.j.Hm;const l=this.lw,n=l.findIndex(u=>u.w3(h));let p;-1!==n?(p=l[n],l.splice(n,1)):p=this.qb().HZ(h);this.BD.add(p);return p}wn(h){if(!this.BD.has(h))throw Error("render target not in use");this.BD.delete(h);this.lw.push(h)}*ID(){for(const h of this.j.cb.Fy())for(const l of h.ec){const n=this.BK.get(l);
n&&(yield n)}}AO(h){if(!this.qb().uk())return null;let l=this.BK.get(h);l||(l={name:h.wa(),aN:e.D(e.aa.JR,this.gb),LD:0,yX:0},this.BK.set(h,l));return l.aN}Tea(){const h=this.qb();if(h.uk()&&0===this.sg){this.sg=h.bi;this.Dw=NaN;for(const l of this.ID())l.LD=NaN}}$ea(){this.gb&&this.gb.uk()&&this.afa();this.Tj&&this.Tj.uk()&&this.bfa()}afa(){if(isNaN(this.Dw)&&(this.Dw=this.YB.vO(this.$n,this.sg),!isNaN(this.Dw))){if(this.j.Cb)for(const h of this.ID())if(h.LD=h.aN.vO(this.$n,this.sg),isNaN(h.LD))return;
this.YB.TN(this.sg);this.Ms=Math.min(this.Dw,1);if(this.j.Cb){for(const h of this.ID())h.aN.TN(this.sg),h.yX=Math.min(h.LD,1);self.xh.p8(this.Ms,[...this.ID()])}this.$n=this.sg;this.sg=0}}bfa(){if(0!==this.sg){for(var h=this.$n;h<this.sg;++h){var l=this.HD.get(h);if(l&&!l.Pz())return}l=this.j.Nb();h=e.Sg(l.ec.length+1,0);for(var n=this.$n;n<this.sg;++n){var p=this.HD.get(n);if(p){p=p.Fz();for(let u=0,q=Math.min(h.length,p.length/2);u<q;++u){const v=p[2*u],r=p[2*u+1];h[u]=0===Number(v)||0===Number(r)?
NaN:h[u]+Number(r-v)/1E9}}}this.Ms=e.ca(h[0],0,1);if(this.j.Cb){n=[];l=l.ec;for(let u=0,q=Math.min(l.length,h.length-1);u<q;++u)n.push({name:l[u].wa(),yX:e.ca(h[u+1],0,1)});self.xh.p8(this.Ms,n)}for(h=this.$n;h<this.sg;++h)this.HD.delete(h);this.$n=this.sg;this.sg=0}}c9(h){this.HD.set(this.Tj.bi,h)}xz(){return this.Ms}sR(h,l,n,p,u,q){this.iD=h;this.uL=l;this.BW.Di(n,p,u,q);return this.Jx?this.Jx:this.Jx=new Promise(v=>{this.DW=v})}Kba(){if(this.iD){var h=this.Fk,l=this.BW,n=e.ca(Math.floor(l.R),0,
h.width),p=e.ca(Math.floor(l.O),0,h.height),u=l.width();u=0===u?h.width-n:e.ca(Math.floor(u),0,h.width-n);l=l.height();l=0===l?h.height-p:e.ca(Math.floor(l),0,h.height-p);(0!==n||0!==p||u!==h.width||l!==h.height)&&0<u&&0<l&&(h=e.Eg(u,l),h.getContext("2d").drawImage(this.Fk,n,p,u,l,0,0,u,l));e.ou(h,this.iD,this.uL).then(q=>{this.vL=URL.createObjectURL(q);this.Jx=null;this.DW(this.vL)});this.iD="";this.uL=1}}W2(h){this.gb&&(2===h?(this.Wf=e.D(e.aa.qG,this.qb()),this.Wf.ZQ(),this.Wf.FG("Arial"),this.Wf.pA(16),
this.Wf.XQ("center"),this.Wf.qR("center"),this.Wf.Fc(300,200)):0===h?(h=this.j.bt)&&h.xp(this.gb).catch(l=>console.warn("[C3 runtime] Failed to create texture for loading logo: ",l)):4===h&&(this.xba().then(l=>{"done"===this.Pj?this.gb.Xj(l):this.Yf.yy=l}).catch(l=>console.warn("Failed to load splash image: ",l)),this.ZS("splash-images/splash-poweredby-512.png").then(l=>{"done"===this.Pj?this.gb.Xj(l):this.Yf.By=l}).catch(l=>console.warn("Failed to load splash image: ",l)),this.ZS("splash-images/splash-website-512.png").then(l=>
{"done"===this.Pj?this.gb.Xj(l):this.Yf.Ky=l}).catch(l=>console.warn("Failed to load splash image: ",l))))}async xba(){var h=(new URL("splash-images/splash-logo.svg",this.j.ZE())).toString();h=await e.xl(h);h=await this.j.I5(h);return await this.gb.Yy(h,{zy:"high"})}async ZS(h){h=(new URL(h,this.j.ZE())).toString();h=await e.xl(h);return await this.gb.Yy(h,{zy:"high"})}HF(){this.j.tn("runtime","hide-cordova-splash")}T7(){this.ix=Date.now();this.j.zb().addEventListener("loadingprogress",this.HK);this.Oe=
requestAnimationFrame(()=>this.lS());3!==this.j.$s&&this.HF()}async a0(){if(this.gb){this.lo=1;var h=this.j.$s;4===h&&await this.EW;this.EW=this.yL=null;-1!==this.Oe&&(cancelAnimationFrame(this.Oe),this.Oe=-1);this.j.zb().removeEventListener("loadingprogress",this.HK);this.HK=null;this.Wf&&(this.Wf.m(),this.Wf=null);this.j.Q5();this.gb.In();this.Yf.yy&&(this.gb.Xj(this.Yf.yy),this.Yf.yy=null);this.Yf.By&&(this.gb.Xj(this.Yf.By),this.Yf.By=null);this.Yf.Ky&&(this.gb.Xj(this.Yf.Ky),this.Yf.Ky=null);
this.gb.Uy();this.gb.wu();this.Pj="done";this.$n=this.gb.bi;3===h&&this.HF()}}lS(){if(-1!==this.Oe){var h=this.gb;if(h){h.In();this.Oe=-1;var l=this.j.xb.TJ,n=this.j.$s;3!==n&&(this.F6(h),h.Uy(),h.Ir(),h.cj(),h.Jf(null));if(0===n)this.E$(l);else if(1===n)this.CA(l,120,0);else if(2===n)this.D$(l);else if(3!==n)if(4===n)this.F$(l);else throw Error("invalid loader style");h.wu();this.Oe=requestAnimationFrame(()=>this.lS())}}}D$(h){h?this.Wf.MQ(1,0,0):this.Wf.MQ(.6,.6,.6);this.Wf.Dv(Math.round(100*this.lo)+
"%");h=this.cd/2;const l=this.Sc/2;f.LX(h-150,l-100,h+150,l+100);this.gb.Jf(this.Wf.Id());this.gb.un(f,this.Wf.gk())}CA(h,l,n){const p=this.gb;p.LQ();h?p.Hf(1,0,0,1):p.Hf(.118,.565,1,1);h=this.cd/2;const u=this.Sc/2,q=l/2;k.Di(h-q,u-4+n,Math.floor(l*this.lo),8);p.Rect(k);k.Di(h-q,u-4+n,l,8);k.offset(-.5,-.5);k.VD(.5,.5);p.Hf(0,0,0,1);p.vP(k);k.VD(1,1);p.Hf(1,1,1,1);p.vP(k)}E$(h){var l=this.j.bt;if(l)if(l=l.Id()){var n=l.X(),p=l.W(),u=this.cd/2,q=this.Sc/2,v=n/2;p/=2;f.LX(u-v,q-p,u+v,q+p);this.gb.Jf(l);
this.gb.Bd(f);this.CA(h,n,p+16)}else this.CA(h,120,0);else this.CA(h,120,0)}F$(h){const l=this.gb,n=this.Yf.yy,p=this.Yf.By,u=this.Yf.Ky,q=Date.now();0===this.AL&&(this.ix=q);const v=this.j.yr()||this.j.Ufa&&!this.j.x3(),r=v?0:200,w=v?0:3E3;let y=1;"fade-in"===this.Pj?y=Math.min((q-this.ix)/300,1):"fade-out"===this.Pj&&(y=Math.max(1-(q-this.zL)/300,0));l.LQ();l.Hf(.231*y,.251*y,.271*y,y);k.set(0,0,this.cd,this.Sc);l.Rect(k);const z=Math.ceil(this.cd),E=Math.ceil(this.Sc);let G;256<this.Sc?(l.Hf(.302*
y,.334*y,.365*y,y),G=Math.max(.005*E,2),k.Di(0,.8*E-G/2,z,G),l.Rect(k),h?l.Hf(y,0,0,y):l.Hf(.161*y,.953*y,.816*y,y),h=z*this.lo,k.Di(.5*z-h/2,.8*E-G/2,h,G),l.Rect(k),l.Hf(y,y,y,y),l.cj(),p&&(h=1.5*e.ca(.22*E,105,.6*z),G=h/8,k.Di(.5*z-h/2,.2*E-G/2,h,G),l.Jf(p),l.Rect(k)),n&&(G=h=Math.min(.395*E,.95*z),k.Di(.5*z-h/2,.485*E-G/2,h,G),l.Jf(n),l.Rect(k)),u&&(h=1.5*e.ca(.22*E,105,.6*z),G=h/8,k.Di(.5*z-h/2,.868*E-G/2,h,G),l.Jf(u),l.Rect(k))):(l.Hf(.302*y,.334*y,.365*y,y),G=Math.max(.005*E,2),k.Di(0,.85*E-
G/2,z,G),l.Rect(k),h?l.Hf(y,0,0,y):l.Hf(.161*y,.953*y,.816*y,y),h=z*this.lo,k.Di(.5*z-h/2,.85*E-G/2,h,G),l.Rect(k),l.Hf(y,y,y,y),l.cj(),n&&(G=h=.55*E,k.Di(.5*z-h/2,.45*E-G/2,h,G),l.Jf(n),l.Rect(k)));this.AL++;"fade-in"===this.Pj&&300<=q-this.ix&&2<=this.AL&&(this.Pj="wait",this.FW=q);"wait"===this.Pj&&q-this.FW>=w&&1<=this.lo&&(this.Pj="fade-out",this.zL=q);("fade-out"===this.Pj&&q-this.zL>=300+r||v&&1<=this.lo&&500>q-this.ix)&&this.yL()}}}
{"use strict";const e=self.B,b=self.xh,a={messagePort:null,baseUrl:"",headless:!1,hasDom:!0,isInWorker:!1,useAudio:!0,projectData:"",exportType:""};let d=!0;e.HQ=class extends e.ja{constructor(c){c=Object.assign({},a,c);super();this.qx=c.messagePort;this.ofa=c.baseUrl;this.hm=!!c.isInWorker;d=c.ife;this.Yn=c.exportType;this.uK=!!c.isiOSCordova;this.Ufa=!!c.isFBInstantAvailable;this.pga=c.opusWasmScriptUrl;this.cW=c.opusWasmBinaryUrl;this.Le=this.vfa=this.Cb=!("preview"!==this.Yn||!c.isDebug);this.sJ=
0;this.gB=[];this.ifa=[];this.iL=this.lW=this.aD="";this.ih=this.jh=0;this.GU=self.devicePixelRatio;this.$s=this.$f=this.ag=this.$K=this.ZK=0;this.CD=!1;this.Pk=!0;this.WL=!1;this.bt=null;this.xb=e.D(e.JY,this,c);this.cb=e.D(e.V3,this);this.ta=e.D(e.f0,this);this.to=e.D(e.t5,this);this.Nf=e.D(e.jZ,this);this.yb=e.D(e.b8,this);this.JL=e.D(e.g8,this);this.bd=[];this.TK=new Map;this.UK=new Map;this.PU=0;this.kfa=[];this.RI=[];this.xw=[];this.gm=[];this.hC=new Map;this.ZB=!1;this.tx=this.VK=0;this.lq=
new Map;this.mq=new Set;this.iC=new Set;this.RC=[];this.AV=[];this.fa=null;this.Hm=!1;this.KJ="vsync";this.xs="standard";this.gd="trilinear";this.Gj=!1;this.RK=!0;this.qK=this.fW=!1;this.Cga={BX:f=>{this.xm=this.Oe=-1;this.Kd(f)},yia:f=>{this.xm=-1;this.Kd(f,!1,"skip-render")},jia:()=>{this.Oe=-1;this.oG()}};this.xm=this.Oe=-1;this.Js=this.Ao=this.$k=0;this.iV=this.Uw=this.aC=!1;this.mK=!0;this.Bt=0;this.uga=()=>Math.random();this.DB=this.EB=this.GC=this.zo=0;this.Qd=1;this.XV=30;this.OJ=e.D(e.Ar);
this.PJ=e.D(e.Ar);this.YL=e.D(e.Ar);this.VB=-1;this.LC=this.mm=this.UB=this.gq=0;this.Qk=!1;this.hx=this.Dx="";this.Zs=null;this.wq="";this.oL=this.hL=null;this.Sb=e.D(e.Event.zb);this.xJ=new Map;this.bL=new Map;this.lga=0;this.xV=this.HU=this.IU=!1;this.XL=[];this.cq={pretick:e.D(e.Event,"pretick",!1),tick:e.D(e.Event,"tick",!1),tick2:e.D(e.Event,"tick2",!1),instancedestroy:e.D(e.Event,"instancedestroy",!1),beforelayoutchange:e.D(e.Event,"beforelayoutchange",!1),layoutchange:e.D(e.Event,"layoutchange",
!1)};this.cq.instancedestroy.instance=null;this.qe=e.D(e.Event.zb);this.TW=null;this.Sn=e.D(e.zp,e.Ny.fH);this.Rn=e.D(e.zp,e.Ny.fH);this.Tn=e.D(e.zp,e.Ny.fH);this.Yw=e.D(e.S3,this,c.jobScheduler);c.canvas&&(this.fa=e.D(e.DN,this));this.qx.onmessage=f=>this._OnMessageFromDOM(f.data);this.Fi("runtime","visibilitychange",f=>this.xca(f));this.Fi("runtime","opus-decode",f=>this.efa(f.arrayBuffer));this.Fi("runtime","get-remote-preview-status-info",()=>this.yaa());this.Fi("runtime","js-invoke-function",
f=>this.MA(f));this.Fi("runtime","go-to-last-error-script",self.goToLastErrorScript);this.Sb.addEventListener("window-blur",f=>this.jI(f));this.Sb.addEventListener("window-focus",()=>this.yca());this.yb.vY();this.Dj=null;this.Qfa=new WeakMap;this.vs={keyboard:null,AM:null,cN:null}}static Oa(c){return e.D(e.HQ,c)}m(){e.F(this.bd);this.TK.clear();this.UK.clear();this.cb.m();this.cb=null;this.ta.m();this.ta=null;this.to.m();this.to=null;this.xb.m();this.xb=null;this.Nf.m();this.Nf=null;this.yb.m();this.yb=
null;this.JL.m();this.JL=null;this.fa&&(this.fa.m(),this.fa=null);this.Sb.m();this.Sb=null}["_OnMessageFromDOM"](c){const f=c.type;if("event"===f)this.jT(c);else if("result"===f)this.pca(c);else throw Error(`unknown message '${f}'`);}jT(c){if(this.xV){var f=c.component,k=c.handler,h=c.data,l=c.dispatchOpts,n=!(!l||!l.dispatchRuntimeEvent);l=!(!l||!l.dispatchUserScriptEvent);var p=c.responseId;if("runtime"===f&&(n&&(c=new e.Event(k),c.data=h,this.Sb.hha(c)),l)){c=new e.Event(k,!0);for(const [u,q]of Object.entries(h))c[u]=
q;this.zh(c)}if(c=this.xJ.get(f))if(c=c.get(k)){n=null;try{n=c(h)}catch(u){console.error(`Exception in '${f}' handler '${k}':`,u);null!==p&&this.RA(p,!1,""+u);return}null!==p&&(n&&n.then?n.then(u=>this.RA(p,!0,u)).catch(u=>{console.error(`Rejection from '${f}' handler '${k}':`,u);this.RA(p,!1,""+u)}):this.RA(p,!0,n))}else n||l||console.warn(`[Runtime] No DOM handler '${k}' for component '${f}'`);else n||l||console.warn(`[Runtime] No DOM event handlers for component '${f}'`)}else this.XL.push(c)}RA(c,
f,k){this.qx.postMessage({type:"result",responseId:c,isOk:f,result:k})}pca(c){const f=c.responseId,k=c.isOk;c=c.result;const h=this.bL.get(f);k?h.resolve(c):h.reject(c);this.bL.delete(f)}Fi(c,f,k){let h=this.xJ.get(c);h||(h=new Map,this.xJ.set(c,h));if(h.has(f))throw Error(`[Runtime] Component '${c}' already has handler '${f}'`);h.set(f,k)}tn(c,f,k){this.qx.postMessage({type:"event",component:c,handler:f,data:k,responseId:null})}Er(c,f,k){const h=this.lga++,l=new Promise((n,p)=>{this.bL.set(h,{resolve:n,
reject:p})});this.qx.postMessage({type:"event",component:c,handler:f,data:k,responseId:h});return l}async jn(c){this.Cb?await b.jn(this):self.xh&&self.xh.Ila(this);var [f]=await Promise.all([this.xb.bO("data.json"),this.Jba(),this.Yw.jn()]);this.kba(f);await this.Uaa(c);this.yr()||console.info("Made with Construct 3, the game and app creator :: https://www.construct.net");this.pp()?(f=this.pp(),console.info(`[C3 runtime] Hosted in ${this.hm?"worker":"DOM"}, rendering with WebGL ${f.Sd} [${f.by}] (${f.z3()?
"desynchronized":"standard"} compositing)`)):this.Su()&&console.info(`[C3 runtime] Hosted in ${this.hm?"worker":"DOM"}, rendering with experimental WebGPU`);this.qb().UJ&&console.warn("[C3 runtime] The renderer indicates a major performance caveat. Software rendering may be in use. This can result in significantly degraded performance.");this.xV=!0;for(const k of this.XL)this.jT(k);e.F(this.XL);this.fa&&this.fa.T7();for(const k of c.runOnStartupFunctions)this.gB.push(this.lda(k));await Promise.all([this.xb.HR(),
...this.gB]);e.F(this.gB);if(this.xb.TJ)this.fa&&this.fa.HF();else return this.fa&&await this.fa.a0(),await this.Sb.mM(new e.Event("beforeruntimestart")),await this.In(),this.qx.postMessage({type:"runtime-ready"}),this}async lda(c){try{await c(this.Dj)}catch(f){console.error("[C3 runtime] Error in runOnStartup function: ",f)}}kba(c){c=c.project;this.aD=c[0];this.lW=c[16];this.iL=c[31];const f=c[39]||"loading-logo.png";this.Gj=!!c[9];this.jh=this.ag=c[10];this.ih=this.$f=c[11];this.ZK=this.jh/2;this.$K=
this.ih/2;this.xs=c[36];this.KJ=c[37];"low-latency"===this.xs&&this.s3()&&77>=e.od.DE&&(console.warn("[C3 runtime] Desynchronized (low-latency) compositing is enabled, but is disabled in the Android WebView <=77 due to crbug.com/1008842. Reverting to synchronized (standard) compositing."),this.xs="standard");this.Hm=!!c[40];this.gd=c[14];this.CD=!!c[18];this.$s=c[19];this.tx=c[21];this.fW=c[22];const k=this.xb;k.Sda(c[7],c[25]);k.sea(c[8]);k.fea(c[32]);k.lea(c[28]);k.Aea(c[29]);if(0===this.$s){let u=
"";this.yr()?k.KA(f)&&(u=k.mF(f)):u=k.jV+f;u&&(this.bt=k.bA({url:u}))}this.fa&&(this.fa.S6(e.DN.$$(c[12])),this.fa.VQ(c[23]?"high":"low"),this.fa.NG(0!==c[24]),this.fa.gea(c[34]),this.fa.yea(c[41]),this.fa.Bea(c[13]));this.to.IZ();this.RC=self.xN();for(var h of c[2])this.to.GZ(h);this.RC=self.xN();this.rba();for(var l of c[3])h=e.eG.Oa(this,this.bd.length,l),this.bd.push(h),this.TK.set(h.wa().toLowerCase(),h),this.UK.set(h.hb,h);for(const u of c[4])this.bd[u[0]].nba(u);for(var n of c[27])l=n.map(u=>
this.bd[u]),this.kfa.push(e.D(e.wZ,this,l));for(const u of this.bd)u.Uba();for(const u of c[5])this.cb.Oa(u);(n=c[1])&&(n=this.cb.lr(n))&&this.cb.N6(n);for(var p of c[33])this.yb.Oa(p);for(const u of c[35])this.JL.Oa(u);this.Raa();for(const u of c[6])this.ta.Oa(u);this.ta.Ob();this.Naa();e.F(this.RC);this.he();p="any";c=c[20];1===c?p="portrait":2===c&&(p="landscape");this.tn("runtime","set-target-orientation",{targetOrientation:p})}qY(c){this.gB.push(c)}saa(){return this.PU++}Q8(c){this.RI.push(c)}async Uaa(c){this.fa&&
(await this.fa.Eg(c),this.fa.W2(this.$s))}async Jba(){if(!this.xb.fP("audio/webm; codecs=opus")){var c=null;try{c=this.uK&&this.xb.Tw?await this.xb.NN(this.cW):await this.xb.uu(this.cW)}catch(f){console.info("Failed to fetch Opus decoder WASM; assuming project has no Opus audio.",f);return}c?this.nY(c):this.mY();await this.pY([this.pga])}}async efa(c){return await this.sE("OpusDecode",{arrayBuffer:c},[c])}async In(){this.aC=!0;this.zo=Date.now();if(this.CD){for(var c of this.bd)c.Wa||c.pK||!c.Tf||
c.mc();this.xb.HR().then(()=>{this.Pk=!1;this.mT()})}else this.Pk=!1;this.xb.W6();this.Cb&&b.Apa(d);for(const f of this.cb.mj)f.D9();c=this.cb.U0();await c.YH(null,this.qb());await c.fU(!0);this.gq=performance.now();this.CD||this.mT();(await this.Er("runtime","before-start-ticking")).isSuspended?this.Bt++:this.Kd()}mT(){this.U(e.C.Ta.G.W4,null,null);this.tn("runtime","register-sw")}Dh(c){c=Math.floor(c);const f=this.RC;if(0>c||c>=f.length)throw Error("invalid object reference");return f[c]}rba(){for(const c of self.SY){const f=
e.first(Object.keys(c));this.AV.push(f)}}Oi(c){c=Math.floor(c);const f=this.AV;if(0>c||c>=f.length)throw Error("invalid prop reference");return f[c]}ZE(){return this.ofa}la(){return this.ta}$c(){return this.ta.$c()}Bf(){return this.ta.Bf()}Fb(){return this.ta.Fb()}Af(){return this.ta.Af()}y3(){return 0===this.Bf().Yl}Cu(){return this.ta.Cu()}Ou(){return this.to.Ou()}Cf(c){c=Math.floor(c);if(0>c||c>=this.bd.length)throw new RangeError("invalid index");return this.bd[c]}nF(c){return this.TK.get(c.toLowerCase())||
null}Az(c){return this.UK.get(c)||null}*Lga(){for(const c of this.bd)c.Wa||(yield*c.tX())}zb(){return this.Sb}zh(c){c.ic=this.Dj;const f=this.Cb&&!this.ta.Tz();f&&b.hH();this.qe.dispatchEvent(c);f&&b.wE()}bp(c){c.ic=this.Dj;return this.qe.mM(c)}f7(c,f){if(this.jh!==c||this.ih!==f)this.jh=c,this.ih=f,c=this.cb,c.Lr(),c.Kr()}Gv(c,f){if(this.ag!==c||this.$f!==f)this.ag=c,this.$f=f,c=this.cb,c.Lr(),c.Kr()}Zda(c){this.GU=c}zl(){return this.GU}Jg(){return this.fa?this.fa.Jg():this.ag}ig(){return this.fa?
this.fa.ig():this.$f}Fl(){return this.fa?this.fa.Fl():1}Al(){return this.fa?this.fa.Al():1}fp(){return this.fa?this.fa.fp():0}gp(){return this.fa?this.fa.gp():0}mO(){return this.fa?this.fa.cd:0}lO(){return this.fa?this.fa.Sc:0}vz(){return this.fa?this.fa.vz():"off"}zu(c){return this.fa?this.fa.zu(c):null}wn(c){this.fa&&this.fa.wn(c)}zea(c){this.WL=!!c}xz(){return this.fa?this.fa.xz():NaN}UF(){return"nearest"!==this.gd}Q5(){this.bt&&(this.bt.m(),this.bt=null)}Nb(){return this.cb.Nb()}bA(c){return this.xb.bA(c)}LE(c,
f,k,h,l){return this.Ji(c,f,!1,k,h,!1,l,void 0,l)}Ji(c,f,k,h,l,n,p,u,q){var v=null;let r=null;c instanceof e.eG?(r=c,r.Wa&&(v=r.eq,r=v[Math.floor(this.vn()*v.length)]),v=r.Cs):(v=c,r=this.Cf(v[1]));c=r.Gb().Tf;if(this.Pk&&c&&!r.pK)return null;const w=f;c||(f=null);var y=k&&!n&&v&&!this.lq.has(v[2])?v[2]:this.tx++;const z=v?v[0]:null,E=e.D(e.Instance,{ic:this,EM:r,ge:f,WX:z,sX:v?v[3]:null,uid:y});this.lq.set(y,E);y=null;c&&(y=E.A(),"undefined"!==typeof h&&"undefined"!==typeof l&&(y.Nh(h),y.Oh(l)),
r.NT());f&&(q||f.Yg(E,!0),1===f.le&&1===f.me||r.sI(!0),f.kc().CP(r));this.VK++;let G=!0;u&&(u=u.J(),u.Zb()&&r.Zb()&&r.dh===u.dh&&(G=!1));if(r.Zb()&&!k&&!n&&G){for(var P of r.dh.qm)P!==r&&(u=this.Ji(P,w,!1,y?y.da():h,y?y.ea():l,!0,!1,void 0,q),E.cs(u));for(var C of E.Od){C.cs(E);for(const H of E.Od)C!==H&&C.cs(H)}}c&&!k&&p&&this.zH(E,z,y,f,h,l,q);if(r.Zb()&&!k&&!n&&p)for(const H of E.Od)if(k=H.A())P=H.Gb(),C=H.J().Cs[0],P.Tf?this.zH(H,C,k,f,k.da(),k.ea(),q):this.zH(H,C,k,f,void 0,void 0,q);!n&&p&&
("undefined"===typeof h&&(h=z[0]),"undefined"===typeof l&&(l=z[1]),f=y.Jz(),h=h-y.da()+f.da(),l=l-y.ea()+f.ea(),f.Dd(h,l));r.bw();l=v?e.iM(v[5]):null;v=v?v[4].map(H=>e.iM(H)):null;c&&z&&z[13]&&E.kea();E.zA(l,v);this.gm.push(E);this.ZB=!0;this.Cb&&b.Jla(E);return E}zH(c,f,k,h,l,n,p){var u=k.wW,q=k.pL;c.A().UG(u);if(q){"undefined"===typeof l&&(l=f[0]);"undefined"===typeof n&&(n=f[1]);u=new Set;k=f[0];f=f[1];for(const z of q){var v=z[1],r=z[2];q=z[3];var w=!!z[4];const E=z[5];r=this.cb.lF(z[0]).Z(v).b1(r);
v=this.Cf(r[1]);var y=c.i2(v);const G=u.has(v);y&&!G&&w?(w=c.PO(v),y=l+r[0][0]-k,r=n+r[0][1]-f,w.A().Dd(y,r),w.A().UG(E),c.Um(w,{eu:!!(q>>0&1),fu:!!(q>>1&1),br:!!(q>>2&1),$q:!!(q>>3&1),du:!!(q>>4&1),ny:!!(q>>5&1),gu:!!(q>>6&1)}),u.add(v)):(v=this.Ji(r,h,!1,l+r[0][0]-k,n+r[0][1]-f,!1,!0,c,p),v.A().UG(E),c.Um(v,{eu:!!(q>>0&1),fu:!!(q>>1&1),br:!!(q>>2&1),$q:!!(q>>3&1),du:!!(q>>4&1),ny:!!(q>>5&1),gu:!!(q>>6&1)}))}}}sl(c){if(!this.mq.has(c)){var f=c.J(),k=this.hC.get(f);if(k){if(k.has(c))return;k.add(c)}else k=
new Set,k.add(c),this.hC.set(f,k);this.Cb&&b.Kla(c);c.aI();this.ZB=!0;if(c.Zb())for(const h of c.Od)this.sl(h);for(const h of c.children())h.sz()&&this.sl(h);this.cb.lP()||this.Qk||(f=this.la(),f.Ue(!0),c.Pea(),f.Ue(!1));c.S$(this.cb.lP())}}he(){this.ZB&&(this.U$(),this.V$(),this.ZB=!1,this.M())}U$(){for(const c of this.gm){const f=c.J();f.Yg(c);for(const k of f.Zh)k.Yg(c),k.bw()}e.F(this.gm)}V$(){this.Sb.Or(!0);for(const [c,f]of this.hC.entries())this.W$(c,f),f.clear();this.hC.clear();this.Sb.Or(!1)}W$(c,
f){for(const h of f){var k=this.cq.instancedestroy;k.instance=h;this.Sb.dispatchEvent(k);this.lq.delete(h.hc);if(k=h.A())k.xT(),k.yT(),k.aI();this.mq.add(h);this.VK--}e.rh(c.na(),f);c.bw();this.iC.add(c);0===c.na().length&&c.sI(!1);for(const h of c.Zh)e.rh(h.na(),f),h.bw(),this.iC.add(h);if(c.Gb().Tf){c=new Set([...f].map(h=>h.A().Z()));for(const h of c)h.Sca(f)}}*sM(c){for(const f of this.gm)c.Wa?f.J().BE(c)&&(yield f):f.J()===c&&(yield f)}raa(){return this.tx++}Gba(c,f){this.lq.set(c,f)}Zv(){this.Sb.dispatchEvent(e.D(e.Event,
"webglcontextlost"));this.Bv(!0);for(var c of this.bd)!c.Wa&&c.g2()&&c.xn();(c=this.Nb())&&c.Zv();e.Wu.Dr();e.bP.Dr()}async iI(){await this.Nb().YH(null,this.pp());this.Sb.dispatchEvent(e.D(e.Event,"webglcontextrestored"));this.Bv(!1);this.M()}xca(c){this.Bv(c.hidden)}jI(c){this.yr()&&this.fW&&!e.od.Wz&&!c.data.parentHasFocus&&(this.Bv(!0),this.qK=!0)}yca(){this.qK&&(this.Bv(!1),this.qK=!1)}zT(){const c=this.Cga;"vsync"===this.KJ?-1===this.Oe&&(this.Oe=self.requestAnimationFrame(c.BX)):"unlimited-tick"===
this.KJ?(-1===this.xm&&(this.xm=e.sG(c.yia)),-1===this.Oe&&(this.Oe=self.requestAnimationFrame(c.jia))):-1===this.xm&&(this.xm=e.sG(c.BX))}p9(){-1!==this.Oe&&(self.cancelAnimationFrame(this.Oe),this.Oe=-1);-1!==this.xm&&(e.ZY(this.xm),this.xm=-1)}up(){return 0<this.Bt}Bv(c){var f=this.up();this.Bt+=c?1:-1;0>this.Bt&&(this.Bt=0);c=this.up();!f&&c?(console.log("[Construct 3] Suspending"),this.p9(),this.Sb.dispatchEvent(e.D(e.Event,"suspend")),this.U(e.C.Ta.G.i5,null,null)):f&&!c&&(console.log("[Construct 3] Resuming"),
this.gq=this.GC=f=performance.now(),this.mm=this.LC=this.UB=this.VB=0,this.Sb.dispatchEvent(e.D(e.Event,"resume")),this.U(e.C.Ta.G.f5,null,null),this.rr()||this.Kd(f))}M8(c){this.Sn.yc(c)}L8(c){this.Rn.yc(c)}N8(c){this.Tn.yc(c)}Uca(c){this.Sn.Jh(c)}Tca(c){this.Rn.Jh(c)}Vca(c){this.Tn.Jh(c)}e9(){this.Sn.Kh(!0);for(const c of this.Sn)c.Kd();this.Sn.Kh(!1)}d9(){this.Rn.Kh(!0);for(const c of this.Rn)c.kG();this.Rn.Kh(!1)}f9(){this.Tn.Kh(!0);for(const c of this.Tn)c.Yr();this.Tn.Kh(!1)}*N9(){this.Sn.Kh(!0);
for(const c of this.Sn){const f=c.Kd();e.nn(f)&&(yield*f)}this.Sn.Kh(!1)}*M9(){this.Rn.Kh(!0);for(const c of this.Rn){const f=c.kG();e.nn(f)&&(yield*f)}this.Rn.Kh(!1)}*O9(){this.Tn.Kh(!0);for(const c of this.Tn){const f=c.Yr();e.nn(f)&&(yield*f)}this.Tn.Kh(!1)}async Kd(c,f,k){this.iV=!0;const h="background-wake"===k;k="background-wake"!==k&&"skip-render"!==k;this.aC&&(!this.up()||f||h)&&(f=performance.now(),this.Uw=!0,this.Mba(c||0),c=this.V7(),this.Le&&await c,c=this.Sb.iha(this.cq.pretick),c instanceof
Promise&&await c,c=this.U7(),this.Le&&await c,this.Sba()&&await this.Faa(),this.cb.xr()&&await this.Iba(),c=this.W7(),this.Le&&await c,k&&this.oG(),this.up()||h||this.zT(),this.$k++,this.Ao++,this.Js++,this.Uw=!1,this.mm+=performance.now()-f)}async V7(){const c=this.ta,f=this.Cb;this.he();c.Ue(!0);this.hv(this.Nb());f&&b.Wr();this.Le?await c.PZ():c.q6();f&&b.lY();this.gv();c.Ue(!1);this.he();c.Ue(!0)}async U7(){const c=this.Cb,f=this.Le,k=this.Sb,h=this.cq,l=this.TW;c&&b.Wr();f?await this.cz(this.N9()):
this.e9();f?await this.cz(this.M9()):this.d9();c&&b.eY();c&&b.Wr();f?await this.RN(h.tick):k.dispatchEvent(h.tick);c&&b.rY();this.ta.Ue(!1);this.zh(l.tick)}async W7(){const c=this.ta,f=this.Sb,k=this.cq,h=this.Cb,l=this.Le;h&&b.Wr();l?await c.NZ(this.cb):c.o6(this.cb);h&&b.lY();this.Nf.HN();this.uT();this.mK=!1;c.Ue(!0);h&&b.Wr();l?await this.cz(this.O9()):this.f9();h&&b.eY();h&&b.Wr();l?await this.RN(k.tick2):f.dispatchEvent(k.tick2);h&&b.rY();c.Ue(!1);l&&await c.GQ()}uT(){if(0!==this.mq.size){var c=
this.Sb;c.Or(!0);for(const f of this.iC)f.xo.Ap(this.mq);this.iC.clear();this.ta.T5(this.mq);for(const f of this.mq)f.m();this.mq.clear();c.Or(!1)}}async Iba(){const c=this.cb;let f=0;for(;c.xr()&&10>f++;)await this.hS(c.vx)}Mba(c){let f=0;0!==this.GC&&(f=Math.max(c-this.GC,0)/1E3,.5<f&&(f=0),this.EB=Math.min(f,1/this.XV));this.GC=c;this.DB=this.EB*this.Qd;this.OJ.yc(this.DB);this.PJ.yc(f*this.Qd);this.YL.yc(this.EB);this.fa&&this.fa.$ea();1E3<=c-this.gq&&(this.gq+=1E3,1E3<=c-this.gq&&(this.gq=c),
this.UB=this.VB,this.VB=0,this.LC=Math.min(this.mm/1E3,1),this.mm=0,this.fa&&this.fa.Tea(),this.Cb&&b.xsa());this.VB++}async hS(c){const f=this.Sb,k=this.cb.Nb();await k.Kea();k.Sea(c,this.qb());k===c&&this.ta.Ry();this.Nf.HN();this.uT();f.dispatchEvent(this.cq.beforelayoutchange);e.ql.WQ(!0);await c.YH(k,this.qb());e.ql.WQ(!1);await c.fU(!1);f.dispatchEvent(this.cq.layoutchange);this.M();this.mK=!0;this.he()}M(){this.RK=!0}pp(){return this.fa?this.fa.pp():null}Su(){return this.fa?this.fa.Su():null}qb(){return this.fa?
this.fa.qb():null}oG(){const c=this.fa;if(c&&!c.J3()){var f=this.qb(),k=f.uk(),h=k&&f.bv();k=k&&!1;h&&f.aZ();if(this.RK){var l=this.cb.Nb();f.In();var n=this.Cb;n&&b.Wr();this.RK=!1;var p=null;h&&(p=c.YB.xE(),f.iH(p));h=null;k&&(h=f.Era(2*(1+l.ec.length)),f.G8(0));this.Hm&&"low"===c.Bj?f.O6(c.Jg(),c.ig()):f.z6();this.ada(this.qb(),l);p&&f.TE(p);k&&(f.G8(1),this.fa.c9(h));f.wu();n&&(b.bja(),b.ysa());c&&c.Kba()}else f.J2()}}ada(c,f){c.cj();c.AG();c.Hf(1,1,1,1);c.gf(null);c.Jf(null);c.Dn(this.Hm);f.We(c)}U(c,
f,k){if(!this.aC)return!1;var h=!this.Uw&&!this.ta.Uz();let l=0;h&&(l=performance.now());const n=this.Cb;n&&this.Nr(!1);c=this.ta.fw(this.cb,c,f,k);h&&(h=performance.now()-l,this.mm+=h,n&&b.mja(h));n&&this.Nr(!0);return c}ru(c,f,k){if(!this.Cb)return this.U(c,f,k);if(this.rr())throw Error("called DebugTrigger() while stopped on breakpoint");if(!this.Uw&&!this.ta.Uz())throw Error("called DebugTrigger() outside of event code - use TriggerAsync() instead");return this.ta.ds(this.cb,c,f,k)}async Be(c,
f,k){if(!this.Le)return this.U(c,f,k);if(!this.aC)return!1;if(this.rr())return this.ta.H5(c,f,k);if(!this.Nb())return this.ta.mG(c,f,k);const h=performance.now();c=this.ta.ds(this.cb,c,f,k);for(f=c.next();!f.done;)await this.gr(f.value),f=c.next();this.up()||this.ta.Uz()||(await this.ta.GQ(),this.iV&&!this.Uw&&this.zT());this.mm+=performance.now()-h;return f.value}hv(c){this.xw.push(c)}gv(){if(!this.xw.length)throw Error("layout stack empty");this.xw.pop()}Ma(){return this.xw.length?this.xw.Se(-1):
this.Nb()}Zj(c){return c&&-1!==c.Qd?this.EB*c.Qd:this.DB}$G(c){if(isNaN(c)||0>c)c=0;this.Qd=c}eR(c){this.XV=e.ca(c,1,120)}Ye(){return this.OJ.$()}iF(){return this.PJ.$()}BF(){return this.YL.$()}Jl(){++this.Js}Bh(c){if(this.Qk)throw Error("cannot call while loading state - wait until afterload event");return this.lq.get(c)||null}sT(){this.lq.clear();for(const c of this.bd)if(!c.Wa)for(const f of c.na())this.lq.set(f.hc,f)}yr(){return"preview"===this.Yn}x3(){return"cordova"===this.Yn}s3(){return"Android"===
e.od.Cr&&("cordova"===this.Yn||"playable-ad"===this.Yn||"instant-games"===this.Yn)}wF(){return this.to.wF()}i7(c){c=!!c;this.Gj!==c&&(this.Gj=c,this.cb.Kr(),this.M())}s6(c){this.Dx=c}b4(c){this.hx=c}cG(c){this.Zs=c}Sba(){return!(!this.Dx&&!this.hx&&null===this.Zs)}async Faa(){this.Dx&&(this.he(),await this.q$(this.Dx),this.xH());this.hx&&(await this.p$(this.hx),this.xH(),this.Cb&&b.Fra());if(null!==this.Zs){this.he();try{await this.iS(this.Zs),this.wq=this.Zs,await this.Be(e.C.Ta.G.VP,null),this.wq=
""}catch(c){console.error("[Construct 3] Failed to load state from JSON string: ",c),await this.Be(e.C.Ta.G.WP,null)}this.xH()}}xH(){this.hx=this.Dx="";this.Zs=null}waa(){this.hL||(this.hL=localforage.jM({name:"c3-localstorage-"+this.iL,description:this.aD}));return this.hL}ES(){this.oL||(this.oL=localforage.jM({name:"c3-savegames-"+this.iL,description:this.aD}));return this.oL}async q$(c){const f=await this.Hda();try{await this.ES().setItem(c,f),console.log("[Construct 3] Saved state to storage ("+
f.length+" chars)"),this.wq=f,await this.Be(e.C.Ta.G.g5,null),this.wq=""}catch(k){console.error("[Construct 3] Failed to save state to storage: ",k),await this.Be(e.C.Ta.G.h5,null)}}async p$(c){try{const f=await this.ES().getItem(c);if(!f)throw Error("empty slot");console.log("[Construct 3] Loaded state from storage ("+f.length+" chars)");await this.iS(f);this.wq=f;await this.Be(e.C.Ta.G.VP,null);this.wq=""}catch(f){console.error("[Construct 3] Failed to load state from storage: ",f),await this.Be(e.C.Ta.G.WP,
null)}}async Hda(){const c={c3save:!0,version:1,rt:{time:this.Ye(),timeRaw:this.iF(),walltime:this.BF(),timescale:this.Qd,tickcount:this.$k,execcount:this.Js,next_uid:this.tx,running_layout:this.Nb().hb,start_time_offset:Date.now()-this.zo},types:{},layouts:{},events:this.ta.ma(),timelines:this.yb.ma(),user_script_data:null};for(var f of this.bd)f.Wa||f.XO()||(c.types[f.hb.toString()]=f.ma());for(const k of this.cb.mj)c.layouts[k.hb.toString()]=k.ma();f=this.BH("save");f.saveData=null;await this.bp(f);
c.user_script_data=f.saveData;return JSON.stringify(c)}async iS(c){var f=this.cb;c=JSON.parse(c);if(c.c2save)throw Error("C2 saves are incompatible with C3 runtime");if(!c.c3save)throw Error("not valid C3 save data");if(1<c.version)throw Error("C3 save data from future version");this.Sb.dispatchEvent(e.D(e.Event,"beforeload"));for(var k of this.Lga())k.OA();this.Qk=!0;k=c.rt;this.OJ.Set(k.time);k.hasOwnProperty("timeRaw")&&this.PJ.Set(k.timeRaw);this.YL.Set(k.walltime);this.Qd=k.timescale;this.$k=
k.tickcount;this.Js=k.execcount;this.zo=Date.now()-k.start_time_offset;var h=k.running_layout;if(h!==this.Nb().hb)if(h=f.lF(h))await this.hS(h);else return;for(const [l,n]of Object.entries(c.types))h=this.Az(parseInt(l,10)),!h||h.Wa||h.XO()||h.pa(n);this.he();this.sT();this.Qk=!1;this.tx=k.next_uid;for(const [l,n]of Object.entries(c.layouts))(k=f.lF(parseInt(l,10)))&&k.pa(n);this.ta.pa(c.events);for(const l of this.bd)if(!l.Wa&&l.Zb())for(const n of l.na()){k=n.ip();for(const p of l.dh.qm)if(p!==
l){h=p.na();if(0>k||k>=h.length)throw Error("missing sibling instance");n.cs(h[k])}}this.yb.pa(c.timelines);f.Lr();f.Kr();this.Sb.dispatchEvent(e.D(e.Event,"afterload"));f=this.BH("load");f.saveData=c.user_script_data;await this.bp(f);this.M()}async pY(c){c=(await Promise.all(c.map(f=>this.xb.xl(f)))).map(f=>URL.createObjectURL(f));this.Yw.I2(c)}mY(){this.Yw.u6()}nY(c){this.Yw.v6(c)}sE(c,f,k){return this.Yw.sE(c,f,k)}q3(c,f){this.tn("runtime","invoke-download",{url:c,filename:f})}async I5(c){var f=
f||2048;var k=k||2048;return this.hm?(await this.Er("runtime","raster-svg-image",{blob:c,imageWidth:2048,imageHeight:2048,surfaceWidth:f,surfaceHeight:k,imageBitmapOpts:void 0})).imageBitmap:await self.C3_RasterSvgImageBlob(c,2048,2048,f,k)}Hr(){this.IU||(this.IU=!0,this.tn("runtime","enable-device-orientation"))}yn(){this.HU||(this.HU=!0,this.tn("runtime","enable-device-motion"))}vn(){return this.uga()}yaa(){const c=this.pp();return{fps:this.UB,cpu:this.LC,gpu:this.xz(),layout:this.Nb()?this.Nb().wa():
"",renderer:c?c.by:"<unavailable>"}}rr(){return this.Cb?b.rr():!1}gr(c){return this.Le?b.gr(c):Promise.resolve()}zc(){return this.Le?b.Mja():!1}Nr(c){c?this.sJ--:this.sJ++;this.Vea()}Vea(){this.Le=this.Cb&&this.vfa&&0===this.sJ}MF(){return this.Cb&&b.MF()}RF(){return this.Cb&&this.qb().uk()&&b.RF()}async cz(c){if(c)for(const f of c)await this.gr(f)}RN(c){return this.cz(this.Sb.jha(c))}MA(c){return this.ta.MA(c.name,c.params)}BH(c){c=e.D(e.Event,c,!1);c.ic=this.Dj;return c}Raa(){var c={};for(const f of this.bd)c[f.Oi()]=
{value:f.Kw,enumerable:!0,writable:!1};c=Object.create(Object.prototype,c);this.Dj=new self.v2(this,c);this.TW={tick:this.BH("tick")}}Naa(){const c={};for(const f of this.la().SI)c[f.Oi()]=f.FS();this.Dj.Oaa(c)}aT(c,f){this.Qfa.set(c,f)}};self.C3_CreateRuntime=e.HQ.Oa;self.C3_InitRuntime=(c,f)=>c.jn(f)}
{"use strict";const e=self.B;e.S3=class extends e.ja{constructor(b,a){super();this.j=b;this.rq=new Map;this.nga=0;this.Nw=a.inputPort;a.outputPort.onmessage=d=>this.lT(d);this.PV=a.maxNumWorkers;this.Zw=1;this.bV=this.Rw=!1}async jn(){}I2(b){this.Nw.postMessage({type:"_import_scripts",scripts:b})}u6(){this.Nw.postMessage({type:"_send_blob",blob:null,id:"opus-decoder-wasm"})}v6(b){this.Nw.postMessage({type:"_send_buffer",buffer:b,id:"opus-decoder-wasm"},[b])}sE(b,a,d){d||(d=[]);const c=this.nga++;
b={type:b,isBroadcast:!1,jobId:c,params:a,transferables:d};a=new Promise((f,k)=>{this.rq.set(c,{resolve:f,progress:void 0,reject:k,hM:!1})});this.Nw.postMessage(b,d);this.bT();return a}lT(b){b=b.data;const a=b.type,d=b.jobId;switch(a){case "result":this.fca(d,b.result);break;case "progress":this.eca(d,b.progress);break;case "error":this.dca(d,b.error);break;case "ready":this.gca();break;default:throw Error(`unknown message from worker '${a}'`);}}fca(b,a){const d=this.rq.get(b);if(!d)throw Error("invalid job ID");
d.hM||d.resolve(a);this.rq.delete(b)}eca(b,a){b=this.rq.get(b);if(!b)throw Error("invalid job ID");!b.hM&&b.progress&&b.progress(a)}dca(b,a){const d=this.rq.get(b);if(!d)throw Error("invalid job ID");d.hM||d.reject(a);this.rq.delete(b)}gca(){this.Rw&&(this.Rw=!1,this.Zw++,this.Zw<this.PV?this.bT():this.Nw.postMessage({type:"_no_more_workers"}))}async bT(){if(!(this.Zw>=this.PV||this.Rw||this.bV||this.rq.size<=this.Zw))try{this.Rw=!0,(await this.j.Er("runtime","create-job-worker")).outputPort.onmessage=
b=>this.lT(b)}catch(b){this.bV=!0,this.Rw=!1,console.error(`[Construct 3] Failed to create job worker; stopping creating any more (created ${this.Zw} so far)`,b)}}}}self.C3_Shaders={};
self.C3_Shaders.water={UD:"#ifdef GL_FRAGMENT_PRECISION_HIGH\n#define highmedp highp\n#else\n#define highmedp mediump\n#endif\nvarying mediump vec2 vTex;\nuniform lowp sampler2D samplerFront;\nuniform mediump vec2 srcStart;\nuniform mediump vec2 srcEnd;\nprecision mediump float;\nuniform highmedp float seconds;\nuniform mediump vec2 pixelSize;\nconst float PI = 3.1415926535897932;\nuniform float speed;\nuniform float speed_x;\nuniform float speed_y;\nuniform float intensity;\nconst float steps = 8.0;\nuniform float frequency;\nuniform float angle; // better when a prime\nuniform float delta;\nuniform float intence;\nuniform float emboss;\nfloat col(vec2 coord)\n{\nfloat delta_theta = 2.0 * PI / angle;\nfloat col = 0.0;\nfloat theta = 0.0;\nfor (float i = 0.0; i < steps; i++)\n{\nvec2 adjc = coord;\ntheta = delta_theta*i;\nadjc.x += cos(theta)*seconds*speed + seconds * speed_x;\nadjc.y -= sin(theta)*seconds*speed - seconds * speed_y;\ncol = col + cos( (adjc.x*cos(theta) - adjc.y*sin(theta))*frequency)*intensity;\n}\nreturn cos(col);\n}\nvoid main(void)\n{\nmediump vec2 tex = (vTex - srcStart) / (srcEnd - srcStart);\nvec2 p = tex, c1 = p, c2 = p;\nfloat cc1 = col(c1);\nc2.x += (1.0 / pixelSize.x) / delta;\nfloat dx = emboss*(cc1-col(c2))/delta;\nc2.x = p.x;\nc2.y += (1.0 / pixelSize.y) / delta;\nfloat dy = emboss*(cc1-col(c2))/delta;\nc1.x += dx;\nc1.y = -(c1.y+dy);\nfloat alpha = 1.+dot(dx,dy)*intence;\nc1.y = -c1.y;\nc1 = clamp(c1, 0.0, 1.0);\ngl_FragColor = texture2D(samplerFront, mix(srcStart, srcEnd, c1)) * alpha;\n}",oE:"",
QD:40,RD:40,KD:!1,YD:!1,cE:!1,JD:!0,parameters:[["speed",0,"percent"],["speed_x",0,"percent"],["speed_y",0,"percent"],["intensity",0,"float"],["frequency",0,"float"],["angle",0,"float"],["delta",0,"float"],["intence",0,"float"],["emboss",0,"percent"]]};
self.C3_Shaders.radialpixellate={UD:"#ifdef GL_FRAGMENT_PRECISION_HIGH\n#define highmedp highp\n#else\n#define highmedp mediump\n#endif\nvarying mediump vec2 vTex;\nuniform lowp sampler2D samplerFront;\nuniform mediump vec2 srcStart;\nuniform mediump vec2 srcEnd;\nuniform mediump vec2 pixelSize;\nuniform mediump float tilesize;\nvoid main(void)\n{\nmediump vec2 srcSize = srcEnd - srcStart;\nmediump vec2 tex = ((vTex - srcStart) / srcSize);\nhighmedp vec2 normCoord = 2.0 * tex - 1.0;\nhighmedp float r = length(normCoord);\nhighmedp float phi = atan(normCoord.y, normCoord.x);\nr = r - mod(r, pixelSize.x * tilesize / srcSize.x);\nphi = phi - mod(phi, pixelSize.y * tilesize / srcSize.y);\nnormCoord.x = r * cos(phi);\nnormCoord.y = r * sin(phi);\nnormCoord = normCoord / 2.0 + 0.5;\nnormCoord = clamp(normCoord, 0.0, 1.0);\t\t\t// ensure no sampling outside source rect\nnormCoord = (normCoord * srcSize) + srcStart;\t// convert back relative to source rect\ngl_FragColor = texture2D(samplerFront, normCoord);\n}",oE:"",
QD:0,RD:0,KD:!1,YD:!1,cE:!1,JD:!1,parameters:[["tilesize",0,"float"]]};
self.C3_Shaders.pixellate={UD:"varying mediump vec2 vTex;\nuniform lowp sampler2D samplerFront;\nuniform mediump vec2 srcOriginStart;\nuniform mediump vec2 srcOriginEnd;\nuniform mediump vec2 pixelSize;\nuniform mediump float tilesize;\nvoid main(void)\n{\nmediump vec2 tile = pixelSize * tilesize;\nmediump vec2 halftile = tile / 2.0;\nmediump vec2 tex = floor(vTex / tile) * tile + halftile;\ntex = clamp(tex, min(srcOriginStart, srcOriginEnd), max(srcOriginStart, srcOriginEnd));\ngl_FragColor = texture2D(samplerFront, tex);\n}",oE:"",
QD:0,RD:0,KD:!1,YD:!1,cE:!1,JD:!1,parameters:[["tilesize",0,"float"]]};self.C3_Shaders.grayscale={UD:"varying mediump vec2 vTex;\nuniform lowp sampler2D samplerFront;\nuniform lowp float intensity;\nvoid main(void)\n{\nlowp vec4 front = texture2D(samplerFront, vTex);\nlowp float gray = front.r * 0.299 + front.g * 0.587 + front.b * 0.114;\ngl_FragColor = mix(front, vec4(gray, gray, gray, front.a), intensity);\n}",oE:"",QD:0,RD:0,KD:!1,YD:!1,cE:!0,JD:!1,parameters:[["intensity",0,"percent"]]};
{"use strict";const e=self.B;let b=null,a="",d="",c=[],f="",k="",h="";const l=e.D(e.HY);function n(p,u){p=p[1];u=u[1];if("number"===typeof p&&"number"===typeof u)return p-u;p=""+p;u=""+u;return p<u?-1:p>u?1:0}e.C.Ta=class extends e.qk{constructor(p){super(p);this.Vf=this.j.la().Vf;this.Nd=this.j.la().$c();this.Lw=this.iq=0;this.WU=new Map}m(){super.m()}M(){this.j.M()}U(p){this.j.U(p,null,null)}Ez(p,u){b&&p===a&&u===d||(b=new RegExp(p,u),a=p,d=u);b.lastIndex=0;return b}GO(p,u,q){if(p===f&&u===k&&q===
h)return c;const v=this.Ez(u,q);c=p.match(v);f=p;k=u;h=q;return c}async $H(p,u){if(u.length){this.iq+=u.length;var q=[];for(const v of u)q.push(p.CP(v));await e.A5(q,()=>{this.Lw++});this.Lw++;this.Lw===this.iq&&(this.j.U(e.C.Ta.G.R4,null,null),this.iq=this.Lw=0)}}iU(p,u){for(const q of u)0===q.H.length&&p.m4(q)}AS(){return l}bda(p){var u=this.j.la();const q=u.$c(),v=q.ue(),r=v.Fb(),w=r.Ad();var y=v.lk();const z=q.Na(r),E=u.Vf,G=E.Na();if(y)for(y=0;y<p&&!G.Ec;++y)u.Yd(w),G.Oc(y),r.cf(v,z),u.Ab(w);
else for(u=0;u<p&&!G.Ec;++u)G.Oc(u),r.cf(v,z);q.Ja();E.Ja();return!1}*U9(p){var u=this.j.la();const q=u.$c(),v=q.ue(),r=v.Fb(),w=r.Ad();var y=v.lk();const z=q.Na(r),E=u.Vf,G=E.Na();if(y)for(y=0;y<p&&!G.Ec;++y)u.Yd(w),G.Oc(y),yield*r.Fg(v,z),u.Ab(w);else for(u=0;u<p&&!G.Ec;++u)G.Oc(u),yield*r.Fg(v,z);q.Ja();E.Ja();return!1}ffa(){var p=this.j.la();const u=p.$c(),q=u.ue(),v=q.Fb(),r=v.Ad();var w=q.lk();const y=u.Na(v),z=p.Vf,E=z.Na();if(w)for(w=0;!E.Ec;++w)p.Yd(r),E.Oc(w),v.cf(q,y)||E.Jd(),p.Ab(r);else for(p=
0;!E.Ec;++p)E.Oc(p),v.cf(q,y)||E.Jd();u.Ja();z.Ja();return!1}*n$(){var p=this.j.la();const u=p.$c(),q=u.ue(),v=q.Fb(),r=v.Ad();var w=q.lk();const y=u.Na(v),z=p.Vf,E=z.Na();if(w)for(w=0;!E.Ec;++w)p.Yd(r),E.Oc(w),(yield*v.Fg(q,y))||E.Jd(),p.Ab(r);else for(p=0;!E.Ec;++p)E.Oc(p),(yield*v.Fg(q,y))||E.Jd();u.Ja();z.Ja();return!1}X$(p,u,q){var v=this.j.la();const r=v.$c(),w=r.ue(),y=w.Fb(),z=y.Ad(),E=w.lk(),G=r.Na(y),P=v.Vf,C=P.Na();C.sA(p);if(q<u)if(E)for(p=u;p>=q&&!C.Ec;--p)v.Yd(z),C.Oc(p),y.cf(w,G),v.Ab(z);
else for(v=u;v>=q&&!C.Ec;--v)C.Oc(v),y.cf(w,G);else if(E)for(p=u;p<=q&&!C.Ec;++p)v.Yd(z),C.Oc(p),y.cf(w,G),v.Ab(z);else for(v=u;v<=q&&!C.Ec;++v)C.Oc(v),y.cf(w,G);r.Ja();P.Ja();return!1}*R9(p,u,q){var v=this.j.la();const r=v.$c(),w=r.ue(),y=w.Fb(),z=y.Ad(),E=w.lk(),G=r.Na(y),P=v.Vf,C=P.Na();C.sA(p);if(q<u)if(E)for(p=u;p>=q&&!C.Ec;--p)v.Yd(z),C.Oc(p),yield*y.Fg(w,G),v.Ab(z);else for(v=u;v>=q&&!C.Ec;--v)C.Oc(v),yield*y.Fg(w,G);else if(E)for(p=u;p<=q&&!C.Ec;++p)v.Yd(z),C.Oc(p),yield*y.Fg(w,G),v.Ab(z);
else for(v=u;v<=q&&!C.Ec;++v)C.Oc(v),yield*y.Fg(w,G);r.Ja();P.Ja();return!1}Y$(p){var u=this.j.la();const q=u.$c(),v=q.ue(),r=v.Fb(),w=r.Ad();var y=v.lk();const z=q.Na(r),E=u.Vf,G=E.Na(),P=p.Zb(),C=p.V(),H=l.Na();e.wd(H,C.na());if(y)for(let I=0,M=H.length;I<M&&!G.Ec;++I)u.Yd(w),y=H[I],p.V().sk(y),P&&y.bj(),G.Oc(I),r.cf(v,z),u.Ab(w);else{C.Ce(!1);p=C.H;e.F(p);p.push(null);for(let I=0,M=H.length;I<M&&!G.Ec;++I)u=H[I],p[0]=u,P&&u.bj(),G.Oc(I),r.cf(v,z)}q.Ja();E.Ja();e.F(H);l.Ja();return!1}*S9(p){var u=
this.j.la();const q=u.$c(),v=q.ue(),r=v.Fb(),w=r.Ad();var y=v.lk();const z=q.Na(r),E=u.Vf,G=E.Na(),P=p.Zb(),C=p.V(),H=l.Na();e.wd(H,C.na());if(y)for(let I=0,M=H.length;I<M&&!G.Ec;++I)u.Yd(w),y=H[I],p.V().sk(y),P&&y.bj(),G.Oc(I),yield*r.Fg(v,z),u.Ab(w);else{C.Ce(!1);p=C.H;e.F(p);p.push(null);for(let I=0,M=H.length;I<M&&!G.Ec;++I)u=H[I],p[0]=u,P&&u.bj(),G.Oc(I),yield*r.Fg(v,z)}q.Ja();E.Ja();e.F(H);l.Ja();return!1}Z$(p,u){var q=this.j.la();const v=q.$c(),r=q.Af(),w=v.ue(),y=w.Fb(),z=y.Ad(),E=w.lk(),
G=v.Na(y),P=q.Vf,C=P.Na(),H=p.Zb(),I=p.V(),M=l.Na();e.F(M);const Q=I.na();for(let R=0,V=Q.length;R<V;++R)M.push([Q[R],r.kv(1,R)]);M.sort(n);1===u&&M.reverse();if(E)for(let R=0,V=M.length;R<V&&!C.Ec;++R)q.Yd(z),u=M[R][0],p.V().sk(u),H&&u.bj(),C.Oc(R),y.cf(w,G),q.Ab(z);else{I.Ce(!1);p=I.H;e.F(p);p.push(null);for(let R=0,V=M.length;R<V&&!C.Ec;++R)q=M[R][0],p[0]=q,H&&q.bj(),C.Oc(R),y.cf(w,G)}v.Ja();P.Ja();e.F(M);l.Ja();return!1}*T9(p,u){var q=this.j.la();const v=q.$c(),r=q.Af(),w=v.ue(),y=w.Fb(),z=y.Ad(),
E=w.lk(),G=v.Na(y),P=q.Vf,C=P.Na(),H=p.Zb(),I=p.V(),M=l.Na();e.F(M);const Q=I.na();for(let R=0,V=Q.length;R<V;++R)M.push([Q[R],r.kv(1,R)]);M.sort(n);1===u&&M.reverse();if(E)for(let R=0,V=M.length;R<V&&!C.Ec;++R)q.Yd(z),u=M[R][0],p.V().sk(u),H&&u.bj(),C.Oc(R),yield*y.Fg(w,G),q.Ab(z);else{I.Ce(!1);p=I.H;e.F(p);p.push(null);for(let R=0,V=M.length;R<V&&!C.Ec;++R)q=M[R][0],p[0]=q,H&&q.bj(),C.Oc(R),yield*y.Fg(w,G)}v.Ja();P.Ja();e.F(M);l.Ja();return!1}GA(p,u){let q=this.WU.get(p);if(q)return q;if(!u)return null;
q={Qo:null,kE:new Map};this.WU.set(p,q);return q}o$(p,u,q,v,r){u.Xe().n6(q);v&&p.Ab(r)}*P9(p,u,q,v,r){yield*u.Xe().MZ(q);v&&p.Ab(r)}}}{"use strict";const e=self.B;e.C.Ta.Lf=class extends e.ja{constructor(b){super();this.L=b;this.j=b.I();this.ki=b.Gb()}mc(){}m(){this.ki=this.j=this.L=null}}}{"use strict";const e=self.B;e.C.Ta.Instance=class extends e.ja{constructor(b){super();this.K=b;this.L=this.K.J();this.Xc=this.L.Xc;this.j=this.K.I()}m(){this.j=this.Xc=this.L=this.K=null}}}
{"use strict";const e=self.B,b=[];e.C.Ta.G={i0(){return!0},UP(){return!0},T4(){return!0},i5(){return!0},f5(){return!0},up(){return this.j.up()},$_(){const a=this.j.Bf();return a.zJ?!1:!a.sq},h8(){const a=this.j.Af().Ui();let d=a.get("TriggerOnce_lastTick");"undefined"===typeof d&&(d=-1,a.set("TriggerOnce_lastTick",-1));const c=this.j.$k;a.set("TriggerOnce_lastTick",c);return this.j.mK||d!==c-1},h0(a){const d=this.j.Af().Ui(),c=d.get("Every_lastTime")||0,f=this.j.Ye();d.has("Every_seconds")||d.set("Every_seconds",
a);const k=d.get("Every_seconds");if(f>=c+k)return d.set("Every_lastTime",c+k),f>=d.get("Every_lastTime")+.04&&d.set("Every_lastTime",f),d.set("Every_seconds",a),!0;f<c-.1&&d.set("Every_lastTime",f);return!1},$u(a){return(a=this.j.la().rO(a))&&a.$u()},yr(){return this.j.yr()},Wz(){return e.od.Wz},W4(){return!0},F4(){return!0},Kka(){return!0},g5(){return!0},h5(){return!0},VP(){return!0},WP(){return!0},ona(a){return!!this.j.Bh(a)},mma(a){switch(a){case 0:return"browser"===e.od.IE;case 1:return"iOS"===
e.od.Cr;case 2:return"Android"===e.od.Cr;case 8:return"cordova"===e.od.IE;case 9:return"scirra-arcade"===this.j.Yn;case 10:return"nwjs"===e.od.IE;case 13:return"windows-uwp"===this.j.Yn;default:return!1}},woa(a,d,c){return this.Ez(d,c).test(a)},lZ(a,d,c){return e.compare(a,d,c)},Yja(a,d,c){return a>=d&&a<=c},rZ(a,d,c){return e.compare(a.Yb(),d,c)},mZ(a){return!!a.Yb()},eka(a,d){const c=this.j.Ye();return 0===a?(a=this.j.Af().Ui(),!a.get("CompareTime_executed")&&c>=d?(a.set("CompareTime_executed",
!0),!0):!1):e.compare(c,a,d)},jma(a){return isNaN(a)},BY(a,d,c){return e.Vq(e.Pa(a),e.Pa(c))<=e.Pa(d)},v3(a,d){return e.wf(e.Pa(a),e.Pa(d))},u3(a,d,c){a=e.Pa(a);d=e.Pa(d);c=e.Pa(c);return e.wf(c,d)?e.wf(a,d)&&!e.wf(a,c):!(!e.wf(a,d)&&e.wf(a,c))},xma(a,d){return"number"===typeof a?0===d:1===d},Nka(a){return!!a},s5(a,d,c,f){if(!a)return!1;const k=this.AS(),h=k.Na(),l=a.V();e.wd(h,l.na());l.Wb&&e.F(l.uc);const n=this.j.Af();let p=0;for(let u=0,q=h.length;u<q;++u){const v=h[u];h[p]=v;d=n.kv(1,u);f=n.kv(3,
u);e.compare(d,c,f)?++p:l.Nn(v)}e.Te(h,p);l.ov(h);d=!!h.length;e.F(h);k.Ja();a.jc();return d},Mna(a,d){if(!a)return!1;const c=this.AS(),f=c.Na(),k=a.V();e.wd(f,k.na());k.Wb&&e.F(k.uc);const h=this.j.Af();let l=0;for(let n=0,p=f.length;n<p;++n){const u=f[n];f[l]=u;(d=h.kv(1,n))?++l:k.Nn(u)}e.Te(f,l);k.ov(f);d=!!f.length;e.F(f);c.Ja();a.jc();return d},Sna(a,d){if(!a)return!1;const c=a.V(),f=c.na();d=Math.floor(d);if(d>=f.length)return!1;c.sn(f[d]);a.jc();return!0},Wna(a){if(!a)return!1;const d=a.V(),
c=d.na(),f=Math.floor(this.j.vn()*c.length);if(f>=c.length)return!1;d.sn(c[f]);a.jc();return!0},Lna(a){if(!a||!a.H.length)return!1;a.V().Ce(!0);a.jc();return!0},Una(a,d,c){if(!a)return!1;const f=a.V();var k=f.na();const h=this.j.Fb().de,l=this.j.Af().di;f.Wb?(e.wd(b,k),f.Sy(),f.Ce(!1)):h?(e.wd(b,f.uc),e.F(f.uc)):(e.wd(b,f.H),e.F(f.H));for(let n=0,p=b.length;n<p;++n)k=b[n],e.xor(k.A().qu(d,c),l)?f.Lp(k):f.Nn(k);a.jc();return e.xor(!!f.H.length,l)},Rna(a){if(!a)return!1;var d=a.Wa;let c=null;const f=
this.j.gm;for(let k=f.length-1;0<=k;--k){const h=f[k];if(d){if(h.J().BE(a)){c=h;break}}else if(h.J()===a){c=h;break}}c||(d=a.na(),d.length&&(c=d.Se(-1)));if(!c)return!1;a.V().sn(c);a.jc();return!0},b6(a){return this.j.Le?this.U9(a):this.bda(a)},Lsa(){return this.j.Le?this.n$():this.ffa()},ala(a,d,c){return this.j.Le?this.R9(a,d,c):this.X$(a,d,c)},eO(a){return this.j.Le?this.S9(a):this.Y$(a)},bla(a,d,c){return this.j.Le?this.T9(a,c):this.Z$(a,c)},Hma(a){return a?a.ad():!1},Ema(a){return a?!a.H.length:
!1},Dma(a,d,c){return a?e.compare(100*a.Ud(),d,c):!1},R4(){return!0},hma(){return 0<this.iq}}}
{"use strict";const e=self.B;function b(h,l){const n=h[0]-l[0];return 0!==n?n:h[1]-l[1]}function a(h,l){return h[1]-l[1]}const d=[],c=[],f=e.D(e.Rect),k=e.D(e.eb);e.C.Ta.Qa={F7(h,l){h.ye(l)},nja(h,l){h.pn()&&"number"!==typeof l&&(l=parseFloat(l));h.ye(h.Yb()+l)},Wra(h,l){h.pn()&&h.ye(h.Yb()-l)},D6(h,l){h.ye(!!l)},c8(h){h.ye(!h.Yb())},f6(){this.j.la().d6()},QN(h,l,n,p,u){h&&l&&(n=this.j.LE(h,l,n,p,u))&&(u&&l.eH(n),l=this.j.la(),l.Ue(!0),n.bB(),l.Ue(!1),h.V().sk(n),n.Zb()&&n.bj())},vka(h,l,n,p,u){h&&
l&&(h=this.j.nF(h))&&e.C.Ta.Qa.QN.call(this,h,l,n,p,u)},jv(h,l,n,p,u,q,v,r,w,y){if(h){var z=this.j.Ma();if(q&&(z=this.j.cb.lr(q),!z))return;q=null;if("number"!==typeof v||0<=v)if(q=z.Z(v),!q)return;f.set(l,n,p,u);l=z.jv(h,f,q,r,w,y);h.V().ov(l);h.jc()}},Ira(){const h=this.Vf;h.nP()&&h.ir().Jd()},Qr(h,l){(h=this.j.la().rO(h))&&(0===l?h.Qr(!1):1===l?h.Qr(!0):h.Qr(!h.$u()))},gra(h){this.j.$G(h)},Zqa(h,l){0>l&&(l=0);if(h){h=h.V().na();for(const n of h)n.$G(l)}},rpa(h){if(h){h=h.V().na();for(const l of h)l.k6()}},
pH(h){if(!(0>h))return this.j.la().vE().m3(h),!0},Csa(h){this.j.la().vE().k3(h);return!0},Bsa(){const h=this.j.la();h.vE().Y2(h.C1());return!0},ura(h){h=h.toLowerCase();for(const l of this.j.la().wg)l.M3()&&l.Ix===h&&l.VG()},async sR(h,l,n,p,u,q){const v=this.j.fa;v&&(this.M(),await v.sR(0===h?"image/png":"image/jpeg",l/100,n,p,u,q),await this.j.Be(e.C.Ta.G.F4,null))},aqa(h,l){if(!(0>=h||0>=l)){this.j.Gv(h,l);var n=this.j.Ma();n.Oy();for(const p of n.ec)p.oH();if(n=this.j.fa)"off"!==n.Du()&&this.j.f7(h,
l),n.Fc(n.No,n.Mo,!0),this.j.M()}},pqa(h){const l=this.j.fa;l&&"off"!==l.Du()&&(l.VQ(0!==h?"high":"low"),l.Fc(l.No,l.Mo,!0))},Cp(h){this.j.s6(h)},Mma(h){this.j.b4(h)},Nma(h){this.j.cG(h)},sqa(){},npa(){for(const h of this.j.cb.mj)h.i6()},bra(h){this.j.i7(0!==h)},eR(h){this.j.eR(h)},yra(h,l){if(h){var n=h.V().na(),p=this.j.Ma(),u=h.Wa;h=h.$h;for(let v=0,r=n.length;v<r;++v){var q=n[v];const w=q.A();if(!w)continue;let y;y=u?q.Ze(l+q.J().tO(h)):q.Ze(l);d.push([w.Z().Ha(),w.ik()]);c.push([q,y])}if(d.length){d.sort(b);
c.sort(a);l=!1;for(let v=0,r=d.length;v<r;++v)n=c[v][0],u=p.Iu(d[v][0]),h=d[v][1],q=u.H,q[h]!==n&&(q[h]=n,n.A().cw(u),u.Wg(),l=!0);l&&this.j.M();e.F(d);e.F(c)}}},nla(h){if(!this.j.Pk){var l=this.j.cb;l.xr()||l.Qy(h)}},ola(h){if(!this.j.Pk){var l=this.j.cb;l.xr()||(h=l.lr(h))&&l.Qy(h)}},ina(h){if(!this.j.Pk){var l=this.j.cb;if(!l.xr()){var n=l.mj,p=n.indexOf(l.Nb());h&&0===p||(h||p!==n.length-1)&&l.Qy(n[p+(h?-1:1)])}}},ppa(){if(!this.j.Pk){var h=this.j.cb;h.xr()||(h.Qy(h.Nb()),this.j.la().e6())}},
Kqa(h,l){h&&h.Ae(l)},Eqa(h,l){h&&h.ef(l/100)},Gqa(h,l){h&&h.gR(l)},Hqa(h,l){h&&h.n7(l)},yqa(h,l){h&&h.pd(e.Pa(+l))},Iqa(h,l,n){h&&(h.vv(!0),h.Lh(l),h.Mh(n))},qpa(h){h&&h.vv(!1)},Fqa(h,l,n){h&&h.g7(l/100,n/100)},Lqa(h,l){h&&h.Kf(+l)},zqa(h,l){h&&(k.Zt(l),k.ca(),h=h.Wl,h.Nm(k)||(h.kl(k),this.M()))},Jqa(h,l){h&&h.B7(l)},Aqa(h,l){h&&h.Gf(l)},Bqa(h,l,n){h&&(h=h.Sa,n=h.Cl(n))&&(l=1===l,n.Lb!==l&&(n.mA(l),h.Kn(),this.j.M()))},Cqa(h,l,n,p){if(h&&(h=h.Sa,l=h.Cl(l))&&(h=h.Kg(l.Ha()),n=Math.floor(n),!(0>n||
n>=h.length))){var u=l.jb.Bz(n);if("color"===u){k.Zt(p);n=h[n];if(k.Nm(n))return;n.kl(k)}else{"percent"===u&&(p/=100);if(h[n]===p)return;h[n]=p}l.Lb&&this.j.M()}},Dqa(h,l){h&&h.R6(l)},Qqa(h){this.j.Ma().TG(+h)},Mqa(h){this.j.Ma().pd(e.Pa(+h))},Nqa(h,l){const n=this.j.Ma().Sa;if(l=n.Cl(l))h=1===h,l.Lb!==h&&(l.mA(h),n.Kn(),this.j.M())},Oqa(h,l,n){var p=this.j.Ma().Sa;if(h=p.Cl(h))if(p=p.Kg(h.Ha()),l=Math.floor(l),!(0>l||l>=p.length)){var u=h.jb.Bz(l);if("color"===u){k.Zt(n);l=p[l];if(k.Nm(l))return;
l.kl(k)}else{"percent"===u&&(n/=100);if(p[l]===n)return;p[l]=n}h.Lb&&this.j.M()}},Rqa(h,l){this.j.Ma().E7(h/100,l/100)},Pqa(h){const l=this.j.Ma();0===h?l.iR():l.fR()},Mpa(h){this.j.Ma().Lh(h)},Npa(h){this.j.Ma().Mh(h)},Jpa(h,l){const n=this.j.Ma();n.Lh(h);n.Mh(l)},Lpa(h){if(h&&(h=h.hp())&&(h=h.A())){var l=this.j.Ma();l.Lh(h.da());l.Mh(h.ea())}},async d4(h){const l=this.j.Nb();l&&h&&!this.j.Pk&&await this.$H(l,h.Wa?h.eq:[h])},async Lma(h){await e.C.Ta.Qa.d4.call(this,this.j.nF(h))},vsa(h){const l=
this.j.Nb();l&&h&&this.iU(l,h.Wa?h.eq:[h])},k8(h){e.C.Ta.Qa.k8.call(this,this.j.nF(h))},wsa(){const h=this.j.Nb();if(h){var l=h.Daa();this.iU(h,l)}},async Jma(h){const l=this.j.Nb();h&&l&&!this.j.Pk&&await this.$H(l,h.BS())},async Kma(h){const l=this.j.Nb();(h=this.j.cb.lr(h))&&l&&!this.j.Pk&&await this.$H(l,h.BS())},qA(h){const l=this.Nd.E0();if(l)switch(l.XU){case 1:"number"===typeof h&&l.qA(h);break;case 2:"string"===typeof h&&l.qA(h);break;case 3:l.qA(h)}},Qma(h,l,n){var p=this.GA(h.toLowerCase(),
!0);const u=p.kE,q=l.toLowerCase();u.has(q)&&console.warn(`[Construct 3] Function map '${h}' string '${l}' already in map; overwriting entry`);(p=e.first(u.values())||p.Qo)&&0!==p.wm!==(0!==n.wm)?console.error(`[Construct 3] Function map '${h}' string '${l}' function return type not compatible with other functions in the map; entry ignored`):u.set(q,n)},Rma(h,l){const n=this.GA(h.toLowerCase(),!0);n.Qo&&console.warn(`[Construct 3] Function map '${h}' already has a default; overwriting entry`);const p=
e.first(n.kE.values())||n.Qo;p&&0!==p.wm!==(0!==l.wm)?console.error(`[Construct 3] Function map '${h}' default: function return type not compatible with other functions in the map; entry ignored`):n.Qo=l},Oja(h,l,n){n=Math.floor(n);var p=this.GA(h.toLowerCase(),!1);if(p){var u=p.kE.get(l.toLowerCase());if(!u)if(p.Qo)u=p.Qo,n=0;else{console.warn(`[Construct 3] Call mapped function: no function associated with map '${h}' string '${l}'; call ignored (consider setting a default)`);return}if(u.Fh())if(0!==
u.wm)console.warn(`[Construct 3] Call mapped function: map '${h}' string '${l}' has a return type so cannot be called`);else{h=this.j;l=h.la();var q=l.Fb();p=q.Hd();var v=0<p.length;v&&l.Tg(p);var r=[];if(q=l.VE(q)){q=q.eh;for(let w=n,y=q.length;w<y;++w)r.push(q[w].Yb())}n=u.eh;for(let w=r.length,y=n.length;w<y;++w)r.push(n[w].kq);return h.Le?this.P9(l,u,r,v,p):this.o$(l,u,r,v,p)}}else console.warn(`[Construct 3] Call mapped function: map name '${h}' not found; call ignored`)}}}
{"use strict";const e=self.B;e.C.Ta.sb={Cha:function(b){"string"===typeof b&&(b=parseInt(b,10),isNaN(b)&&(b=0));return Math.floor(b)},Ata:function(b){"string"===typeof b&&(b=parseFloat(b),isNaN(b)&&(b=0));return b},Sm(b){return b.toString()},wy(b){return"string"===typeof b?b.length:0},random(b,a){return"undefined"===typeof a?this.j.vn()*b:this.j.vn()*(a-b)+b},eX(...b){return b[Math.floor(this.j.vn()*b.length)]},Tua(){return Math.PI},dua(){return Infinity},sqrt(b){return Math.sqrt(b)},abs(b){return Math.abs(b)},
round(b){return Math.round(b)},sva(b,a){a=Math.max(Math.floor(a),0);a=Math.pow(10,a);return Math.round((b+Number.EPSILON)*a)/a},floor(b){return Math.floor(b)},ceil(b){return Math.ceil(b)},sign(b){return Math.sign(b)},sin(b){return Math.sin(e.Pa(b))},cos(b){return Math.cos(e.Pa(b))},tan(b){return Math.tan(e.Pa(b))},asin(b){return e.Bg(Math.asin(b))},acos(b){return e.Bg(Math.acos(b))},atan(b){return e.Bg(Math.atan(b))},exp(b){return Math.exp(b)},Qha(b){return Math.log(b)},log10(b){return Math.log(b)/
Math.LN10},max(...b){let a=b[0];"number"!==typeof a&&(a=0);for(let d=1,c=b.length;d<c;++d){let f=b[d];"number"===typeof f&&a<f&&(a=f)}return a},min(...b){let a=b[0];"number"!==typeof a&&(a=0);for(let d=1,c=b.length;d<c;++d){let f=b[d];"number"===typeof f&&a>f&&(a=f)}return a},ca(b,a,d){return e.ca(b,a,d)},oy(b,a,d,c){return e.yg(b,a,d,c)},angle(b,a,d,c){return e.Bg(e.jl(b,a,d,c))},te(b,a,d){return e.te(b,a,d)},mE(b,a,d){return e.mE(b,a,d)},dE(b,a,d,c){return e.dE(b,a,d,c)},hX(b,a,d,c,f){return e.hX(b,
a,d,c,f)},gX(b,a,d){return e.gX(b,a,d)},$sa(b,a){return e.Bg(e.Vq(e.Pa(b),e.Pa(a)))},ata(b,a,d){return e.Bg(e.cM(e.Pa(b),e.Pa(a),d))},bta(b,a,d){return e.Bg(e.dM(e.Pa(b),e.Pa(a),e.Pa(d)))},Eva(b,a,d){a|=0;return(b|0)&~(1<<a)|(0!==d?1:0)<<a},Nva(b,a){return(b|0)^1<<(a|0)},Yta(b,a){return(b|0)&1<<(a|0)?1:0},Jua(){return"\n"},Uva(b){return"string"===typeof b?b.toUpperCase():""},Cua(b){return"string"===typeof b?b.toLowerCase():""},left(b,a){return"string"===typeof b?b.substr(0,a):""},mid(b,a,d){return"string"!==
typeof b?"":0>d?b.substr(a):b.substr(a,d)},right(b,a){return"string"===typeof b?b.substr(b.length-a):""},trim(b){return"string"===typeof b?b.trim():""},Ova(b,a,d){if("string"!==typeof b||"string"!==typeof d)return"";b=b.split(d);a=Math.floor(a);return 0>a||a>=b.length?"":b[a]},Pva(b,a){return"string"===typeof b&&"string"===typeof a&&b.length?b.split(a).length:0},find(b,a){return"string"===typeof b&&"string"===typeof a?b.search(new RegExp(e.tu(a),"i")):-1},zta(b,a){return"string"===typeof b&&"string"===
typeof a?b.search(new RegExp(e.tu(a),"")):-1},replace(b,a,d){return"string"===typeof b&&"string"===typeof a&&"string"===typeof d?b.replace(new RegExp(e.tu(a),"gi"),d):"string"===typeof b?b:""},dva(b,a,d){a=this.Ez(a,d);return b?b.search(a):-1},cva(b,a,d,c){a=this.Ez(a,d);return b?b.replace(a,c):""},bva(b,a,d){return(b=this.GO(b.toString(),a,d))?b.length:0},ava(b,a,d,c){c=Math.floor(c);b=this.GO(b.toString(),a,d);return!b||0>c||c>=b.length?"":b[c]},Lia(b,a){let d=0>b?"-":"";0>b&&(b=-b);d+="0".repeat(Math.max(a-
b.toString().length,0));return d+b.toString()},Wva(b){return encodeURIComponent(b)},Vva(b){return decodeURIComponent(b)},lX(){return this.j.DB},Lva(){return this.j.Qd},ewa(){return(Date.now()-this.j.zo)/1E3},Sva(){return Date.now()},time(){return this.j.Ye()},Kva(){return this.j.$k},Nua(){return this.j.VK},Cta(){return this.j.UB},nta(){return this.j.LC},Zta(){return this.j.xz()},gwa(){return this.j.fa.Vh},fwa(){return this.j.fa.Uh},Rua(){return this.j.jh},Qua(){return this.j.ih},Pua(){return this.j.jh},
Oua(){return this.j.ih},vva(){return this.j.Ma().kg()},wva(){return this.j.Ma().lg()},xua(){return this.j.Ma().wa()},yua(){return this.j.Ma().hd},vua(){return e.Bg(this.j.Ma().ua())},zua(){return this.j.Ma().X()},wua(){return this.j.Ma().W()},awa(b){return(b=this.j.Ma().Z(b))?b.Lo.R:0},cwa(b){return(b=this.j.Ma().Z(b))?b.Lo.O:0},bwa(b){return(b=this.j.Ma().Z(b))?b.Lo.ia:0},Zva(b){return(b=this.j.Ma().Z(b))?b.Lo.ba:0},dwa(b){return(b=this.j.Ma().Z(b))?b.Lo.width():0},$va(b){return(b=this.j.Ma().Z(b))?
b.Lo.height():0},ita(b,a,d){return(b=this.j.Ma().Z(b))?b.Dg(a,d)[0]:0},jta(b,a,d){return(b=this.j.Ma().Z(b))?b.Dg(a,d)[1]:0},sua(b,a,d){return(b=this.j.Ma().Z(b))?b.wp(a,d)[0]:0},tua(b,a,d){return(b=this.j.Ma().Z(b))?b.wp(a,d)[1]:0},oua(b){return(b=this.j.Ma().Z(b))?b.hd:0},jua(b){return(b=this.j.Ma().Z(b))?e.Bg(b.Fe):0},lua(b){return(b=this.j.Ma().Z(b))?100*b.Ud():0},pua(b){return(b=this.j.Ma().Z(b))?b.Nj:0},qua(b){return(b=this.j.Ma().Z(b))?b.kg():0},rua(b){return(b=this.j.Ma().Z(b))?b.lg():0},
mua(b){return(b=this.j.Ma().Z(b))?100*b.le:0},nua(b){return(b=this.j.Ma().Z(b))?100*b.me:0},uua(b){return(b=this.j.Ma().Z(b))?b.$a():0},kua(b){return(b=this.j.Ma().Z(b))?b.Ha():-1},hta(){const b=this.j.fa;return b?b.vL:""},Sha(b){const a=this.Vf;return a.nP()?b?(b=a.o0(b))?b.Ha():0:a.ir().Ha():0},tva(){return this.j.wq},gta(b,a,...d){var c=this.GA(b.toLowerCase(),!1);if(!c)return console.warn(`[Construct 3] Call mapped function: map name '${b}' not found; returning 0`),0;var f=c.kE.get(a.toLowerCase());
if(!f)if(c.Qo)f=c.Qo;else return console.warn(`[Construct 3] Call mapped function: no function associated with map '${b}' string '${a}'; returning 0 (consider setting a default)`),0;c=f.wm;const k=f.Eu();if(0===c)return console.warn(`[Construct 3] Call mapped function: map '${b}' string '${a}' has no return type so cannot be called from an expression; returning 0`),0;if(!f.Fh())return k;b=this.j.la();a=b.Fb().Hd();const h=0<a.length;h&&b.Tg(a);const l=f.eh;for(let n=d.length,p=l.length;n<p;++n)d.push(l[n].kq);
f=f.Xe();d=f.xG(f.Hd(),c,k,...d);h&&b.Ab(a);return d},Bua(){return this.j.xb.EC},bua(){return 0===this.iq?1:this.Lw/this.iq},yf(){return this.j.Su()?"webgpu":"webgl"},gva(){return this.j.Su()?"<unavailable>":this.j.pp().by},cua(){let b=this.j.qb().I0();return Math.round(100*b/1048576)/100},hva(b,a,d){return e.o5(b,a,d)},kva(b,a,d){return e.fQ(b/100,a/100,d/100)},iva(b,a,d,c){return e.eA(b/100,a/100,d/100,c/100)},lva(b,a,d){return e.fQ(b/255,a/255,d/255)},jva(b,a,d,c){return e.eA(b/255,a/255,d/255,
c/255)},Wua(){return this.j.aD},Xua(){return this.j.lW},pta(){return this.j.Fb().dd.wa()},ota(){return this.j.Fb().Es}}}{"use strict";const e=self.B;e.C.wk=class extends e.qk{constructor(b){super(b)}m(){super.m()}}}
{"use strict";const e=self.B;function b(a){switch(a){case 0:return"clamp-to-edge";case 2:return"mirror-repeat"}return"repeat"}e.C.wk.Lf=class extends e.zn{constructor(a,d){super(a);this.Jm=this.Im="repeat";d&&(this.Im=b(d[0]),this.Jm=b(d[1]))}m(){super.m()}mc(){this.ie().bG(this.j)}yp(a){return this.ie().xp(a,{uh:this.j.gd,hu:this.Im,iu:this.Jm})}xn(){this.ie().Ih()}}}
{"use strict";const e=self.B,b=e.D(e.Rect),a=e.D(e.Bd),d=e.D(e.Rect),c=e.D(e.Bd);e.C.wk.Instance=class extends e.kA{constructor(k,h){super(k);this.Os=this.Ns=0;this.Qs=this.Ps=1;this.fm=0;this.Aq=null;h&&(this.A().Ae(!!h[0]),this.Ns=h[4],this.Os=h[5],this.Ps=h[6],this.Qs=h[7],this.fm=e.Pa(h[8]))}m(){this.vT();super.m()}vT(){this.Aq&&(this.Aq.m(),this.Aq=null)}We(k){var h=this.Td(),l=h.Id();if(null!==l){k.Jf(l);l=h.X();h=h.W();var n=this.Ns/l,p=this.Os/h,u=this.A();d.set(0,0,u.X()/(l*this.Ps),u.W()/
(h*this.Qs));d.offset(-n,-p);u.Ef()?this.Ov(u,k):this.Pv(u,k)}}Pv(k,h){let l=k.Mi();this.j.Gj&&(l=k.fA(l));0===this.fm?h.un(l,d):(c.XM(d,-this.fm),h.oQ(l,c))}Ov(k,h){const l=k.xF();if(k.WF()){k.lu(b,a,!1);let n=a;this.j.Gj&&(n=k.fA(n));let p=d;0!==this.fm&&(c.XM(d,-this.fm),p=c);l.EE(k.Vi(),n,p);k.uv(!1)}l.We(h)}Td(){return this.Aq||this.L.ie()}kk(){return!0}Id(){return this.Td().Id()}dw(){this.A().uv(!0)}ST(k){this.Ns!==k&&(this.Ns=k,this.j.M(),this.dw())}TT(k){this.Os!==k&&(this.Os=k,this.j.M(),
this.dw())}UT(k){this.Ps!==k&&(this.Ps=k,this.j.M(),this.dw())}VT(k){this.Qs!==k&&(this.Qs=k,this.j.M(),this.dw())}RT(k){this.fm!==k&&(this.fm=k,this.j.M(),this.dw())}Xb(k){switch(k){case 4:return this.Ns;case 5:return this.Os;case 6:return this.Ps;case 7:return this.Qs;case 8:return this.fm}}ff(k,h){switch(k){case 4:this.ST(h);break;case 5:this.TT(h);break;case 6:this.UT(h);break;case 7:this.VT(h);break;case 8:this.RT(h)}}jg(){return self.z2}};const f=new WeakMap;self.z2=class extends self.Vu{constructor(){super();
f.set(this,self.qp.Mn().ka)}get imageWidth(){return f.get(this).Td().X()}get imageHeight(){return f.get(this).Td().W()}}}"use strict";self.B.C.wk.G={dA(){return!0},jG(){return!0}};
{"use strict";const e=self.B;e.C.wk.Qa={uqa(b){this.ST(b)},vqa(b){this.TT(b)},wqa(b){this.UT(b/100)},xqa(b){this.VT(b/100)},tqa(b){this.RT(e.Pa(b))},RQ(b){this.A().Gf(b);this.j.M()},async f4(b){if(!this.Aq||this.Aq.Rj!==b){var a=this.j,d=e.D(e.Wu);try{await d.zP(a,b);if(!d.Vz())throw Error("image failed to load");if(this.bs())return d.m(),null;if(!await d.xp(a.qb(),{uh:this.j.gd,hu:"repeat",iu:"repeat"}))return}catch(c){console.error("Load image from URL failed: ",c);this.U(e.C.wk.G.jG);return}this.bs()?
d.m():(this.vT(),this.Aq=d,a.M(),await this.Be(e.C.wk.G.dA))}}}}{"use strict";const e=self.B;e.C.wk.sb={H2(){return this.Td().X()},D2(){return this.Td().W()},zla(){return this.Ns},Ala(){return this.Os},Cla(){return 100*this.Ps},Dla(){return 100*this.Qs},wla(){return e.Bg(this.fm)}}}{"use strict";const e=self.B;e.C.Xd=class extends e.qk{constructor(b){super(b)}m(){super.m()}}}
{"use strict";const e=self.B;e.C.Xd.Lf=class extends e.zn{constructor(b){super(b)}m(){super.m()}mc(){}jg(){return self.u2}};self.u2=class extends self.Uu{constructor(b){super(b);b.I().vs.AM=this}}}
{"use strict";const e=self.B;e.C.Xd.Instance=class extends e.Bp{constructor(b){super(b,"mouse");this.Tp=[!1,!1,!1];this.PW=this.zD=this.Pq=this.po=this.oo=0;this.$B=!1;this.PK=this.OK=0;this.iN([["pointer-lock-change",a=>this.nca(a)],["pointer-lock-error",a=>this.oca(a)]]);b=this.I().zb();this.Ge=new e.pu(e.Ac.md(b,"pointermove",a=>this.gI(a.data)),e.Ac.md(b,"pointerdown",a=>this.fI(a.data)),e.Ac.md(b,"pointerup",a=>this.QA(a.data)),e.Ac.md(b,"dblclick",a=>this.Yba(a.data)),e.Ac.md(b,"wheel",a=>this.lca(a.data)),
e.Ac.md(b,"window-blur",()=>this.jI()))}m(){super.m()}fI(b){"mouse"===b.pointerType&&(this.oo=b.pageX-this.j.fp(),this.po=b.pageY-this.j.gp(),this.vH(b.lastButtons,b.buttons))}gI(b){this.OK=b.movementX;this.PK=b.movementY;this.U(e.C.Xd.G.X4);this.PK=this.OK=0;"mouse"===b.pointerType&&(this.oo=b.pageX-this.j.fp(),this.po=b.pageY-this.j.gp(),this.vH(b.lastButtons,b.buttons))}QA(b){"mouse"===b.pointerType&&this.vH(b.lastButtons,b.buttons)}vH(b,a){this.uH(b,a,1,0);this.uH(b,a,4,1);this.uH(b,a,2,2)}uH(b,
a,d,c){!(b&d)&&a&d?this.jca(c):b&d&&!(a&d)&&this.kca(c)}jca(b){this.Tp[b]=!0;this.U(e.C.Xd.G.D4);this.Pq=b;this.zD=0;this.U(e.C.Xd.G.MP);this.U(e.C.Xd.G.XP)}kca(b){this.Tp[b]&&(this.Tp[b]=!1,this.Pq=b,this.U(e.C.Xd.G.YP))}Yba(b){this.Pq=b.button;this.zD=1;this.U(e.C.Xd.G.MP);this.U(e.C.Xd.G.XP)}lca(b){this.PW=0>b.deltaY?1:0;this.U(e.C.Xd.G.m5)}jI(){for(let b=0,a=this.Tp.length;b<a&&this.Tp[b];++b)this.Tp[b]=!1,this.Pq=b,this.U(e.C.Xd.G.YP)}DO(b){const a=this.j.Nb(),d=this.oo,c=this.po;return"undefined"===
typeof b?a.Iu(0).CN(d,c):(b=a.Z(b))?b.Dg(d,c):[0,0]}WS(){return 0<=this.oo&&0<=this.po&&this.oo<this.j.mO()&&this.po<this.j.lO()}nca(b){this.pU(b["has-pointer-lock"])}oca(b){this.pU(b["has-pointer-lock"]);this.U(e.C.Xd.G.c5)}pU(b){this.$B!==b&&((this.$B=b)?this.U(e.C.Xd.G.d5):this.U(e.C.Xd.G.e5))}}}
{"use strict";const e=self.B;e.C.Xd.G={MP(b,a){return this.Pq===b&&this.zD===a},D4(){return!0},Rla(b){return this.Tp[b]},YP(b){return this.Pq===b},pma(b){if(!this.WS())return!1;const a=this.j.Af().di;return e.xor(this.j.Nf.Xr(b,this.oo,this.po,a),a)},XP(b,a,d){return b===this.Pq&&a===this.zD&&this.WS()?this.j.Nf.Xr(d,this.oo,this.po,!1):!1},m5(b){return this.PW===b},d5(){return!0},e5(){return!0},c5(){return!0},sla(){return this.$B},X4(){return!0}}}
{"use strict";const e=self.B;let b=null;const a="auto pointer text crosshair move help wait none".split(" ");e.C.Xd.Qa={cqa(d){d=a[d];b!==d&&(b=d,this.ib("cursor",d))},dqa(d){if(!e.od.Wz&&d&&(d=d.hp())){var c=d.A(),f=d.Td();c&&f&&b!==f&&(b=f,f.k0().then(k=>e.ou(k)).then(k=>{k=`url(${URL.createObjectURL(k)}) ${Math.round(c.ak()*f.X())} ${Math.round(c.bk()*f.W())}, auto`;this.ib("cursor","");this.ib("cursor",k)}))}},Doa(){this.lI("request-pointer-lock")},xoa(){this.ib("release-pointer-lock")}}}"use strict";
self.B.C.Xd.sb={KR(e){return this.DO(e)[0]},LR(e){return this.DO(e)[1]},aY(){return this.oo},bY(){return this.po},cna(){return this.OK},dna(){return this.PK}};{"use strict";const e=self.B;e.C.Touch=class extends e.qk{constructor(b){super(b)}m(){super.m()}}}
{"use strict";const e=self.B,b=self.yh;e.C.Touch.Lf=class extends e.zn{constructor(d){super(d)}m(){super.m()}mc(){}jg(){return self.A2}};let a=null;self.A2=class extends self.Uu{constructor(d){super(d);a=d;d.I().vs.cN=this}requestPermission(d){b.xe(d);const c=a.fk().ka;if("orientation"===d)return c.mI(0);if("motion"===d)return c.mI(1);throw Error("invalid type");}}}
{"use strict";const e=self.B;e.C.Touch.Instance=class extends e.Bp{constructor(b,a){super(b,"touch");this.td=new Map;this.pC=this.RW=!1;this.XB=this.Xh=this.Wh=this.KL=this.xD=this.Gt=this.KI=this.JI=this.II=this.NI=this.MI=this.LI=this.YK=this.XK=this.WK=this.UC=0;this.WC=[];a&&(this.RW=a[0]);this.rE("permission-result",d=>this.mca(d));b=this.I().zb();this.Ge=new e.pu(e.Ac.md(b,"pointerdown",d=>this.fI(d.data)),e.Ac.md(b,"pointermove",d=>this.gI(d.data)),e.Ac.md(b,"pointerup",d=>this.QA(d.data,!1)),
e.Ac.md(b,"pointercancel",d=>this.QA(d.data,!0)),e.Ac.md(b,"deviceorientation",d=>this.Wba(d.data)),e.Ac.md(b,"deviceorientationabsolute",d=>this.Xba(d.data)),e.Ac.md(b,"devicemotion",d=>this.Vba(d.data)),e.Ac.md(b,"tick2",()=>this.hI()))}m(){this.td.clear();super.m()}fI(b){if("mouse"===b.pointerType)if(this.RW)this.pC=!0;else return;const a=b.pointerId;if(!this.td.has(a)){var d=b.pageX-this.j.fp();b=b.pageY-this.j.gp();var c=performance.now(),f=this.td.size;this.Gt=f;this.xD=a;var k=e.D(e.C.Touch.d8);
k.jn(c,d,b,a,f);this.td.set(a,k);this.U(e.C.Touch.G.Z4);this.U(e.C.Touch.G.bQ);this.Wh=d;this.Xh=b;this.U(e.C.Touch.G.aQ)}}gI(b){if("mouse"!==b.pointerType||this.pC){var a=this.td.get(b.pointerId);if(a){var d=performance.now();2>d-a.xa()||a.Pl(d,b.pageX-this.j.fp(),b.pageY-this.j.gp(),b.width,b.height,b.pressure)}}}QA(b,a){if("mouse"===b.pointerType)if(this.pC)this.pC=!1;else return;const d=performance.now();b=b.pointerId;const c=this.td.get(b);c&&(this.Gt=c.lh,this.xD=c.Lg(),this.U(e.C.Touch.G.Y4),
this.U(e.C.Touch.G.k5),a||(a=c.N7(d),"single-tap"===a?(this.U(e.C.Touch.G.j5),this.Wh=c.da(),this.Xh=c.ea(),this.U(e.C.Touch.G.$P)):"double-tap"===a&&(this.U(e.C.Touch.G.I4),this.Wh=c.da(),this.Xh=c.ea(),this.U(e.C.Touch.G.J4))),c.m(),this.td.delete(b))}mI(b){this.lI("request-permission",{type:b});return new Promise((a,d)=>{this.WC.push({type:b,resolve:a,reject:d})})}mca(b){const a=b.result,d=b.type;this.KL=d;b=this.WC.filter(c=>c.type===d);for(const c of b)c.resolve(a?"granted":"denied");this.WC=
this.WC.filter(c=>c.type!==d);a?(this.U(e.C.Touch.G.b5),0===d?this.j.Hr():this.j.yn()):this.U(e.C.Touch.G.a5)}Wba(b){"number"===typeof b.webkitCompassHeading?this.UC=b.webkitCompassHeading:b.absolute&&(this.UC=b.alpha);this.WK=b.alpha;this.XK=b.beta;this.YK=b.gamma}Xba(b){this.UC=b.alpha}Vba(b){const a=b.acceleration;a&&(this.LI=a.x,this.MI=a.y,this.NI=a.z);if(b=b.accelerationIncludingGravity)this.II=b.x,this.JI=b.y,this.KI=b.z}hI(){const b=performance.now();let a=0;for(const d of this.td.values())d.xa()<=
b-50&&d.qea(b),d.M7(b)&&(this.Gt=d.lh,this.xD=d.Lg(),this.XB=a,this.U(e.C.Touch.G.P4),this.Wh=d.da(),this.Xh=d.ea(),this.U(e.C.Touch.G.Q4),this.XB=0),++a}hj(b){b=Math.floor(b);for(const a of this.td.values()){if(0===b)return a;--b}return null}Uv(b,a){return 0<=b&&0<=a&&b<this.j.mO()&&a<this.j.lO()}}}
{"use strict";const e=self.B,b=[];e.C.Touch.G={bQ(){return!0},k5(){return!0},bma(){return 0<this.td.size},aQ(a){return a&&this.Uv(this.Wh,this.Xh)?this.j.Nf.Xr(a,this.Wh,this.Xh,!1):!1},vma(a){if(!a)return!1;const d=a.V();var c=d.na();for(const f of c){c=f.A();const k=c.Z();for(const h of this.td.values()){if(!this.Uv(h.da(),h.ea()))continue;const [l,n]=k.Dg(h.da(),h.ea(),c.$e());if(c.qu(l,n)){b.push(f);break}}}return b.length?(d.ov(b),a.jc(),e.F(b),!0):!1},fka(a,d,c){return(a=this.hj(a))?e.compare(a.Gl(),
d,c):!1},Cna(){return!0},Xma(){return!0},cka(a,d,c){this.j.Hr();return e.compare(0===a?this.WK:1===a?this.XK:this.YK,d,c)},Wja(a,d,c){this.j.yn();return e.compare(0===a?this.II:1===a?this.JI:2===a?this.KI:3===a?this.LI:4===a?this.MI:this.NI,d,c)},Z4(a){a=Math.floor(a);return a===this.Gt},Y4(a){a=Math.floor(a);return a===this.Gt},rla(a){a=Math.floor(a);return this.td.size>=a+1},P4(){return!0},j5(){return!0},I4(){return!0},Q4(a){return a&&this.Uv(this.Wh,this.Xh)?this.j.Nf.Xr(a,this.Wh,this.Xh,!1):
!1},$P(a){return a&&this.Uv(this.Wh,this.Xh)?this.j.Nf.Xr(a,this.Wh,this.Xh,!1):!1},J4(a){return a&&this.Uv(this.Wh,this.Xh)?this.j.Nf.Xr(a,this.Wh,this.Xh,!1):!1},b5(a){return this.KL===a},a5(a){return this.KL===a}}}"use strict";self.B.C.Touch.Qa={Coa(e){this.mI(e)}};
{"use strict";const e=self.B;e.C.Touch.sb={gsa(){return this.td.size},KR(b){const a=this.hj(this.XB);return a?a.nr(this.j.Ma(),b,!0):0},LR(b){const a=this.hj(this.XB);return a?a.nr(this.j.Ma(),b,!1):0},Psa(b,a){return(b=this.hj(b))?b.nr(this.j.Ma(),a,!0):0},Rsa(b,a){return(b=this.hj(b))?b.nr(this.j.Ma(),a,!1):0},Qsa(b,a){return(b=this.td.get(b))?b.nr(this.j.Ma(),a,!0):0},Ssa(b,a){return(b=this.td.get(b))?b.nr(this.j.Ma(),a,!1):0},aY(){const b=this.hj(0);return b?b.da():0},bY(){const b=this.hj(0);
return b?b.ea():0},Nia(b){return(b=this.hj(b))?b.da():0},Pia(b){return(b=this.hj(b))?b.ea():0},Oia(b){return(b=this.td.get(b))?b.da():0},Qia(b){return(b=this.td.get(b))?b.ea():0},Ara(b){return(b=this.hj(b))?b.Gl():0},Bra(b){return(b=this.td.get(b))?b.Gl():0},uja(b){return(b=this.hj(b))?e.Bg(b.ua()):0},vja(b){return(b=this.td.get(b))?e.Bg(b.ua()):0},oka(){this.j.Hr();return this.UC},pja(){this.j.Hr();return this.WK},Ija(){this.j.Hr();return this.XK},hla(){this.j.Hr();return this.YK},Tia(){this.j.yn();
return this.II},Via(){this.j.yn();return this.JI},Xia(){this.j.yn();return this.KI},Sia(){this.j.yn();return this.LI},Uia(){this.j.yn();return this.MI},Wia(){this.j.yn();return this.NI},isa(){return this.Gt},hsa(){return this.xD},Nsa(b){return(b=this.td.get(b))?b.X():0},tla(b){return(b=this.td.get(b))?b.W():0},poa(b){return(b=this.td.get(b))?b.kW:0}}}
{"use strict";const e=self.B;let b=-1E3,a=-1E3,d=-1E4;e.C.Touch.d8=class extends e.ja{constructor(){super();this.kW=this.P=this.S=this.Sk=this.Rk=this.N=this.T=this.pD=this.oD=this.HC=this.Yc=this.zo=this.lh=this.iW=0;this.xC=this.VJ=!1}m(){}jn(c,f,k,h,l){this.iW=h;this.lh=l;this.zo=this.HC=this.Yc=c;this.oD=f;this.pD=k;this.T=f;this.N=k;this.Rk=f;this.Sk=k}Pl(c,f,k,h,l,n){this.HC=this.Yc;this.Yc=c;this.Rk=this.T;this.Sk=this.N;this.T=f;this.N=k;this.S=h;this.P=l;this.kW=n;!this.xC&&15<=e.yg(this.oD,
this.pD,this.T,this.N)&&(this.xC=!0)}Lg(){return this.iW}xa(){return this.Yc}qea(c){this.HC=c}da(){return this.T}ea(){return this.N}Gl(){const c=e.yg(this.T,this.N,this.Rk,this.Sk),f=(this.Yc-this.HC)/1E3;return 0<f?c/f:0}ua(){return e.jl(this.Rk,this.Sk,this.T,this.N)}X(){return this.S}W(){return this.P}M7(c){return this.VJ?!1:500<=c-this.zo&&!this.xC&&15>e.yg(this.oD,this.pD,this.T,this.N)?this.VJ=!0:!1}N7(c){if(this.VJ)return"";if(333>=c-this.zo&&!this.xC&&15>e.yg(this.oD,this.pD,this.T,this.N)){if(666>=
c-d&&25>e.yg(b,a,this.T,this.N))return a=b=-1E3,d=-1E4,"double-tap";b=this.T;a=this.N;d=c;return"single-tap"}return""}nr(c,f,k){return"undefined"===typeof f?c.Iu(0).CN(this.T,this.N)[k?0:1]:(c=c.Z(f))?c.Dg(this.T,this.N)[k?0:1]:0}}}{"use strict";const e=self.B;e.C.Text=class extends e.qk{constructor(b){super(b)}m(){super.m()}}}{"use strict";const e=self.B;e.C.Text.Lf=class extends e.zn{constructor(b){super(b)}m(){super.m()}mc(){}yp(){}xn(){}}}
{"use strict";const e=self.B,b=self.yh,a=[0,0,0],d=["left","center","right"],c=["top","center","bottom"],f=new e.Rect,k=new e.Bd;new e.eb;e.C.Text.Instance=class extends e.kA{constructor(n,p){super(n);this.rd="";this.am=!0;this.xj="Arial";this.Wk=12;this.fi=0;this.Rf=this.Qf=!1;this.fb=e.D(e.eb);this.vf=this.Pf=0;this.gl=!0;this.cl=this.Ht=-1;this.ay=0;this.fd=e.D(e.aa.qG,this.j.qb(),{timeout:5});this.fd.ZD=()=>this.j.M();this.fd.ZQ();p&&(this.rd=p[0],this.am=!!p[1],this.xj=p[2],this.Wk=p[3],this.fi=
p[4],this.Qf=!!p[5],this.Rf=!!p[6],this.Pf=p[8],this.vf=p[9],this.gl=0===p[10],n=p[7],this.fb.$t(n[0],n[1],n[2]),this.A().Ae(p[11]));this.De()}m(){this.Ln();this.fd.m();this.fd=null;super.m()}De(){const n=this.fd;n.Dv(this.rd);n.A6(this.am);n.FG(this.xj);n.cR(this.fi);n.KQ(this.Qf);n.aR(this.Rf);n.An(this.fb);n.XQ(d[this.Pf]);n.qR(c[this.vf]);n.H7(this.gl?"word":"character")}GI(){const n=this.A();this.fd.pA(this.Wk);this.fd.Q6(n.F1());var p=n.Z();p=p.Fl()*p.fO(n.$e());this.fd.Fc(n.X(),n.W(),p)}We(n){var p=
this.A();this.GI();const u=this.fd.Id();if(u){var q=p.Z();if(0===p.ua()&&0===q.ua()&&0===p.$e()&&!p.Ef()&&q.uQ()){p=p.Mi();const [v,r]=q.mk(p.Db,p.Eb),[w,y]=q.mk(p.qc,p.rc);p=v-Math.round(v);const z=r-Math.round(r);f.set(v,r,w,y);f.offset(-p,-z);k.Ci(f);const [E,G]=n.HO(n.Mu());this.j.fa.DG(n,E,G);n.Jf(u);n.un(k,this.fd.gk());q.ZA(n)}else n.Jf(u),p.Ef()?this.Ov(p,n):this.Pv(p,n)}}Pv(n,p){n=n.Mi();this.j.Gj&&(n=this.pT(n));p.un(n,this.fd.gk())}Ov(n,p){const u=n.xF();if(n.WF()){n.lu(f,k,!1);let q=k;
this.j.Gj&&(q=this.pT(q));u.EE(n.Vi(),q,this.fd.gk());n.uv(!1)}u.We(p)}pT(n){const p=n.Db-Math.round(n.Db),u=n.Eb-Math.round(n.Eb);if(0===p&&0===u)return n;k.Ba(n);k.offset(-p,-u);return k}Dc(){const n={t:this.rd,c:this.fb.toJSON(),fn:this.xj,ps:this.Wk};this.am&&(n.bbc=this.am);0!==this.Pf&&(n.ha=this.Pf);0!==this.vf&&(n.va=this.vf);this.gl||(n.wr=this.gl);0!==this.fi&&(n.lho=this.fi);this.Qf&&(n.b=this.Qf);this.Rf&&(n.i=this.Rf);-1!==this.cl&&(n.tw={st:this.Ht,en:this.cl,l:this.ay});return n}lc(n){this.Ln();
this.rd=n.t;this.fb.Rm(n.c);this.xj=n.fn;this.Wk=n.ps;this.am=n.hasOwnProperty("bbc")?n.bbc:!1;this.Pf=n.hasOwnProperty("ha")?n.ha:0;this.vf=n.hasOwnProperty("va")?n.va:0;this.gl=n.hasOwnProperty("wr")?n.wr:!0;this.fi=n.hasOwnProperty("lho")?n.lho:0;this.Qf=n.hasOwnProperty("b")?n.b:!1;this.Rf=n.hasOwnProperty("i")?n.i:!1;n.hasOwnProperty("tw")&&(n=n.tw,this.Ht=n.st,this.cl=n.en,this.ay=n.l);this.De();-1!==this.cl&&this.Zg()}Xb(n){switch(n){case 0:return this.rd;case 1:return this.am;case 2:return this.xj;
case 3:return this.Wk;case 4:return this.fi;case 5:return this.Qf;case 6:return this.Rf;case 7:return a[0]=this.fb.Xa,a[1]=this.fb.Ga,a[2]=this.fb.Za,a;case 8:return this.Pf;case 9:return this.vf;case 10:return this.gl?1:0}}ff(n,p){switch(n){case 0:if(this.rd===p)break;this.rd=p;this.De();break;case 1:if(this.am===!!p)break;this.am=!!p;this.De();break;case 2:if(this.xj===p)break;this.xj=p;this.De();break;case 3:if(this.Wk===p)break;this.Wk=p;this.De();break;case 4:if(this.fi===p)break;this.fi=p;this.De();
break;case 5:if(this.Qf===!!p)break;this.Qf=!!p;this.De();break;case 6:if(this.Rf===!!p)break;this.Rf=!!p;this.De();break;case 7:n=this.fb;if(n.Xa===p[0]&&n.Ga===p[1]&&n.Za===p[2])break;this.fb.$t(p[0],p[1],p[2]);this.De();break;case 8:if(this.Pf===p)break;this.Pf=p;this.De();break;case 9:if(this.vf===p)break;this.vf=p;this.De();break;case 10:this.gl!==(0===p)&&(this.gl=0===p,this.De())}}YA(n){this.rd!==n&&(this.rd=n,this.fd.Dv(n),this.j.M())}Jea(n,p){this.YA(n);this.Ht=this.j.BF();this.cl=this.Ht+
p/this.Ea().u0();this.ay=e.Vm.uR(n).length;this.fd.EG(0);this.Zg()}Ln(){this.cl=this.Ht=-1;this.ay=0;this.fd.EG(-1);this.ms()}N$(){-1!==this.cl&&(this.Ln(),this.U(e.C.Text.G.cQ),this.j.M())}dea(n){this.xj!==n&&(this.xj=n,this.fd.FG(n),this.j.M())}Tda(n){n=!!n;this.Qf!==n&&(this.Qf=n,this.fd.KQ(n),this.j.M())}oea(n){n=!!n;this.Rf!==n&&(this.Rf=n,this.fd.aR(n),this.j.M())}eea(n){this.Wk!==n&&(this.Wk=n,this.j.M())}cea(n){this.fb.Nm(n)||(this.fb.kl(n),this.fd.An(this.fb),this.j.M())}WT(n){this.fi!==
n&&(this.fi=n,this.De(),this.j.M())}iea(n){this.Pf!==n&&(this.Pf=n,this.De(),this.j.M())}aU(n){this.vf!==n&&(this.vf=n,this.De(),this.j.M())}Cea(n){n=!!n;this.gl!==n&&(this.gl=n,this.De(),this.j.M())}Caa(){this.GI();return this.fd.M1()}Baa(){this.GI();return this.fd.L1()}Kd(){var n=this.j.BF();n>=this.cl?(this.Ln(),this.U(e.C.Text.G.cQ),this.j.M()):(n=e.iia(this.Ht,this.cl,n,this.ay),n=Math.floor(n),n!==this.fd.$p&&(this.fd.EG(n),this.j.M()))}jg(){return self.y2}};const h=new WeakMap,l=new Map([["top",
0],["center",1],["bottom",2]]);self.y2=class extends self.Vu{constructor(){super();h.set(this,self.qp.Mn().ka)}get text(){return h.get(this).rd}set text(n){b.xe(n);const p=h.get(this);p.Ln();p.YA(n)}set lineHeight(n){b.Zi(n);h.get(this).WT(n)}get lineHeight(){return h.get(this).fi}set verticalAlign(n){b.xe(n);n=l.get(n);if("undefined"===typeof n)throw Error("invalid mode");h.get(this).aU(n)}get verticalAlign(){return c[h.get(this).vf]}}}
{"use strict";const e=self.B;e.C.Text.G={qZ(b,a){return a?this.rd===b:e.th(this.rd,b)},sma(){return-1!==this.cl},cQ(){return!0}}}
{"use strict";const e=self.B,b=e.D(e.eb);e.C.Text.Qa={Dv(a){this.Ln();"number"===typeof a&&1E9>a&&(a=Math.round(1E10*a)/1E10);this.YA(a.toString())},Cja(a){this.Ln();"number"===typeof a&&1E9>a&&(a=Math.round(1E10*a)/1E10);(a=a.toString())&&this.YA(this.rd+a)},osa(a,d){this.Ln();"number"===typeof a&&1E9>a&&(a=Math.round(1E10*a)/1E10);this.Jea(a.toString(),d)},oqa(a,d){let c=!1,f=!1;switch(d){case 1:c=!0;break;case 2:f=!0;break;case 3:f=c=!0}if(a!==this.xj||c!==this.Qf||f!==this.Rf)this.dea(a),this.Tda(c),
this.oea(f)},pA(a){this.eea(a)},P6(a){b.Zt(a);b.ca();this.cea(b)},rra(){console.warn("[Text] 'Set web font' action is deprecated and no longer has any effect")},RQ(a){this.A().Gf(a);this.j.M()},nsa(){this.N$()},cR(a){this.WT(a)},rqa(a){this.iea(a)},nra(a){this.aU(a)},sra(a){this.Cea(0===a)}}}{"use strict";const e=self.B;e.C.Text.sb={Text(){return this.rd},Zna(){return this.am?e.Vm.uR(this.rd):this.rd},Oka(){return this.xj},Pka(){return this.Wk},Zra(){return this.Caa()},Yra(){return this.Baa()},Ima(){return this.fi}}}
{"use strict";const e=self.B;e.C.nc=class extends e.qk{constructor(b){super(b)}m(){super.m()}}}{"use strict";const e=self.B;e.C.nc.Lf=class extends e.zn{constructor(b){super(b);this.$d=b.$d}m(){e.F(this.$d);super.m()}mc(){for(const b of this.$d)b.Y3(this.j)}yp(b){const a={uh:this.j.gd};return Promise.all(this.$d.map(d=>d.Z3(b,a)))}xn(){for(const b of this.$d)b.M5()}cA(){this.lU()}lU(){for(const b of this.L.Bha())b.ka.EI()}xu(b){e.C.nc.p0(this,b)}}}
{"use strict";const e=self.B,b=e.D(e.Rect),a=e.D(e.Bd),d=e.D(e.Hv);e.C.nc.Instance=class extends e.kA{constructor(f,k){super(f);let h=!0,l="",n=0,p=!0;k&&(h=!!k[0],l=k[1],n=k[2],p=k[3]);this.Rb=this.L.hO(l)||this.L.$d[0];this.Bb=e.ca(n,0,this.Rb.ae.length-1);this.kf=this.Rb.$m(this.Bb);k=this.kf.ie();this.Bs=k.Id();this.rJ=k.gk();this.yw=k.Hz();this.W1();f.sv(2,!0);f.sv(1,0<=this.Rb.Gl());this.Hk=Math.abs(this.Rb.Gl());this.As=this.Rb.rW;this.jB=e.D(e.Ar);this.Dk=this.Aj=0;this.vU="";this.uw=-1;this.ts=
"";this.BU=0;f=this.A();this.ufa=f.Mi();f.Ae(h);f.qv(p);f.Sr(this.kf.ak());f.Tr(this.kf.bk());f.YG(this.kf.Up);f.Ca();1===this.L.$d.length&&1===this.L.$d[0].ae.length||0===this.Hk||this.Zg()}m(){this.jB=this.Bs=this.kf=this.Rb=null;super.m()}Td(){return this.kf.ie()}kk(){return!0}Dr(){this.Bs=null}dQ(){this.EI()}We(f){var k=this.Bs;null!==k&&(f.Jf(k),k=this.A(),k.Ef()?this.Ov(k,f):this.Pv(k,f))}Pv(f,k){let h=this.ufa;this.j.Gj&&(h=f.fA(h));k.oQ(h,this.yw)}Ov(f,k){const h=f.xF();if(f.WF()){f.lu(b,
a,!1);let l=a;this.j.Gj&&(l=f.fA(l));h.EE(f.Vi(),l,this.yw);f.uv(!1)}h.We(k)}Au(){return this.jB.$()}Rz(){return this.K.hF(2)}Mr(f){this.K.sv(2,f)}Xz(){return this.K.hF(1)}xv(f){this.K.sv(1,f)}TF(){return this.K.hF(4)}YQ(f){this.K.sv(4,f)}Kd(){this.ts&&this.gS();0<=this.uw&&this.IH();const f=this.Hk;if(this.Rz()&&0!==f){this.jB.yc(this.j.Zj(this.K));var k=this.Au(),h=this.kf,l=h.KU/f;if(!(k<this.Aj+l)){var n=this.Rb,p=this.As,u=n.ae.length,q=n.dn(),v=n.oC,r=n.Yfa;this.Xz()?this.Bb++:this.Bb--;this.Aj+=
l;this.Bb>=u&&(r?(this.xv(!1),this.Bb=u-2):v?this.Bb=p:(this.Dk++,this.Dk>=q?this.LH(!1):this.Bb=p));0>this.Bb&&(r?(this.Bb=1,this.xv(!0),v||(this.Dk++,this.Dk>=q&&this.LH(!0))):v?this.Bb=p:(this.Dk++,this.Dk>=q?this.LH(!0):this.Bb=p));this.Bb=e.ca(this.Bb,0,u-1);l=n.$m(this.Bb);k>this.Aj+l.KU/f&&(this.Aj=k);this.PA(h,l)}}else this.ms()}LH(f){this.Bb=f?0:this.Rb.ae.length-1;this.Mr(!1);this.vU=this.Rb.wa();this.YQ(!0);this.U(e.C.nc.G.C4);this.U(e.C.nc.G.B4);this.YQ(!1);this.Dk=0}PA(f,k){if(f!==k){var h=
this.A(),l=f.ie();f=k.ie();var n=l.X();l=l.W();var p=f.X(),u=f.W();n!==p&&h.dj(h.X()*(p/n));l!==u&&h.$i(h.W()*(u/l));h.Sr(k.ak());h.Tr(k.bk());h.YG(k.Up);h.Ca();this.kf=k;this.Bs=f.Id();this.rJ=f.gk();this.yw=f.Hz();k=this.Ea().Ic;for(let q=0,v=k.length;q<v;++q);this.U(e.C.nc.G.O4);this.j.M()}}Iea(f){this.Mr(!0);this.Aj=this.Au();1===f&&0!==this.Bb&&(this.uw=0,this.TF()||this.IH());this.Zg()}Oda(f,k){this.ts=f;this.BU=k;this.Zg();this.TF()||this.gS()}yS(){return this.ts?this.ts:this.Rb.wa()}Pda(f){isFinite(f)&&
(this.uw=f,this.TF()||this.IH())}Rda(f){this.Hk=Math.abs(f);this.xv(0<=f);0<this.Hk&&this.Zg()}uS(){return this.Xz()?this.Hk:-this.Hk}Qda(f){this.As=f=e.ca(Math.floor(f),0,this.Rb.ae.length-1)}gS(){const f=this.kf;var k=this.L.hO(this.ts);this.ts="";!k||k===this.Rb&&this.Rz()||(this.Rb=k,this.xv(0<=k.Gl()),this.Hk=Math.abs(k.Gl()),this.As=k.rW,this.Bb=e.ca(this.Bb,0,this.Rb.ae.length-1),1===this.BU&&(this.Bb=0),this.Mr(!0),this.Aj=this.Au(),k=this.Rb.$m(this.Bb),this.PA(f,k))}IH(){const f=this.kf;
var k=this.Bb;this.Bb=e.ca(Math.floor(this.uw),0,this.Rb.ae.length-1);this.uw=-1;k!==this.Bb&&(k=this.Rb.$m(this.Bb),this.PA(f,k),this.Aj=this.Au())}EI(){const f=this.kf.ie();this.Bs=f.Id();this.rJ=f.gk();this.yw=f.Hz();this.A().uv(!0)}Id(){return this.Bs}gk(){return this.rJ}Hz(){return this.yw}jF(){return this.kf.jF()}jp(f){const k=this.kf,h=this.A();if("string"===typeof f)f=k.a1(f);else if("number"===typeof f)f=k.$0(f-1);else throw new TypeError("expected string or number");if(!f)return[h.da(),
h.ea()];d.Ba(f.eL);if(h.Ef()){const [l,n]=h.Vi().zR(d.T,d.N);d.set(l,n)}d.offset(-k.ak(),-k.bk());d.scale(h.X(),h.W());d.rotate(h.ua());d.offset(h.da(),h.ea());return[d.T,d.N]}C0(){return this.A().Hl().DX()}nO(f){f=Math.floor(f);const k=this.A();var h=k.Hl();const l=h.DX();f===l&&(f=0);if(0>f||f>=l)return[0,0];h=h.ee;return[h[2*f]+k.da(),h[2*f+1]+k.ea()]}Dc(){const f={a:this.Rb.hb};0!==this.Aj&&(f.fs=this.Aj);var k=this.Au();0!==k&&(f.at=k);0!==this.Bb&&(f.f=this.Bb);0!==this.Hk&&(f.cas=this.Hk);
1!==this.Dk&&(f.ar=this.Dk);0!==this.As&&(f.rt=this.As);this.Rz()||(f.ap=this.Rz());this.Xz()||(f.af=this.Xz());k=this.A();k.Qg()&&(f.ce=k.Qg());return f}lc(f){var k=this.J().w0(f.a);k&&(this.Rb=k);this.Aj=f.hasOwnProperty("fs")?f.fs:0;this.jB.Set(f.hasOwnProperty("at")?f.at:0);k=f.hasOwnProperty("f")?f.f:0;this.Bb=e.ca(k,0,this.Rb.ae.length-1);this.Hk=f.hasOwnProperty("cas")?f.cas:0;this.Dk=f.hasOwnProperty("ar")?f.ar:1;k=f.hasOwnProperty("rt")?f.rt:0;this.As=e.ca(k,0,this.Rb.ae.length-1);this.Mr(f.hasOwnProperty("ap")?
!!f.ap:!0);this.xv(f.hasOwnProperty("af")?!!f.af:!0);this.kf=k=this.Rb.$m(this.Bb);this.EI();const h=this.A();h.Sr(k.ak());h.Tr(k.bk());h.YG(k.Up);h.qv(!!f.ce)}Xb(f){const k=this.A();switch(f){case 3:return k.Qg();case 2:return e.ca(this.Bb,0,this.Rb.ae.length-1)}}ff(f,k){var h=this.A();switch(f){case 3:h.qv(!!k);break;case 2:this.Mr(!1);f=this.Rb.ae.length-1;h=k=e.ca(k,0,f);k=this.Rb.$m(this.Bb);const l=this.Rb.$m(h);this.PA(k,l);this.Bb=e.ca(h,0,f)}}jg(){return self.w2}};const c=new WeakMap;self.w2=
class extends self.Vu{constructor(){super();c.set(this,self.qp.Mn().ka)}get animationName(){return c.get(this).yS()}get imageWidth(){return c.get(this).Td().X()}get imageHeight(){return c.get(this).Td().W()}}}
{"use strict";const e=self.B;e.C.nc.G={Lla(b){return e.th(this.yS(),b)},aka(b,a){return e.compare(this.Bb,b,a)},Xja(b,a){return e.compare(this.uS(),b,a)},B4(b){return e.th(this.vU,b)},C4(){return!0},O4(){return!0},ima(){return 0>this.A().X()},$la(){return 0>this.A().W()},dA(){return!0},jG(){return!0},Qg(){return this.A().Qg()}}}
{"use strict";const e=self.B;e.C.nc.Qa={zra(b,a,d,c){if(b&&a){var [f,k]=this.jp(d);if(d=this.j.LE(b,a,f,k,c)){c&&a.eH(d);b.Gb().zr()&&(a=d.A(),a.pd(this.A().ua()),a.Ca());a=this.j.la();a.Ue(!0);d.bB();a.Ue(!1);c=this.j.Cu().Ui();a=!1;if(!c.has("Spawn_LastExec")||c.get("Spawn_LastExec")<this.j.Js)a=!0,c.set("Spawn_LastExec",this.j.Js);if(b!==this.J()&&(b=b.V(),b.Ce(!1),b=b.H,a&&e.F(b),b.push(d),d.Zb()))for(const h of d.Od)d=h.J().V(),a?d.sk(h):(d.Ce(!1),d.Lp(h))}}},Hra(){this.Mr(!1)},Cra(b){this.Iea(b)},
y6(b,a){this.Oda(b,a)},Upa(b){this.Pda(b)},Wpa(b){this.Rda(b)},Vpa(b){this.Qda(b)},Xqa(b){const a=this.A(),d=a.X();b=Math.abs(d)*(0===b?-1:1);d!==b&&(a.dj(b),a.Ca())},mqa(b){const a=this.A(),d=a.W();b=Math.abs(d)*(0===b?-1:1);d!==b&&(a.$i(b),a.Ca())},TG(b){const a=this.kf.ie(),d=this.A();var c=0>d.X()?-1:1;const f=0>d.W()?-1:1;c*=a.X()*b;b=a.W()*b*f;if(d.X()!==c||d.W()!==b)d.Fc(c,b),d.Ca()},async f4(b,a){const d=this.kf.ie(),c=this.A(),f=this.j;if(d.Rj===b)0===a&&(c.Fc(d.X(),d.W()),c.Ca()),this.U(e.C.nc.G.dA);
else{var k=e.D(e.Wu);try{await k.zP(f,b);if(!k.Vz())throw Error("image failed to load");await k.xp(f.qb(),{uh:this.j.gd})}catch(h){console.error("Load image from URL failed: ",h);this.U(e.C.nc.G.jG);return}d.c6(k);this.Xc.lU();this.bs()||0!==a||(c.Fc(d.X(),d.W()),c.Ca());f.M();this.bs()||await this.Be(e.C.nc.G.dA)}},bqa(b){this.A().qv(b)},WG(b,a){this.A().WG(0===b,a)},RQ(b){this.A().Gf(b);this.j.M()}}}"use strict";
self.B.C.nc.sb={xja(){return this.Bb},yja(){return this.Rb.ae.length},zja(){return this.Rb.wa()},Aja(){return this.uS()},Dna(){return this.Rb.Gl()},F2(e){return this.jp(e)[0]},G2(e){return this.jp(e)[1]},Bla(){return this.jF()},H2(){return this.Td().X()},D2(){return this.Td().W()},joa(e){return this.nO(e)[0]},koa(e){return this.nO(e)[1]},ioa(){return this.C0()}};{"use strict";const e=self.B;e.C.Audio=class extends e.qk{constructor(b){super(b)}m(){super.m()}}}
{"use strict";const e=self.B;e.C.Audio.Lf=class extends e.zn{constructor(b){super(b)}m(){super.m()}mc(){}jg(){return self.o2}};self.o2=class extends self.Uu{constructor(b){super(b)}}}
{"use strict";const e=self.B,b=["interactive","balanced","playback"];e.C.Audio.Instance=class extends e.Bp{constructor(a,d){super(a,"audio");this.hh=0;this.LL="";this.Cx=this.MW=0;this.cL=!1;this.JU=this.eW=1;this.io=this.j.ag/2;this.jo=this.j.$f/2;this.yq=-600;this.oW=600;this.OV=1E4;this.tW=1;this.gi=null;this.IC=-1;this.ht=1;this.ug=!1;this.vW=0;this.GB=new Map;this.fL=this.gL=0;this.um=new Map;a="interactive";d&&(this.MW=d[0],this.Cx=d[1],this.cL=d[2],a=b[d[3]],this.eW=d[4],this.JU=d[5],this.yq=
-d[6],this.oW=d[7],this.OV=d[8],this.tW=d[9]);this.gh=[];this.Ws=[];this.CC=[];this.iN([["state",c=>this.wca(c)],["fxstate",c=>this.vca(c)],["trigger",c=>this.uca(c)]]);d=this.I().zb();this.Ge=new e.pu(e.Ac.md(d,"instancedestroy",c=>this.cca(c.instance)),e.Ac.md(d,"afterload",()=>this.Kp()),e.Ac.md(d,"suspend",()=>this.rca()),e.Ac.md(d,"resume",()=>this.qca()));this.j.qY(this.Nl("create-audio-context",{preloadList:this.j.xb.x0().map(c=>({originalUrl:c.bia,url:c.url,type:c.type,fileSize:c.fileSize})),
isiOSCordova:this.j.uK,timeScaleMode:this.MW,latencyHint:a,panningModel:this.eW,distanceModel:this.JU,refDistance:this.oW,maxDistance:this.OV,rolloffFactor:this.tW,listenerPos:[this.io,this.jo,this.yq]}).then(c=>{this.vW=c.sampleRate}));this.Zg()}m(){this.gi=null;super.m()}cca(a){this.gi===a&&(this.gi=null)}Zy(a){return Math.pow(10,a/20)}yd(a){a=this.Zy(a);return isFinite(a)?Math.max(Math.min(a,1),0):0}X3(a){return Math.log(a)/Math.log(10)*20}wP(a){return this.X3(Math.max(Math.min(a,1),0))}rca(){this.cL||
this.ib("set-suspended",{isSuspended:!0})}qca(){this.cL||this.ib("set-suspended",{isSuspended:!1})}wca(a){const d=a.tickCount,c=this.gh.filter(f=>f.hasOwnProperty("placeholder")&&(f.placeholder>d||-1===f.placeholder));this.gh=a.audioInstances;this.CC=a.analysers;0<c.length&&e.Km(this.gh,c)}vca(a){this.Ws=a.fxstate}FA(a){for(const d of this.gh)if(e.th(d.tag,a))return d;return null}XS(a){return this.gh.some(d=>e.th(a,d.tag)&&d.isPlaying)}ks(a,d,c,f){if(this.XS(a))return null;a={tag:a,duration:0,volume:f,
isPlaying:!0,playbackTime:0,playbackRate:1,uid:-1,bufferOriginalUrl:"",bufferUrl:"",bufferType:"",isMusic:d,isLooping:c,isMuted:!1,resumePosition:0,pan:null,placeholder:-1};this.gh.push(a);return a}async uca(a){const d=a.type;this.LL=a.tag;a=a.aiid;if("ended"===d){for(const c of this.gh)if(c.aiid===a){c.isPlaying=!1;break}await this.Be(e.C.Audio.G.PP)}else"fade-ended"===d&&await this.Be(e.C.Audio.G.K4)}Kd(){const a={timeScale:this.j.Qd,gameTime:this.j.iF(),instPans:this.c1(),tickCount:this.j.Ao};
if(this.gi){const d=this.gi.A();this.io=d.da();this.jo=d.ea();a.listenerPos=[this.io,this.jo,this.yq]}this.ib("tick",a)}PM(a,d,c,f,k){if(0===c)return[a,d];const h=Math.sin(c);c=Math.cos(c);a-=f;d-=k;const l=a*h;a=a*c-d*h;return[a+f,d*c+l+k]}c1(){return this.gh.filter(a=>-1!==a.uid).map(a=>this.j.Bh(a.uid)).filter(a=>a).map(a=>{const d=a.A(),c=d.Z().ua(),[f,k]=this.PM(d.da(),d.ea(),-c,this.io,this.jo);return{uid:a.hc,x:f,y:k,angle:d.ua()-c}})}iz(a,d){for(const c of this.CC)if(c.index===d&&e.th(c.tag,
a))return c;return null}Qh(a){this.GB.set(a,(this.GB.get(a)||0)+1)}Eea(a){return a.hasOwnProperty("placeholder")||3===this.Cx?!1:a.isMusic&&1===this.Cx?!1:a.isMusic||2!==this.Cx?!0:!1}Dc(){return{isSilent:this.ug,masterVolume:this.ht,listenerZ:this.yq,listenerUid:this.gi?this.gi.hc:-1,remoteUrls:[...this.um.entries()],playing:this.gh.filter(a=>this.Eea(a)),effects:this.Ws,analysers:this.CC}}lc(a){this.ug=a.isSilent;this.ht=a.masterVolume;this.yq=a.listenerZ;this.gi=null;this.IC=a.listenerUid;this.um.clear();
if(a.remoteUrls)for(const [d,c]of a.remoteUrls)this.um.set(d,c);this.gh=a.playing;this.Ws=a.effects;this.CC=a.analysers}Kp(){if(-1!==this.IC&&(this.gi=this.j.Bh(this.IC),this.IC=-1,this.gi)){var a=this.gi.A();this.io=a.da();this.jo=a.ea()}for(var d of this.gh)(a=this.j.xb.Mg(d.bufferOriginalUrl))?(d.bufferUrl=a.url,d.bufferType=a.type):d.bufferUrl=null;for(const c of Object.values(this.Ws))for(const f of c)f.hasOwnProperty("bufferOriginalUrl")&&(d=this.j.xb.Mg(f.bufferOriginalUrl))&&(f.bufferUrl=
d.url,f.bufferType=d.type);this.ib("load-state",{saveLoadMode:this.Cx,timeScale:this.j.Qd,gameTime:this.j.iF(),listenerPos:[this.io,this.jo,this.yq],isSilent:this.ug,masterVolume:this.ht,playing:this.gh.filter(c=>null!==c.bufferUrl),effects:this.Ws})}}}{"use strict";const e=self.B;e.C.Audio.G={PP(b){return e.th(this.LL,b)},K4(b){return e.th(this.LL,b)},ooa(){return this.fL===this.gL},oja(){return!0},tma(){return this.ug},eP(){for(const b of this.gh)if(b.isPlaying)return!0;return!1},O3(b){return this.XS(b)}}}
{"use strict";const e=self.B,b="lowpass highpass bandpass lowshelf highshelf peaking notch allpass".split(" ");e.C.Audio.Qa={async Play(a,d,c,f){if(!this.ug){var k=a[1],h=this.j.xb.Mg(a[0]);if(h){var l=this.hh;this.hh=0;var n=this.ks(f.toLowerCase(),k,0!==d,this.yd(c));try{await this.Nl("play",{originalUrl:a[0],url:h.url,type:h.type,isMusic:k,tag:f.toLowerCase(),isLooping:0!==d,vol:this.yd(c),pos:0,off:l,trueClock:!!self.C3_GetAudioContextCurrentTime})}finally{n&&(n.placeholder=this.j.Ao)}}}},async boa(a,
d,c,f,k,h,l,n,p,u){if(!this.ug){var q=a[1],v=this.j.xb.Mg(a[0]);if(v){var r=this.hh;this.hh=0;var w=this.ks(u.toLowerCase(),q,0!==d,this.yd(c));try{await this.Nl("play",{originalUrl:a[0],url:v.url,type:v.type,isMusic:q,tag:u.toLowerCase(),isLooping:0!==d,vol:this.yd(c),pos:0,off:r,trueClock:!!self.C3_GetAudioContextCurrentTime,panning:{x:f,y:k,angle:e.Pa(h),innerAngle:e.Pa(l),outerAngle:e.Pa(n),outerGain:this.yd(p)}})}finally{w&&(w.placeholder=this.j.Ao)}}}},async $na(a,d,c,f,k,h,l,n){if(!this.ug&&
f&&(f=f.hp())&&f.A()){var p=f.A(),u=p.Z().ua(),[q,v]=this.PM(p.da(),p.ea(),-u,this.io,this.jo),r=a[1],w=this.j.xb.Mg(a[0]);if(w){var y=this.hh;this.hh=0;var z=this.ks(n.toLowerCase(),r,0!==d,this.yd(c));try{await this.Nl("play",{originalUrl:a[0],url:w.url,type:w.type,isMusic:r,tag:n.toLowerCase(),isLooping:0!==d,vol:this.yd(c),pos:0,off:y,trueClock:!!self.C3_GetAudioContextCurrentTime,panning:{x:q,y:v,angle:p.ua()-u,innerAngle:e.Pa(k),outerAngle:e.Pa(h),outerGain:this.yd(l),uid:f.hc}})}finally{z&&
(z.placeholder=this.j.Ao)}}}},async doa(a,d,c,f,k){if(!this.ug){a=1===a;var h=this.j.xb.Mg(d)||this.um.get(d.toLowerCase());if(h){var l=this.hh;this.hh=0;var n=this.ks(k.toLowerCase(),a,0!==c,this.yd(f));try{await this.Nl("play",{originalUrl:d,url:h.url,type:h.type,isMusic:a,tag:k.toLowerCase(),isLooping:0!==c,vol:this.yd(f),pos:0,off:l,trueClock:!!self.C3_GetAudioContextCurrentTime})}finally{n&&(n.placeholder=this.j.Ao)}}}},async coa(a,d,c,f,k,h,l,n,p,u,q){if(!this.ug){a=1===a;var v=this.j.xb.Mg(d)||
this.um.get(d.toLowerCase());if(v){var r=this.hh;this.hh=0;var w=this.ks(q.toLowerCase(),a,0!==c,this.yd(f));try{await this.Nl("play",{originalUrl:d,url:v.url,type:v.type,isMusic:a,tag:q.toLowerCase(),isLooping:0!==c,vol:this.yd(f),pos:0,off:r,trueClock:!!self.C3_GetAudioContextCurrentTime,panning:{x:k,y:h,angle:e.Pa(l),innerAngle:e.Pa(n),outerAngle:e.Pa(p),outerGain:this.yd(u)}})}finally{w&&(w.placeholder=this.j.Ao)}}}},async aoa(a,d,c,f,k,h,l,n,p){if(!this.ug&&!this.ug&&k&&(k=k.hp())&&k.A()){var u=
k.A(),q=u.Z().ua(),[v,r]=this.PM(u.da(),u.ea(),-q,this.io,this.jo);a=1===a;var w=this.j.xb.Mg(d)||this.um.get(d.toLowerCase());if(w){var y=this.hh;this.hh=0;var z=this.ks(p.toLowerCase(),a,0!==c,this.yd(f));try{await this.Nl("play",{originalUrl:d,url:w.url,type:w.type,isMusic:a,tag:p.toLowerCase(),isLooping:0!==c,vol:this.yd(f),pos:0,off:y,trueClock:!!self.C3_GetAudioContextCurrentTime,panning:{x:v,y:r,angle:u.ua()-q,innerAngle:e.Pa(h),outerAngle:e.Pa(l),outerGain:this.yd(n),uid:k.hc}})}finally{z&&
(z.placeholder=this.j.Ao)}}}},Uqa(a,d){this.ib("set-looping",{tag:a.toLowerCase(),isLooping:0===d})},Yqa(a,d){this.ib("set-muted",{tag:a.toLowerCase(),isMuted:0===d})},G7(a,d){this.ib("set-volume",{tag:a.toLowerCase(),vol:this.yd(d)})},Ska(a,d,c,f){this.ib("fade-volume",{tag:a.toLowerCase(),vol:this.yd(d),duration:c,stopOnEnd:0===f})},async moa(a){const d=a[1],c=this.j.xb.Mg(a[0]);c&&(this.gL++,await this.Nl("preload",{originalUrl:a[0],url:c.url,type:c.type,isMusic:d}),this.fL++)},async noa(a,d){a=
1===a;const c=this.j.xb.Mg(d)||this.um.get(d.toLowerCase());c&&(this.gL++,await this.Nl("preload",{originalUrl:d,url:c.url,type:c.type,isMusic:a}),this.fL++)},Gn(a,d){this.ib("set-playback-rate",{tag:a.toLowerCase(),rate:Math.max(d,0)})},Jd(a){this.ib("stop",{tag:a.toLowerCase()})},X7(){this.ib("stop-all")},ara(a,d){this.ib("set-paused",{tag:a.toLowerCase(),paused:0===d})},Opa(a,d){this.ib("seek",{tag:a.toLowerCase(),pos:d})},fra(a){2===a&&(a=this.ug?1:0);a=0===a;this.ug!==a&&(this.ug=a,this.ib("set-silent",
{isSilent:a}))},Vqa(a){a=this.yd(a);this.ht!==a&&(this.ht=a,this.ib("set-master-volume",{vol:a}))},cja(a,d,c,f,k,h,l){a=a.toLowerCase();d=b[d];this.Qh(a);this.ib("add-effect",{type:"filter",tag:a,params:[d,c,f,k,h,e.ca(l/100,0,1)]})},$ia(a,d,c,f){a=a.toLowerCase();this.Qh(a);this.ib("add-effect",{type:"delay",tag:a,params:[d,this.yd(c),e.ca(f/100,0,1)]})},dja(a,d,c,f,k,h){a=a.toLowerCase();this.Qh(a);this.ib("add-effect",{type:"flanger",tag:a,params:[d/1E3,c/1E3,f,k/100,e.ca(h/100,0,1)]})},ija(a,
d,c,f,k,h,l){a=a.toLowerCase();this.Qh(a);this.ib("add-effect",{type:"phaser",tag:a,params:[d,c,f,k,h,e.ca(l/100,0,1)]})},Zia(a,d,c,f){a=a.toLowerCase();const k=this.j.xb.Mg(d[0]);k&&(this.Qh(a),this.ib("add-effect",{type:"convolution",tag:a,bufferOriginalUrl:d[0],bufferUrl:k.url,bufferType:k.type,params:[0===c,e.ca(f/100,0,1)]}))},eja(a,d){a=a.toLowerCase();this.Qh(a);this.ib("add-effect",{type:"gain",tag:a,params:[this.yd(d)]})},hja(a){a=a.toLowerCase();this.Qh(a);this.ib("add-effect",{type:"gain",
tag:a,params:[0]})},lja(a,d,c){a=a.toLowerCase();this.Qh(a);this.ib("add-effect",{type:"tremolo",tag:a,params:[d,e.ca(c/100,0,1)]})},kja(a,d,c){a=a.toLowerCase();this.Qh(a);this.ib("add-effect",{type:"ringmod",tag:a,params:[d,e.ca(c/100,0,1)]})},aja(a,d,c,f,k,h){a=a.toLowerCase();this.Qh(a);this.ib("add-effect",{type:"distortion",tag:a,params:[this.Zy(d),this.Zy(c),f,this.Zy(k),e.ca(h/100,0,1)]})},Yia(a,d,c,f,k,h){a=a.toLowerCase();this.Qh(a);this.ib("add-effect",{type:"compressor",tag:a,params:[d,
c,f,k/1E3,h/1E3]})},dY(a,d,c){a=a.toLowerCase();this.Qh(a);this.ib("add-effect",{type:"analyser",tag:a,params:[d,c]})},R5(a){a=a.toLowerCase();this.GB.set(a,0);this.ib("remove-effects",{tag:a});this.Ws={}},hqa(a,d,c,f,k,h){this.ib("set-effect-param",{tag:a.toLowerCase(),index:Math.floor(d),param:c,value:f,ramp:k,time:h})},Sqa(a){a&&(a=a.hp())&&a.A()&&(this.gi=a)},Tqa(a){this.yq=a},Hpa(a){this.hh=Math.max(a,0)},tsa(a){const d=a[1];(a=this.j.xb.Mg(a[0]))&&this.ib("unload",{url:a.url,type:a.type,isMusic:d})},
usa(a,d){a=1===a;(d=this.j.xb.Mg(d)||this.um.get(d.toLowerCase()))&&this.ib("unload",{url:d.url,type:d.type,isMusic:a})},ssa(){this.ib("unload-all")},jja(a,d,c){this.um.set(c.toLowerCase(),{url:a,type:d})}}}"use strict";
self.B.C.Audio.sb={Hka(e){return(e=this.FA(e))?e.duration:0},foa(e){return(e=this.FA(e))?e.playbackTime:0},eoa(e){return(e=this.FA(e))?e.playbackRate:0},Asa(e){return(e=this.FA(e))?this.wP(e.volume):0},Uma(){return this.wP(this.ht)},Jka(e){return this.GB.get(e.toLowerCase())||0},rja(e,b){return(e=this.iz(e,Math.floor(b)))?e.binCount:0},qja(e,b,a){e=this.iz(e,Math.floor(b));if(!e)return 0;a=Math.floor(a);return 0>a||a>=e.binCount?0:e.freqBins[a]},sja(e,b){return(e=this.iz(e,Math.floor(b)))?e.peak:
0},AY(e,b){return(e=this.iz(e,Math.floor(b)))?e.rms:0},Fpa(){return this.vW},Aka(){return self.C3_GetAudioContextCurrentTime?self.C3_GetAudioContextCurrentTime():performance.now()/1E3}};{"use strict";const e=self.B;e.C.Keyboard=class extends e.qk{constructor(b){super(b)}m(){super.m()}}}{"use strict";const e=self.B;e.C.Keyboard.Lf=class extends e.zn{constructor(b){super(b)}m(){super.m()}mc(){}jg(){return self.r2}};self.r2=class extends self.Uu{constructor(b){super(b);b.I().vs.keyboard=this}}}
{"use strict";const e=self.B;e.C.Keyboard.Instance=class extends e.Bp{constructor(b){super(b);this.bx=new Set;this.Vs=new Set;this.bl=0;this.$x=this.yD="";b=this.I().zb();this.Ge=new e.pu(e.Ac.md(b,"keydown",a=>this.hca(a.data)),e.Ac.md(b,"keyup",a=>this.ica(a.data)),e.Ac.md(b,"window-blur",()=>this.oT()),e.Ac.md(b,"keyboard-blur",()=>this.oT()))}m(){super.m()}hca(b){const a=b.which,d=b.code||a.toString();b=b.key;this.bx.has(d)||(this.bx.add(d),this.Vs.add(a),this.yD=d,this.bl=a,this.$x=b,this.U(e.C.Keyboard.G.E4),
this.U(e.C.Keyboard.G.QP),this.U(e.C.Keyboard.G.U4),this.U(e.C.Keyboard.G.S4))}ica(b){const a=b.which,d=b.code||a.toString();b=b.key;this.bx.delete(d);this.Vs.delete(a);this.yD=d;this.bl=a;this.$x=b;this.U(e.C.Keyboard.G.KP);this.U(e.C.Keyboard.G.SP);this.U(e.C.Keyboard.G.V4);this.U(e.C.Keyboard.G.RP)}oT(){for(const b of this.Vs)this.Vs.delete(b),this.bl=b,this.U(e.C.Keyboard.G.KP),this.U(e.C.Keyboard.G.SP),this.U(e.C.Keyboard.G.RP);this.bx.clear()}Dc(){return{tk:this.bl,tkk:this.$x}}lc(b){this.bl=
b.tk;b.hasOwnProperty("tkk")&&(this.$x=b.tkk)}}}{"use strict";const e="ShiftLeft ShiftRight ControlLeft ControlRight AltLeft AltRight MetaLeft MetaRight".split(" ");self.B.C.Keyboard.G={ema(b){return this.Vs.has(b)},QP(b){return this.bl===b},E4(){return!0},KP(){return!0},SP(b){return this.bl===b},dma(b){b=Math.floor(b);return this.Vs.has(b)},S4(b){return this.bl===b},RP(b){return this.bl===b},U4(b){return this.yD===e[b]},V4(b){return this.yD===e[b]},fma(b){return this.bx.has(e[b])}}}"use strict";
self.B.C.Keyboard.Qa={};
{"use strict";function e(b){b=Math.floor(b);switch(b){case 8:return"backspace";case 9:return"tab";case 13:return"enter";case 16:return"shift";case 17:return"control";case 18:return"alt";case 19:return"pause";case 20:return"capslock";case 27:return"esc";case 33:return"pageup";case 34:return"pagedown";case 35:return"end";case 36:return"home";case 37:return"\u2190";case 38:return"\u2191";case 39:return"\u2192";case 40:return"\u2193";case 45:return"insert";case 46:return"del";case 91:return"left window key";
case 92:return"right window key";case 93:return"select";case 96:return"numpad 0";case 97:return"numpad 1";case 98:return"numpad 2";case 99:return"numpad 3";case 100:return"numpad 4";case 101:return"numpad 5";case 102:return"numpad 6";case 103:return"numpad 7";case 104:return"numpad 8";case 105:return"numpad 9";case 106:return"numpad *";case 107:return"numpad +";case 109:return"numpad -";case 110:return"numpad .";case 111:return"numpad /";case 112:return"F1";case 113:return"F2";case 114:return"F3";
case 115:return"F4";case 116:return"F5";case 117:return"F6";case 118:return"F7";case 119:return"F8";case 120:return"F9";case 121:return"F10";case 122:return"F11";case 123:return"F12";case 144:return"numlock";case 145:return"scroll lock";case 186:return";";case 187:return"=";case 188:return",";case 189:return"-";case 190:return".";case 191:return"/";case 192:return"'";case 219:return"[";case 220:return"\\";case 221:return"]";case 222:return"#";case 223:return"`";default:return String.fromCharCode(b)}}
self.B.C.Keyboard.sb={Cma(){return this.bl},Mra(b){return e(b)},msa(){return this.$x}}}{"use strict";const e=self.B;e.C.Gi=class extends e.qk{constructor(b){super(b)}m(){super.m()}}}{"use strict";const e=self.B;e.C.Gi.Lf=class extends e.zn{constructor(b){super(b)}m(){super.m()}mc(){}}}
{"use strict";const e=self.B,b=self.qp;function a(c,f,k){if(f<c.length)e.Te(c,f);else if(f>c.length)if("function"===typeof k)for(var h=c.length;h<f;++h)c.push(k());else for(h=c.length;h<f;++h)c.push(k)}e.C.Gi.Instance=class extends e.Bp{constructor(c,f){super(c);this.Pb=10;this.tc=this.sc=1;this.Qc=null;this.TB=[];this.IJ=[];this.JJ=[];this.yj=-1;f&&(this.Pb=f[0],this.sc=f[1],this.tc=f[2]);this.Qc=e.Sg(this.Pb,()=>e.Sg(this.sc,()=>e.Sg(this.tc,0)))}m(){this.Qc=null;super.m()}Vj(c,f,k){c=Math.floor(c);
f=Math.floor(f);k=Math.floor(k);return 0<=c&&c<this.Pb&&0<=f&&f<this.sc&&0<=k&&k<this.tc?this.Qc[c][f][k]:0}Set(c,f,k,h){c=Math.floor(c);f=Math.floor(f);k=Math.floor(k);0<=c&&c<this.Pb&&0<=f&&f<this.sc&&0<=k&&k<this.tc&&(this.Qc[c][f][k]=h)}Fc(c,f,k){c=Math.floor(c);f=Math.floor(f);k=Math.floor(k);0>c&&(c=0);0>f&&(f=0);0>k&&(k=0);if(this.Pb!==c||this.sc!==f||this.tc!==k){this.Pb=c;this.sc=f;this.tc=k;var h=this.Qc;a(h,c,()=>e.Sg(f,()=>e.Sg(k,0)));for(let l=0;l<c;++l){a(h[l],f,()=>e.Sg(k,0));for(let n=
0;n<f;++n)a(h[l][n],k,0)}}}X(){return this.Pb}W(){return this.sc}yl(){return this.tc}iO(){return JSON.stringify({c2array:!0,size:[this.Pb,this.sc,this.tc],data:this.Qc})}Dc(){return{size:[this.Pb,this.sc,this.tc],data:this.Qc}}lc(c){const f=c.size;this.Pb=f[0];this.sc=f[1];this.tc=f[2];this.Qc=c.data}NH(){return 0<=this.yj&&this.yj<this.TB.length?this.TB[this.yj]:0}OH(){return 0<=this.yj&&this.yj<this.IJ.length?this.IJ[this.yj]:0}PH(){return 0<=this.yj&&this.yj<this.JJ.length?this.JJ[this.yj]:0}jg(){return self.m2}};
const d=new WeakMap;self.m2=class extends b{constructor(){super();d.set(this,b.Mn().ka)}get width(){return d.get(this).X()}get height(){return d.get(this).W()}get depth(){return d.get(this).yl()}}}
{"use strict";const e=self.B;e.C.Gi.G={sZ(b,a,d){return e.compare(this.Vj(b,0,0),a,d)},jka(b,a,d,c){return e.compare(this.Vj(b,a,0),d,c)},kka(b,a,d,c,f){return e.compare(this.Vj(b,a,d),c,f)},Fja(b){const a=this.j,d=a.la(),c=a.Fb(),f=c.Ad(),k=a.$c(),h=k.ue(),l=k.Na(c),n=++this.yj,p=this.TB;var u=this.IJ,q=this.JJ;const v=this.Pb;var r=this.sc,w=this.tc;n===this.TB.length?(p.push(0),u.push(0),q.push(0)):(p[n]=0,u[n]=0,q[n]=0);a.Nr(!1);if(0===b)for(let P=0;P<v;++P)for(let C=0;C<r;++C)for(let H=0;H<w;++H){p[n]=
P;u[n]=C;q[n]=H;b=d;var y=c,z=f,E=h,G=l;b.Yd(z);y.cf(E,G);b.Ab(z)}else if(1===b)for(E=0;E<v;++E)for(G=0;G<r;++G)p[n]=E,u[n]=G,q=d,w=c,b=f,y=h,z=l,q.Yd(b),w.cf(y,z),q.Ab(b);else for(y=0;y<v;++y)p[n]=y,u=d,r=c,q=f,w=h,b=l,u.Yd(q),r.cf(w,b),u.Ab(q);a.Nr(!0);this.yj--;k.Ja();return!1},$ja(b,a){return e.compare(this.Vj(this.NH(),this.OH(),this.PH()),b,a)},pka(b){const a=this.Pb,d=this.sc,c=this.tc,f=this.Qc;for(let k=0;k<a;++k)for(let h=0;h<d;++h)for(let l=0;l<c;++l)if(f[k][h][l]===b)return!0;return!1},
ln(){return 0===this.Pb||0===this.sc||0===this.tc},pZ(b,a,d){let c=0;switch(b){case 0:c=this.Pb;break;case 1:c=this.sc;break;case 2:c=this.tc}return e.compare(c,a,d)}}}
{"use strict";const e=self.B;function b(a,d){if("number"===typeof a&&"number"===typeof d)return a-d;a=a.toString();d=d.toString();return a<d?-1:a>d?1:0}e.C.Gi.Qa={Zc(a){const d=this.Pb,c=this.sc,f=this.tc,k=this.Qc;for(let h=0;h<d;++h)for(let l=0;l<c;++l)for(let n=0;n<f;++n)k[h][l][n]=a},Fc(a,d,c){this.Fc(a,d,c)},Nh(a,d){this.Set(a,0,0,d)},Dd(a,d,c){this.Set(a,d,0,c)},tra(a,d,c,f){this.Set(a,d,c,f)},Na(a,d,c){var f=this.Pb,k=this.sc;const h=this.tc,l=this.Qc;if(0===c)f=e.Sg(k,()=>e.Sg(h,d)),0===a?
l.push(f):l.unshift(f),this.Pb++;else if(1===c){for(k=0;k<f;++k)c=e.Sg(h,d),0===a?l[k].push(c):l[k].unshift(c);this.sc++}else{for(c=0;c<f;++c)for(let n=0;n<k;++n)0===a?l[c][n].push(d):l[c][n].unshift(d);this.tc++}},Ja(a,d){const c=this.Pb;var f=this.sc,k=this.tc;const h=this.Qc;if(0===d)0!==c&&(0===a?h.pop():h.shift(),this.Pb--);else if(1===d){if(0!==f){for(f=0;f<c;++f)0===a?h[f].pop():h[f].shift();this.sc--}}else if(0!==k){for(d=0;d<c;++d)for(k=0;k<f;++k)0===a?h[d][k].pop():h[d][k].shift();this.tc--}},
vpa(a){const d=this.Pb;var c=this.sc,f=this.tc;const k=this.Qc;if(0!==d&&0!==c&&0!==f)if(0===a)k.reverse();else if(1===a)for(c=0;c<d;++c)k[c].reverse();else for(a=0;a<d;++a)for(f=0;f<c;++f)k[a][f].reverse()},wra(a){const d=this.Pb;var c=this.sc,f=this.tc;const k=this.Qc;if(0!==d&&0!==c&&0!==f)if(0===a)k.sort((h,l)=>b(h[0][0],l[0][0]));else if(1===a)for(c=0;c<d;++c)k[c].sort((h,l)=>b(h[0],l[0]));else for(a=0;a<d;++a)for(f=0;f<c;++f)k[a][f].sort(b)},rl(a,d){a=Math.floor(a);if(!(0>a)){var c=this.Pb,
f=this.sc,k=this.tc,h=this.Qc;if(0===d)a>=c||(h.splice(a,1),this.Pb--);else if(1===d){if(!(a>=f)){for(f=0;f<c;++f)h[f].splice(a,1);this.sc--}}else if(!(a>=k)){for(d=0;d<c;++d)for(k=0;k<f;++k)h[d][k].splice(a,1);this.tc--}}},Xu(a,d,c){d=Math.floor(d);if(!(0>d)){var f=this.Pb,k=this.sc,h=this.tc,l=this.Qc;if(0===c)d>f||(l.splice(d,0,e.Sg(k,()=>e.Sg(h,a))),this.Pb++);else if(1===c){if(!(d>k)){for(k=0;k<f;++k)l[k].splice(d,0,e.Sg(h,a));this.sc++}}else if(!(d>h)){for(c=0;c<f;++c)for(let n=0;n<k;++n)l[c][n].splice(d,
0,a);this.tc++}}},zma(a){let d=null;try{d=JSON.parse(a)}catch(c){console.error("[Construct 3] Failed to parse JSON: ",c);return}d.c2array&&(a=d.size,this.Pb=a[0],this.sc=a[1],this.tc=a[2],this.Qc=d.data)},yma(a){const d=URL.createObjectURL(new Blob([this.iO()],{type:"application/json"}));this.j.q3(d,a)}}}"use strict";
self.B.C.Gi.sb={Vj(e,b,a){return this.Vj(e,b||0,a||0)},rH(){return this.Pb},$O(){return this.sc},Cka(){return this.tc},xka(){return this.NH()},yka(){return this.OH()},zka(){return this.PH()},wka(){return this.Vj(this.NH(),this.OH(),this.PH())},ela(){return this.Vj(0,0,0)},Hja(){return this.Vj(this.Pb-1,0,0)},Hla(e){const b=this.Qc;for(let a=0,d=this.Pb;a<d;++a)if(b[a][0][0]===e)return a;return-1},Bma(e){const b=this.Qc;for(let a=this.Pb-1;0<=a;--a)if(b[a][0][0]===e)return a;return-1},oN(){return this.iO()}};
{"use strict";const e=self.B;e.qa.ac=class extends e.lv{constructor(b){super(b)}m(){super.m()}}}{"use strict";const e=self.B;e.qa.ac.Lf=class extends e.nv{constructor(b){super(b)}m(){super.m()}mc(){}}}
{"use strict";const e=self.B,b=e.qa.ac;b.Instance=class extends e.mv{constructor(a,d){super(a);this.Va=!0;d&&(this.Va=!!d[0]);this.Ee=new Map;this.Zp=[];this.qh=new Map;this.XW=this.uJ=this.sU=this.ai=null;this.SU="";this.Va&&this.On();this.Qp=c=>this.Kp(c);this.I().zb().addEventListener("afterload",this.Qp)}m(){this.I().zb().removeEventListener("afterload",this.Qp);this.Qp=null;this.ai&&(this.N5(this.ai),this.ai=null);this.O5();this.GN();this.Zp=null;this.wT();this.qh=null;super.m()}rv(a){(this.Va=
a)?this.On():this.Pn()}xY(a){this.Zp.push(a)}C3(a){return this.Zp.includes(a)}GN(){e.F(this.Zp)}Jb(){const a=this.K;return a?!a.Yu():!1}R1(a,d){if((d=d?this.jQ(d,!0):this.wh(!0))&&d.length)for(const c of d)if(c.GF(a))return c}yF(a,d){return this.R1(a,d)}*Eh(a,d,c=!1){if((d=d?this.jQ(d,c):this.wh(c))&&d.length)for(const f of d)f.GF(a)&&(yield f)}*VO(a){yield*this.Eh(a,void 0,!0)}jQ(a,d){if(d)return d=this.Ee.get(a),a=this.qh.get(a),d||(d=[]),a||(a=[]),d.concat(a).filter(c=>c);(a=this.Ee.get(a))||(a=
[]);return a.filter(c=>c)}wh(a){if(a){a=[...this.Ee.values()].flat();const d=[...this.qh.values()].flat();return a.concat(d).filter(c=>c)}return[...this.Ee.values()].flat().filter(d=>d)}mN(){return this.wh(!0)}Dc(){return{s:!1,e:!!this.Va,at:this.tda(),dt:this.wda(),wt:this.Kda(),ft:this.xda()}}lc(a){a&&(this.sU=a.at,this.uJ=a.dt,this.XW=a.wt,this.SU=a.ft,this.Va=!!a.e)}Kp(){const a=this.I().yb;this.qT(this.sU,this.Ee,a);if(this.uJ){e.F(this.Zp);for(const d of this.uJ)this.kI(this.Zp,d,a)}this.qT(this.XW,
this.qh,a);this.ai=this.UH(this.SU,a);this.Va?this.On():this.Pn()}qT(a,d,c){if(a)for(const k in a){let h=d.get(k);h?e.F(h):h=[];var f=a[k];for(const l of f)this.kI(h,l.name,c)?this.Aba(l.name,l,c):(f=e.ac.wN({ic:this.I(),json:l}),f.hN(n=>this.qS(n)),c.wY(f),this.kI(h,f,c));d.set(k,h)}}UH(a,d){return d.G1(a)}kI(a,d,c){if("string"===typeof d){if(d=this.UH(d,c))return!!a.push(d)}else return!!a.push(d);return!1}Aba(a,d,c){"string"===typeof a?(a=this.UH(a,c))&&a.pa(d):a.pa(d)}tda(){const a={};for(const [d,
c]of this.Ee)a[d]=c.map(f=>f.ma());return a}wda(){return this.Zp.map(a=>a.wa())}Kda(){const a={};for(const [d,c]of this.qh)a[d]=c.map(f=>f.ma());return a}xda(){return this.ai?this.ai.wa():""}Yr(){this.wT()}OE(a){var d=b.vZ.D1(a.xf,a.Ei,a.re,a.ll,a.pl,this.K);const c=b.$b.Ku(a.xf);b.$b.sP(c)||this.tQ(a.xf);d=e.ac.wN({ic:this.I(),id:c,lE:a.lE,time:a.time,instance:this.K,eE:!!a.eE,loop:!!a.loop,aE:!!a.aE,Mt:a.Mt,Xt:d});d.hN(f=>this.qS(f));this.b9(d,a.xf);return d}jA(a,d=!1){var c=a.Lg();if(this.Ee.has(c)&&
(c=this.Ee.get(c))){const f=c.indexOf(a);-1!==f&&c.splice(f,1)}a.ne||this.WH(a)||(a.Jd(d),this.Z8(a))}tQ(a,d=!1){if(e.Wi(a)){var c=b.$b.Ku(a);if(this.Ee.has(c)){c=this.Ee.get(c);var f=this.ai;for(var k of c)k===f||k.ne||this.WH(k)||(k.Jd(d),k.m());e.F(c)}}else{k=this.ai;for(c of this.wh())c===k||c.ne||this.WH(c)||(c.Jd(d),c.m());for(f of this.Ee.keys())e.F(this.Ee.get(f)),this.Ee.delete(f);this.Ee.clear()}}N5(a){this.jA(a,!0)}O5(){this.tQ(NaN,!0)}Xb(a){switch(a){case 0:return this.Va}}ff(a,d){switch(a){case 0:this.Va=
!!d}}daa(a){a=a.Ea().Ic;for(const d of a)if(a=d.Ig(),a.Ow===this.constructor)return a}U(a,d,c,f){return this.j?super.U(a):d.U(a,c,f)}qS(a){this.ai=a;b.G.UQ(a);let d,c;if(this.I())d=this.K,c=this.j,this.U(b.G.iG),this.U(b.G.LP),this.jA(a);else{d=a.Ea();if(!d||d&&d.Yu())return;c=d.I();const f=this.daa(a);this.U(b.G.iG,c,d,f);this.U(b.G.LP,c,d,f);a.Jd()}this.ai=null;b.G.UQ(null);a.CB&&c.sl(d)}b9(a,d){d=b.$b.Ku(d);this.Ee.has(d)||this.Ee.set(d,[]);this.Ee.get(d).push(a)}Z8(a){const d=a.Lg();this.qh.has(d)||
this.qh.set(d,[]);this.qh.get(d).push(a)}WH(a){const d=a.Lg();return this.qh.has(d)?this.qh.get(d).includes(a):!1}wT(){if(this.qh.size){for(const a of this.qh.values()){for(const d of a)d.ne||d.m();e.F(a)}this.qh.clear()}}}}
{"use strict";const e=self.B;let b=null;e.qa.ac.G={UQ(a){b=a},iG(a){return b.GF(a)},LP(){return!0},IsPlaying(a){return(a=[...this.VO(a)],a.length)?a.some(e.ac.IsPlaying):!1},eP(){const a=[...this.mN()];return a&&a.length?a.some(e.ac.IsPlaying):!1},av(a){return(a=[...this.VO(a)],a.length)?a.some(e.ac.av):!1},Mla(){const a=[...this.mN()];return a&&a.length?a.some(e.ac.av):!1}}}
{"use strict";const e=self.B,b=self.cp,a=e.qa.ac;a.Qa={rv(d){this.rv(!!d);for(const c of this.wh())d?this.C3(c)&&c.wG():((c.IsPlaying()||c.Hj)&&this.xY(c),c.Jd());d&&this.GN()},async i8(...d){this.Va&&this.Jb()&&(d=this.OE(a.nH.n5(...d)),d.Play()&&await d.Ju())},async ksa(...d){this.Va&&this.Jb()&&(d=this.OE(a.nH.j8(...d)),d.Play()&&await d.Ju())},async lsa(...d){this.Va&&this.Jb()&&(d=this.OE(a.nH.t8(...d)),d.Play()&&await d.Ju())},Gna(d){if(this.Va&&this.Jb())for(const c of this.Eh(d))c.Jd()},Fna(){if(this.Va&&
this.Jb())for(const d of this.wh())d.Jd()},upa(d){if(this.Va&&this.Jb())for(const c of this.Eh(d))c.wG()},tpa(){if(this.Va&&this.Jb())for(const d of this.wh())d.wG()},Kra(d){if(this.Va&&this.Jb())for(const c of this.Eh(d))this.jA(c)},Gra(){if(this.Va&&this.Jb())for(const d of this.wh())this.jA(d)},$qa(d,c,f){if(this.Va&&this.Jb()){c=e.qa.ac.$b.QO(c);for(const k of this.Eh(d))k.zE([c]),k.oA(f,c)}},mra(d,c,f,k){if(this.Va&&this.Jb()){c=e.qa.ac.$b.E1(c);for(const h of this.Eh(d))h.zE(c),h.oA(f,c[0]),
h.oA(k,c[1])}},pra(d,c){if(this.Va&&this.Jb())for(const f of this.Eh(d,"value"))f.nR(c,"value")},ora(d,c){if(this.Va&&this.Jb())for(const f of this.Eh(d,"value"))f.zE(["value"]),f.oA(c,"value")},jra(d,c){if(this.Va&&this.Jb()){c=b.Bl(c);for(const f of this.Eh(d))f.df(c)}},Rpa(d){if(this.Va&&this.Jb()){d=b.Bl(d);for(const c of this.wh())c.df(d)}},lra(d,c){if(this.Va&&this.Jb())for(const f of this.Eh(d))f.Vg(c)},Tpa(d){if(this.Va&&this.Jb())for(const c of this.wh())c.Vg(d)},kra(d,c){if(this.Va&&this.Jb())for(const f of this.Eh(d))f.Gn(c)},
Spa(d){if(this.Va&&this.Jb())for(const c of this.wh())c.Gn(d)},ira(d,c){if(this.Va&&this.Jb())for(const f of this.Eh(d))f.CG(!!c)},Qpa(d){if(this.Va&&this.Jb())for(const c of this.wh())c.CG(!!d)}}}"use strict";self.B.qa.ac.sb={asa(e){return(e=this.yF(e))?e.xa():0},roa(e){return(e=this.yF(e))?e.xa()/e.Lc():0},zsa(e){return(e=this.yF(e,"value"))?e.ek("value").I1():0},Xra(){return this.ai?this.ai.K1():""}};
{"use strict";const e=self.B,b=self.cp,a=["position","size","scale"],d="offsetX offsetY offsetWidth offsetHeight offsetAngle offsetOpacity offsetColor offsetZElevation offsetScaleX offsetScaleY".split(" "),c=[].concat(a).concat(d).concat(["value"]),f={position:["offsetX","offsetY"],size:["offsetWidth","offsetHeight"],scale:["offsetScaleX","offsetScaleY"]},k=Object.assign({},c.reduce((h,l)=>Object.assign({},h,{[l]:[l]}),{}),f);e.qa.ac.$b=class{constructor(){}static Bl(h){return[...b.IO()][h]}static Ku(h){return c[h]}static Cz(h){return c.indexOf(h)}static w1(h){return a[h]}static QO(h){return d[h]}static v1(h){return f[h]}static E1(h){return e.Hh(h)?
k[h]:k[c[h]]}static G3(h){return!!f[h]}static NF(h){return"offsetColor"===h}static t3(h){return"offsetAngle"===h}static F3(h){return"offsetOpacity"===h}static sP(h){return"value"===h}}}
{"use strict";const e=self.B,b=e.qa.ac,a=new Map;b.vZ=class{constructor(){}static D1(d,c,f,k,h,l){0===a.size&&this.x9();var n=b.kQ.r5(d);n=a.get(n);e.Wi(d)&&(d=b.$b.Ku(d));return this.jaa(n,d,c,f,k,h,l)}static x9(){const d=b.kQ,c=b.s8;this.Jv(d.eQ,this.uaa,c.SH);this.Jv(d.COLOR,this.gaa,c.haa);this.Jv(d.gN,this.baa,c.xaa);this.Jv(d.FR,this.Eaa,c.SH);this.Jv(d.HP,this.iaa,c.SH)}static Jv(d,c,f){a.set(d,this.w9(d,c,f))}static w9(d,c,f){return{name:d,Zga:c,VX:f}}static jaa(d,c,f,k,h,l,n){return d.Zga(c,
d.VX(f),d.VX(k),h,l,n)}static uaa(d,c,f,k,h){return b.$b.v1(d).map((l,n)=>({au:"world-instance",xf:l,type:"float",valueType:"numeric",Ei:c[n],re:f[n],ll:b.$b.Bl(k),pl:h}))}static gaa(d,c,f,k,h,l){return e.C.Text&&l.Gb()instanceof e.C.Text?{au:"plugin",uia:[7],xf:"color",type:"color",valueType:"color",Ei:c,re:f,ll:b.$b.Bl(k),pl:h}:{au:"world-instance",xf:d,type:"color",valueType:"color",Ei:c,re:f,ll:b.$b.Bl(k),pl:h}}static baa(d,c,f,k,h){return{au:"world-instance",xf:d,type:"angle",valueType:"angle",
Ei:c,re:f,ll:b.$b.Bl(k),pl:h}}static iaa(d,c,f,k,h){return{au:"world-instance",xf:d,type:"float",valueType:"numeric",Ei:c,re:f,ll:b.$b.Bl(k),pl:h}}static Eaa(d,c,f,k,h){return{au:"value",xf:d,type:"float",valueType:"numeric",Ei:c,re:f,ll:b.$b.Bl(k),pl:h}}}}
{"use strict";const e=self.B,b=e.qa.ac,a=Object.assign({},{pl:"absolute"},{lE:"",xf:"",time:0,ll:0,eE:0,loop:!1,aE:!1}),d=Object.assign({},a,{Mt:"current-state",Ei:0,re:0}),c=Object.assign({},a,{Mt:"current-state",Ei:[0,0],re:[0,0]}),f=Object.assign({},a,{Mt:"current-state",Ei:[0,0,0],re:[0,0,0]}),k=Object.assign({},d,{Mt:"start-value"});b.nH=class{constructor(){}static uI(h,l,n,p,u,q,v){h.lE=l;h.time=n;h.ll=p;h.eE=u;h.loop=q;h.aE=v}static n5(h,l,n,p,u,q,v,r){l=b.$b.QO(l);const w=b.$b.NF(l)?f:d;this.uI(w,
h,p,u,q,v,r);b.$b.NF(l)?(f.re[0]=e.Dz(n),f.re[1]=e.yz(n),f.re[2]=e.jz(n),f.xf=b.$b.Cz(l)):d.re=b.$b.F3(l)?n/100:n;w.xf=b.$b.Cz(l);return w}static j8(h,l,n,p,u,q,v,r,w){this.uI(c,h,u,q,v,r,w);h=b.$b.w1(l);c.re[0]=n;c.re[1]=p;c.xf=b.$b.Cz(h);return c}static t8(h,l,n,p,u,q,v,r){this.uI(k,h,p,u,q,v,r);k.Ei=l;k.re=n;k.xf=b.$b.Cz("value");return k}}}
{"use strict";const e=self.B,b=e.qa.ac,a=[];b.kQ=class{constructor(){}static r5(d){0===a.length&&(a.push({Xq:b.$b.G3,result:this.eQ}),a.push({Xq:b.$b.NF,result:this.COLOR}),a.push({Xq:b.$b.t3,result:this.gN}),a.push({Xq:b.$b.sP,result:this.FR}),a.push({Xq:()=>!0,result:this.HP}));e.Wi(d)&&(d=e.qa.ac.$b.Ku(d));for(const c of a)if(c.Xq(d))return c.result}static get eQ(){return"pair"}static get COLOR(){return"color"}static get gN(){return"angle"}static get FR(){return"value"}static get HP(){return"other"}}}
{"use strict";const e=self.B;e.qa.ac.s8=class{constructor(){}static xaa(b){return e.kd(e.Pa(parseFloat(b)))}static haa(b){return b.slice(0)}static SH(b){return b}}}{"use strict";const e=self.B;e.qa.Yj=class extends e.lv{constructor(b){super(b)}m(){super.m()}}}{"use strict";const e=self.B;e.qa.Yj.Lf=class extends e.nv{constructor(b){super(b)}m(){super.m()}mc(){}}}
{"use strict";const e=self.B;e.qa.Yj.Instance=class extends e.mv{constructor(b,a){super(b);this.dm=this.el=this.Kk=0;this.eB=this.Ds=!0;this.yW=!1;this.qd=0;this.Yk=e.D(e.Ar);this.no=this.K.A().Ud()||1;a&&(this.Kk=a[0],this.el=a[1],this.dm=a[2],this.Ds=!!a[3],this.qd=(this.eB=!!a[4])?0:3);this.eB&&(0===this.Kk?(this.qd=1,0===this.el&&(this.qd=2)):(this.K.A().ef(0),this.j.M()));this.Zg()}m(){super.m()}Dc(){return{fit:this.Kk,wt:this.el,fot:this.dm,d:this.Ds,s:this.qd,st:this.Yk.$(),mo:this.no}}lc(b){this.Kk=
b.fit;this.el=b.wt;this.dm=b.fot;this.Ds=b.d;this.qd=b.s;this.Yk.Set(b.st);this.no=b.mo}Kd(){this.Yk.yc(this.j.Zj(this.K));const b=this.K.A();0===this.qd&&(b.ef(this.Yk.$()/this.Kk*this.no),this.j.M(),b.Ud()>=this.no&&(b.ef(this.no),this.qd=1,this.Yk.Nc(),this.U(e.qa.Yj.G.L4)));1===this.qd&&this.Yk.$()>=this.el&&(this.qd=2,this.Yk.Nc(),this.U(e.qa.Yj.G.l5));2===this.qd&&0!==this.dm&&(b.ef(this.no-this.Yk.$()/this.dm*this.no),this.j.M(),0>=b.Ud()&&(this.qd=3,this.Yk.Nc(),this.U(e.qa.Yj.G.M4),this.Ds&&
this.j.sl(this.K)))}In(){this.qd=0;this.Yk.Nc();0===this.Kk?(this.qd=1,0===this.el&&(this.qd=2)):(this.K.A().ef(0),this.j.M())}Xb(b){switch(b){case 0:return this.Kk;case 1:return this.el;case 2:return this.dm;case 3:return this.Ds}}ff(b,a){switch(b){case 0:this.Kk=a;break;case 1:this.el=a;break;case 2:this.dm=a;break;case 3:this.Ds=!!a}}}}"use strict";self.B.qa.Yj.G={M4(){return!0},L4(){return!0},l5(){return!0}};"use strict";
self.B.qa.Yj.Qa={Dra(){this.eB||this.yW||(this.no=this.K.A().Ud()||1,this.yW=!0);3===this.qd&&this.In()},opa(){this.In()},kqa(e){0>e&&(e=0);this.Kk=e},qra(e){0>e&&(e=0);this.el=e},lqa(e){0>e&&(e=0);this.dm=e}};"use strict";self.B.qa.Yj.sb={Qka(){return this.Kk},Dsa(){return this.el},Rka(){return this.dm}};{"use strict";const e=self.B;e.qa.Cg=class extends e.lv{constructor(b){super(b)}m(){super.m()}}}{"use strict";const e=self.B;e.qa.Cg.Lf=class extends e.nv{constructor(b){super(b)}m(){super.m()}mc(){}}}
{"use strict";const e=self.B,b=self.yh,a=self.aP;e.qa.Cg.Instance=class extends e.mv{constructor(c,f){super(c);c=this.A();this.Ga=this.$g=this.Lx=0;this.co=this.Xk=this.oj=!1;this.dc=!0;this.Kb=this.Tb=0;this.Rk=c.da();this.Sk=c.ea();this.uq=c.ua();this.Oq=0;this.qD=Math.min(Math.abs(c.X()),Math.abs(c.W())/2);this.FL=!1;f&&(this.Lx=f[0],this.$g=f[1],this.Ga=f[2],this.oj=!!f[3],this.Xk=!!f[4],this.co=!!f[5],this.dc=!!f[6]);f=c.ua();this.Tb=Math.cos(f)*this.Lx;this.Kb=Math.sin(f)*this.Lx;this.dc&&(this.Zg(),
this.oj&&this.BI())}m(){super.m()}Dc(){const c={dx:this.Tb,dy:this.Kb,lx:this.Rk,ly:this.Sk,lka:this.uq,t:this.Oq};0!==this.$g&&(c.acc=this.$g);0!==this.Ga&&(c.g=this.Ga);this.co&&(c.st=this.co);this.dc||(c.e=this.dc);this.oj&&(c.bos=this.oj);this.Xk&&(c.sa=this.Xk);return c}lc(c){this.Tb=c.dx;this.Kb=c.dy;this.Rk=c.lx;this.Sk=c.ly;this.uq=c.lka;this.Oq=c.t;this.$g=c.hasOwnProperty("acc")?c.acc:0;this.Ga=c.hasOwnProperty("g")?c.g:0;this.co=c.hasOwnProperty("st")?c.st:!1;this.oj=c.hasOwnProperty("bos")?
c.bos:!1;this.Xk=c.hasOwnProperty("sa")?c.sa:!1;this.aw(c.hasOwnProperty("e")?c.e:!0)}Kd(){if(this.dc){var c=this.j.Zj(this.K),f=this.K.A();if(f.ua()!==this.uq){var k=f.ua();if(this.Xk){var h=e.yg(0,0,this.Tb,this.Kb);this.Tb=Math.cos(k)*h;this.Kb=Math.sin(k)*h}this.uq=k}k=h=0;if(0!==this.$g){let l=e.yg(0,0,this.Tb,this.Kb),n;n=0===this.Tb&&0===this.Kb?f.ua():e.jl(0,0,this.Tb,this.Kb);l+=this.$g*c;h=Math.cos(n)*this.$g;k=Math.sin(n)*this.$g;0>l&&(k=h=l=0);this.Tb=Math.cos(n)*l;this.Kb=Math.sin(n)*
l}0!==this.Ga&&(this.Kb+=this.Ga*c,k+=this.Ga);this.Rk=f.da();this.Sk=f.ea();if(0!==this.Tb||0!==this.Kb)h=this.Tb*c+.5*h*c*c,c=this.Kb*c+.5*k*c*c,k=e.yg(0,0,h,c),this.Qba(h,c,k),this.Oq+=k,!this.Xk||0===h&&0===c||(f.pd(e.jl(0,0,h,c)),this.uq=f.ua()),f.Ca()}}Qba(c,f,k){const h=this.A();if(!this.co||k<=this.qD)h.rn(c,f),h.Ca(),this.co&&this.U(e.qa.Cg.G.hG);else{this.FL=!1;var l=h.da(),n=h.ea(),p=l+c,u=n+f;f=e.jl(0,0,c,f);c=Math.cos(f)*this.qD;f=Math.sin(f)*this.qD;k=Math.floor(k/this.qD);for(let q=
1;q<=k;++q)if(h.Dd(l+c*q,n+f*q),h.Ca(),this.U(e.qa.Cg.G.hG),this.K.Yu()||this.FL)return;h.Dd(p,u);h.Ca();this.U(e.qa.Cg.G.hG)}}kG(){if(this.dc&&this.oj&&(0!==this.Tb||0!==this.Kb)){var c=this.j.Zj(this.K),f=this.K.A(),k=this.j.Nf,h=k.Jn(this.K);if(h){k.L5(this.K,h);h=e.yg(0,0,this.Tb,this.Kb);const l=k.yN(this.K,this.Rk,this.Sk);this.Tb=Math.cos(l)*h;this.Kb=Math.sin(l)*h;f.rn(this.Tb*c,this.Kb*c);f.Ca();this.Xk&&(f.pd(l),this.uq=f.ua(),f.Ca());k.mQ(this.K,this.Tb/h,this.Kb/h,Math.max(2.5*h*c,30))||
k.nQ(this.K)}}}Xb(c){switch(c){case 0:return this.TH();case 1:return this.$g;case 2:return this.Ga;case 4:return this.Xk;case 5:return this.co;case 6:return this.dc}}ff(c,f){switch(c){case 0:this.yI(f);break;case 1:this.$g=f;break;case 2:this.Ga=f;break;case 4:this.Xk=!!f;break;case 5:this.co=!!f;break;case 6:this.aw(!!f)}}yI(c){const f=e.jl(0,0,this.Tb,this.Kb);this.Tb=Math.cos(f)*c;this.Kb=Math.sin(f)*c}TH(){return e.TM(e.yg(0,0,this.Tb,this.Kb))}MT(c){this.$g=c}hea(c){this.Ga=c}Nda(c){const f=
e.yg(0,0,this.Tb,this.Kb);this.Tb=Math.cos(c)*f;this.Kb=Math.sin(c)*f}caa(){return e.jl(0,0,this.Tb,this.Kb)}Uda(c){c=!!c;this.oj!==c&&(this.oj=c,this.dc&&(this.oj?this.BI():this.CI()))}$da(c){this.Oq=c}aw(c){(this.dc=!!c)?(this.Zg(),this.oj&&this.BI()):(this.ms(),this.CI())}jg(){return self.q2}};const d=new WeakMap;self.q2=class extends a{constructor(){super();d.set(this,a.Mn().ka)}get speed(){return d.get(this).TH()}set speed(c){b.Zi(c);d.get(this).yI(c)}get acceleration(){return d.get(this).$g}set acceleration(c){b.Zi(c);
d.get(this).MT(c)}get isEnabled(){return d.get(this).dc}set isEnabled(c){d.get(this).aw(c)}}}{"use strict";const e=self.B;e.qa.Cg.G={dka(b,a){return e.compare(Math.sqrt(this.Tb*this.Tb+this.Kb*this.Kb),b,a)},gka(b,a){return e.compare(this.Oq,b,a)},hG(){return!0},Fh(){return this.dc}}}
{"use strict";const e=self.B;e.qa.Cg.Qa={q7(b){this.yI(b)},Ppa(b){this.MT(b)},qqa(b){this.hea(b)},x6(b){this.Nda(e.Pa(b))},Lja(b){if(b&&(b=b.hp(this.K))){var a=this.K.A(),d=this.j.Nf,c=this.j.Zj(this.K),f=e.yg(0,0,this.Tb,this.Kb),k=d.yN(this.K,this.Rk,this.Sk,b);this.Tb=Math.cos(k)*f;this.Kb=Math.sin(k)*f;a.rn(this.Tb*c,this.Kb*c);a.Ca();this.Xk&&(a.pd(k),this.uq=a.ua(),a.Ca());0!==f&&(this.oj?d.mQ(this.K,this.Tb/f,this.Kb/f,Math.max(2.5*f*c,30))||d.nQ(this.K):d.F5(this.K,this.Tb/f,this.Kb/f,Math.max(2.5*
f*c,30),b))}},Zpa(b){this.Uda(b)},fqa(b){this.$da(b)},rv(b){this.aw(b)},Jra(){this.FL=!0}}}{"use strict";const e=self.B;e.qa.Cg.sb={S7(){return this.TH()},Ria(){return this.$g},wja(){return e.Bg(this.caa())},Fka(){return this.Oq},pla(){return this.Ga}}}{"use strict";const e=self.B;e.qa.Wo=class extends e.lv{constructor(b){super(b);this.rL=this.hD=this.Gx=this.qL=0}m(){super.m()}kR(b){this.qL=b}mR(b){this.Gx=b}jR(b){this.hD=b}lR(b){this.rL=b}}}{"use strict";const e=self.B;e.qa.Wo.Lf=class extends e.nv{constructor(b){super(b)}m(){super.m()}mc(){}}}
{"use strict";const e=self.B;e.qa.Wo.Instance=class extends e.mv{constructor(b,a){super(b);this.dc=!0;a&&(this.dc=a[0]);this.dc&&this.On()}m(){super.m()}Dc(){const b=this.Hg();return{e:this.dc,smg:b.qL,ss:b.Gx,se:b.hD,smd:b.rL}}lc(b){const a=this.Hg();a.kR(b.smg);a.mR(b.ss);a.jR(b.se);a.lR(b.smd);(this.dc=b.e)?this.On():this.Pn()}Fh(){return this.dc}Yr(){if(this.Fh()){var b=this.Hg(),a=b.na(),d=0,c=0,f=0;for(var k of a)(a=k.z0(e.qa.Wo))&&a.ka.Fh()&&(a=k.A(),d+=a.da(),c+=a.ea(),++f);k=this.K.A().kc();
var h=this.j.Ye(),l=a=0;h>=b.Gx&&h<b.hD&&(a=b.qL*Math.min(this.j.Qd,1),0===b.rL&&(a*=1-(h-b.Gx)/(b.hD-b.Gx)),b=this.j.vn()*Math.PI*2,h=this.j.vn()*a,a=Math.cos(b)*h,l=Math.sin(b)*h);k.Lh(d/f+a);k.Mh(c/f+l)}}Xb(b){switch(b){case 0:return this.dc}}ff(b,a){switch(b){case 0:(this.dc=!!a)?this.On():this.Pn()}}}}"use strict";self.B.qa.Wo.G={Fh(){return this.dc}};"use strict";
self.B.qa.Wo.Qa={J7(e,b,a){const d=this.Hg();d.kR(e);d.mR(this.j.Ye());d.jR(this.j.Ye()+b);d.lR(a)},rv(e){(this.dc=0!==e)?this.On():this.Pn()}};"use strict";self.B.qa.Wo.sb={};{"use strict";const e=self.B;e.qa.Ah=class extends e.lv{constructor(b){super(b)}m(){super.m()}}}{"use strict";const e=self.B;e.qa.Ah.Lf=class extends e.nv{constructor(b){super(b)}m(){super.m()}mc(){}}}
{"use strict";const e=self.B;e.qa.Ah.Instance=class extends e.mv{constructor(b){super(b);this.al=this.Zk=this.qd=this.SC=this.TC=0;this.Zg()}m(){super.m()}Dc(){return{on:this.TC,off:this.SC,s:this.qd,stl:this.Zk,tl:this.al}}lc(b){this.TC=b.on;this.SC=b.off;this.qd=b.s;this.Zk=b.stl;this.al=null===b.tl?Infinity:b.tl}Kd(){if(!(0>=this.al)){var b=this.j.Zj(this.K);this.al-=b;if(0>=this.al)return this.al=0,this.K.A().Ae(!0),this.j.M(),this.ru(e.qa.Ah.G.N4);this.Zk-=b;0>=this.Zk&&(0===this.qd?(this.K.A().Ae(!1),
this.qd=1,this.Zk+=this.SC):(this.K.A().Ae(!0),this.qd=0,this.Zk+=this.TC),this.j.M())}}}}"use strict";self.B.qa.Ah.G={Zla(){return 0<this.al},N4(){return!0}};"use strict";self.B.qa.Ah.Qa={Ah(e,b,a){this.TC=e;this.SC=b;this.qd=1;this.Zk=b;this.al=a;this.K.A().Ae(!1);this.j.M()},Y7(){this.al=0;this.K.A().Ae(!0);this.j.M()}};"use strict";self.B.qa.Ah.sb={};
{const e=self.B;self.xN=function(){return[e.C.wk,e.C.Xd,e.C.Touch,e.C.Text,e.qa.ac,e.C.nc,e.qa.Yj,e.qa.Cg,e.qa.Wo,e.C.Audio,e.qa.Ah,e.C.Keyboard,e.C.Gi,e.C.Ta.G.b6,e.C.Gi.Qa.Xu,e.C.Ta.sb.Sha,e.C.Ta.sb.random,e.C.Gi.sb.Vj,e.C.Gi.Qa.rl,e.C.Gi.G.pZ,e.C.Ta.G.h8,e.C.Touch.G.aQ,e.C.Text.G.nZ,e.C.Text.G.oZ,e.C.Ta.Qa.D6,e.C.Audio.Qa.X7,e.C.Audio.Qa.R5,e.C.Ta.G.rZ,e.C.Audio.Qa.Play,e.C.Text.Qa.Dv,e.C.Ta.Qa.pH,e.C.Audio.Qa.dY,e.C.Audio.G.PP,e.C.Ta.sb.Cha,e.C.Gi.sb.rH,e.C.Keyboard.G.QP,e.C.Ta.G.UP,e.C.Ta.Qa.f6,
e.C.Ta.G.eO,e.qa.ac.Qa.i8,e.qa.ac.G.iG,e.C.Ta.G.mZ,e.C.Ta.G.h0,e.C.Ta.Qa.F7,e.C.Text.Qa.pA,e.C.Ta.sb.eX,e.C.Ta.Qa.QN,e.C.nc.sb.F2,e.C.nc.sb.G2,e.C.nc.Qa.ef,e.C.nc.Qa.y6,e.C.nc.Qa.J6,e.qa.Wo.Qa.J7,e.C.Text.Qa.P6,e.C.nc.sb.KY,e.C.nc.sb.pN,e.C.nc.Qa.Z6,e.qa.Cg.Qa.x6,e.qa.Cg.Qa.q7,e.qa.Cg.sb.S7,e.C.nc.Qa.Fc,e.C.nc.sb.rH,e.C.nc.sb.$O,e.C.nc.sb.LY,e.C.Ta.G.lZ,e.C.Ta.G.i0,e.C.Ta.sb.Lia,e.C.Ta.G.s5,e.C.Text.Qa.Oh,e.C.wk.sb.qN,e.C.wk.sb.pN,e.C.Text.G.qZ,e.C.Audio.Qa.Gn,e.qa.Ah.Qa.Ah,e.qa.Ah.Qa.Y7,e.C.nc.G.OP,
e.C.nc.sb.qN,e.C.Touch.G.bQ,e.C.Audio.G.O3,e.C.Touch.G.$P,e.C.Ta.Qa.c8,e.C.Text.Qa.ef,e.C.Audio.Qa.G7,e.qa.ac.G.eP,e.C.Audio.sb.AY]};self.SY=[{$ra:0},{Xd:0},{Touch:0},{Pma:0},{ac:0},{csa:0},{Gpa:0},{Yj:0},{Cg:0},{Osa:0},{Tma:0},{tka:0},{Fla:0},{Sja:0},{Tja:0},{Ipa:0},{rka:0},{spa:0},{Kpa:0},{Pja:0},{Audio:0},{goa:0},{Ah:0},{Yka:0},{vra:0},{Keyboard:0},{Array:0},{fna:0},{gla:0},{Ika:0},{bsa:0},{Gja:0},{Jsa:0},{Ksa:0},{Bja:0},{qka:0},{Ela:0},{hoa:0},{$ka:0},{qla:0},{esa:0},{Zka:0},{Xka:0},{ena:0}]}
{const e=self.B;function b(a,d){return"string"===typeof a||"string"===typeof d?("number"===typeof a?(Math.round(1E10*a)/1E10).toString():a)+("number"===typeof d?(Math.round(1E10*d)/1E10).toString():d):a&&d?1:0}self.RY=[()=>5,a=>{const d=a.bb(0).zd();return()=>d()+1},a=>{const d=a.bb(0).zd(),c=a.bb(1).zd();return()=>Math.round(d(c()))},a=>{const d=a.bb(0),c=a.bb(1).lf;return()=>d.Wm(c.Yb())},a=>{const d=a.bb(0).lf;return()=>d.Yb()},()=>0,()=>"Start",()=>100,()=>"music",()=>1,()=>"\u266c Alex Preston - Windy Wendy \u266c",
()=>2,()=>1.5,()=>"\u266c Just - Windy Williams \u266c",()=>3,()=>-2,()=>"\u266c Boges - Windy Williams \u266c",()=>4,()=>"\u266c Tom Hale - windy \u266c",()=>-1.5,()=>"\u266c Grvsh - 808WINDY FARTBEAT \u266c",()=>.5,()=>512,a=>{const d=a.bb(0).zd(),c=a.bb(1).zd(),f=a.bb(2);return()=>d(c(f.Wm()))},()=>"",()=>"show",()=>"hide",a=>{const d=a.bb(0).lf;return()=>e.ca(d.Yb()-1,0,3)},()=>200,()=>"BEGIN!",()=>128,a=>{const d=a.bb(0).zd();return()=>d(1,2)},()=>"Ryan Kavanaugh",()=>"Harvey Weinstein",()=>
"Effects",a=>{const d=a.bb(0);return()=>d.Wm(1)},a=>{const d=a.bb(0).zd();return()=>b("Ryan",d(1,2,3,4,5,6))},a=>{const d=a.bb(0).zd();return()=>b("Harvey",d(1,2,3,4,5,6))},a=>{const d=a.bb(0).lf;return()=>e.ca(d.Yb()-1,1,15)},()=>"RadialPixellate",a=>{const d=a.bb(0).lf;return()=>e.ca(d.Yb(),1,100)},()=>"Pixellate",()=>20,a=>{const d=a.bb(0).lf,c=a.bb(1).lf,f=a.bb(2).lf;return()=>d.Yb()+c.Yb()*(f.Yb()+1)},()=>"CORRECT",()=>-28054726482943,()=>70,a=>{const d=a.bb(0).zd();return()=>d()/130},a=>{const d=
a.bb(0);return()=>d.Wm()},a=>{const d=a.bb(0),c=a.bb(1).zd();return()=>d.Wm()+c(-24,24)},a=>{const d=a.bb(0).zd();return()=>d(.5,1,1.5)},a=>{const d=a.bb(0).zd();return()=>320+d(-20,20)},a=>{const d=a.bb(0),c=a.bb(1).zd();return()=>d.j0()*c(2,3)},a=>{const d=a.bb(0),c=a.bb(1);return()=>d.Wm()*c.$N()},a=>{const d=a.bb(0).zd();return()=>220+d(-20,20)},a=>{const d=a.bb(0).zd();return()=>d(100)},a=>{const d=a.bb(0).lf;return()=>d.Yb()-10},()=>"WRONG",()=>-281476688092159,a=>{const d=a.bb(0).zd();return()=>
d()/50},()=>15,a=>{const d=a.bb(0).lf,c=a.bb(1).lf;return()=>b("Points Available : ",d.Yb()*(c.Yb()+1))},a=>{const d=a.bb(0).zd(),c=a.bb(1).lf;return()=>"Score : "+d(c.Yb(),0)},a=>{const d=a.bb(0);return()=>d.$N()},a=>{const d=a.bb(0),c=a.bb(1);return()=>(d.Wm()+c.Wm())/2},()=>"3",()=>-5,()=>"beep",()=>.4,()=>"2",()=>.6,()=>"1",()=>.8,()=>"Begin!",()=>"FLIPPED BONUS!",()=>.1,()=>1E3,()=>.2,()=>180,()=>"Grayscale",a=>{const d=a.bb(0).zd();return()=>d(1,2,3,4,5)},()=>50,()=>-1E3,()=>320,a=>{const d=
a.bb(0).zd();return()=>e.ca(700+15*d("music",0),0,1E3)}]};
